function Ij(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const A=Object.getOwnPropertyDescriptor(n,s);A&&Object.defineProperty(e,s,A.get?A:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const A of s)if(A.type==="childList")for(const i of A.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const A={};return s.integrity&&(A.integrity=s.integrity),s.referrerPolicy&&(A.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?A.credentials="include":s.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function n(s){if(s.ep)return;s.ep=!0;const A=r(s);fetch(s.href,A)}})();function Tj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Hw={exports:{}},Wc={},Ow={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=Symbol.for("react.element"),Dj=Symbol.for("react.portal"),Lj=Symbol.for("react.fragment"),Pj=Symbol.for("react.strict_mode"),Hj=Symbol.for("react.profiler"),Oj=Symbol.for("react.provider"),Rj=Symbol.for("react.context"),Mj=Symbol.for("react.forward_ref"),zj=Symbol.for("react.suspense"),Kj=Symbol.for("react.memo"),Vj=Symbol.for("react.lazy"),gp=Symbol.iterator;function $j(e){return e===null||typeof e!="object"?null:(e=gp&&e[gp]||e["@@iterator"],typeof e=="function"?e:null)}var Rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mw=Object.assign,zw={};function ra(e,t,r){this.props=e,this.context=t,this.refs=zw,this.updater=r||Rw}ra.prototype.isReactComponent={};ra.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ra.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kw(){}Kw.prototype=ra.prototype;function hm(e,t,r){this.props=e,this.context=t,this.refs=zw,this.updater=r||Rw}var fm=hm.prototype=new Kw;fm.constructor=hm;Mw(fm,ra.prototype);fm.isPureReactComponent=!0;var pp=Array.isArray,Vw=Object.prototype.hasOwnProperty,mm={current:null},$w={key:!0,ref:!0,__self:!0,__source:!0};function Gw(e,t,r){var n,s={},A=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(A=""+t.key),t)Vw.call(t,n)&&!$w.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:no,type:e,key:A,ref:i,props:s,_owner:mm.current}}function Gj(e,t){return{$$typeof:no,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gm(e){return typeof e=="object"&&e!==null&&e.$$typeof===no}function Wj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xp=/\/+/g;function Pu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wj(""+e.key):t.toString(36)}function Bl(e,t,r,n,s){var A=typeof e;(A==="undefined"||A==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(A){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case no:case Dj:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Pu(i,0):n,pp(s)?(r="",e!=null&&(r=e.replace(xp,"$&/")+"/"),Bl(s,t,r,"",function(u){return u})):s!=null&&(gm(s)&&(s=Gj(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(xp,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",pp(e))for(var o=0;o<e.length;o++){A=e[o];var l=n+Pu(A,o);i+=Bl(A,t,r,l,s)}else if(l=$j(e),typeof l=="function")for(e=l.call(e),o=0;!(A=e.next()).done;)A=A.value,l=n+Pu(A,o++),i+=Bl(A,t,r,l,s);else if(A==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function vo(e,t,r){if(e==null)return e;var n=[],s=0;return Bl(e,n,"","",function(A){return t.call(r,A,s++)}),n}function qj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Cl={transition:null},Jj={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:mm};function Ww(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:vo,forEach:function(e,t,r){vo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vo(e,function(){t++}),t},toArray:function(e){return vo(e,function(t){return t})||[]},only:function(e){if(!gm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=ra;he.Fragment=Lj;he.Profiler=Hj;he.PureComponent=hm;he.StrictMode=Pj;he.Suspense=zj;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jj;he.act=Ww;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Mw({},e.props),s=e.key,A=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(A=t.ref,i=mm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Vw.call(t,l)&&!$w.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:no,type:e.type,key:s,ref:A,props:n,_owner:i}};he.createContext=function(e){return e={$$typeof:Rj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Oj,_context:e},e.Consumer=e};he.createElement=Gw;he.createFactory=function(e){var t=Gw.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Mj,render:e}};he.isValidElement=gm;he.lazy=function(e){return{$$typeof:Vj,_payload:{_status:-1,_result:e},_init:qj}};he.memo=function(e,t){return{$$typeof:Kj,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Cl.transition;Cl.transition={};try{e()}finally{Cl.transition=t}};he.unstable_act=Ww;he.useCallback=function(e,t){return jt.current.useCallback(e,t)};he.useContext=function(e){return jt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};he.useEffect=function(e,t){return jt.current.useEffect(e,t)};he.useId=function(){return jt.current.useId()};he.useImperativeHandle=function(e,t,r){return jt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return jt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return jt.current.useReducer(e,t,r)};he.useRef=function(e){return jt.current.useRef(e)};he.useState=function(e){return jt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return jt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return jt.current.useTransition()};he.version="18.3.1";Ow.exports=he;var v=Ow.exports;const qc=Tj(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj=v,Yj=Symbol.for("react.element"),Zj=Symbol.for("react.fragment"),eN=Object.prototype.hasOwnProperty,tN=Xj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rN={key:!0,ref:!0,__self:!0,__source:!0};function qw(e,t,r){var n,s={},A=null,i=null;r!==void 0&&(A=""+r),t.key!==void 0&&(A=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)eN.call(t,n)&&!rN.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Yj,type:e,key:A,ref:i,props:s,_owner:tN.current}}Wc.Fragment=Zj;Wc.jsx=qw;Wc.jsxs=qw;Hw.exports=Wc;var a=Hw.exports,Wl={},Jw={exports:{}},Xt={},Xw={exports:{}},Yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,M){var $=k.length;k.push(M);e:for(;0<$;){var B=$-1>>>1,E=k[B];if(0<s(E,M))k[B]=M,k[$]=E,$=B;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var M=k[0],$=k.pop();if($!==M){k[0]=$;e:for(var B=0,E=k.length,S=E>>>1;B<S;){var Q=2*(B+1)-1,H=k[Q],U=Q+1,V=k[U];if(0>s(H,$))U<E&&0>s(V,H)?(k[B]=V,k[U]=$,B=U):(k[B]=H,k[Q]=$,B=Q);else if(U<E&&0>s(V,$))k[B]=V,k[U]=$,B=U;else break e}}return M}function s(k,M){var $=k.sortIndex-M.sortIndex;return $!==0?$:k.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var A=performance;e.unstable_now=function(){return A.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],u=[],c=1,d=null,h=3,m=!1,p=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=k)n(u),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(u)}}function b(k){if(y=!1,x(k),!p)if(r(l)!==null)p=!0,ie(_);else{var M=r(u);M!==null&&te(b,M.startTime-k)}}function _(k,M){p=!1,y&&(y=!1,g(j),j=-1),m=!0;var $=h;try{for(x(M),d=r(l);d!==null&&(!(d.expirationTime>M)||k&&!T());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var E=B(d.expirationTime<=M);M=e.unstable_now(),typeof E=="function"?d.callback=E:d===r(l)&&n(l),x(M)}else n(l);d=r(l)}if(d!==null)var S=!0;else{var Q=r(u);Q!==null&&te(b,Q.startTime-M),S=!1}return S}finally{d=null,h=$,m=!1}}var C=!1,N=null,j=-1,F=5,D=-1;function T(){return!(e.unstable_now()-D<F)}function G(){if(N!==null){var k=e.unstable_now();D=k;var M=!0;try{M=N(!0,k)}finally{M?I():(C=!1,N=null)}}else C=!1}var I;if(typeof f=="function")I=function(){f(G)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=G,I=function(){W.postMessage(null)}}else I=function(){w(G,0)};function ie(k){N=k,C||(C=!0,I())}function te(k,M){j=w(function(){k(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ie(_))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return k()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,M){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=h;h=k;try{return M()}finally{h=$}},e.unstable_scheduleCallback=function(k,M,$){var B=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,k){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=$+E,k={id:c++,callback:M,priorityLevel:k,startTime:$,expirationTime:E,sortIndex:-1},$>B?(k.sortIndex=$,t(u,k),r(l)===null&&k===r(u)&&(y?(g(j),j=-1):y=!0,te(b,$-B))):(k.sortIndex=E,t(l,k),p||m||(p=!0,ie(_))),k},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(k){var M=h;return function(){var $=h;h=M;try{return k.apply(this,arguments)}finally{h=$}}}})(Yw);Xw.exports=Yw;var nN=Xw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN=v,Jt=nN;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zw=new Set,pi={};function Ws(e,t){zA(e,t),zA(e+"Capture",t)}function zA(e,t){for(pi[e]=t,e=0;e<t.length;e++)Zw.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oh=Object.prototype.hasOwnProperty,AN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yp={},wp={};function aN(e){return oh.call(wp,e)?!0:oh.call(yp,e)?!1:AN.test(e)?wp[e]=!0:(yp[e]=!0,!1)}function iN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oN(e,t,r,n){if(t===null||typeof t>"u"||iN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,r,n,s,A,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=A,this.removeEmptyString=i}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var pm=/[\-:]([a-z])/g;function xm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pm,xm);ct[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pm,xm);ct[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pm,xm);ct[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ym(e,t,r,n){var s=ct.hasOwnProperty(t)?ct[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oN(t,r,s,n)&&(r=null),n||s===null?aN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yn=sN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bo=Symbol.for("react.element"),gA=Symbol.for("react.portal"),pA=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),lh=Symbol.for("react.profiler"),ev=Symbol.for("react.provider"),tv=Symbol.for("react.context"),vm=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),rv=Symbol.for("react.offscreen"),vp=Symbol.iterator;function ma(e){return e===null||typeof e!="object"?null:(e=vp&&e[vp]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Hu;function Ia(e){if(Hu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hu=t&&t[1]||""}return`
`+Hu+e}var Ou=!1;function Ru(e,t){if(!e||Ou)return"";Ou=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),A=n.stack.split(`
`),i=s.length-1,o=A.length-1;1<=i&&0<=o&&s[i]!==A[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==A[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==A[o]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{Ou=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ia(e):""}function lN(e){switch(e.tag){case 5:return Ia(e.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return e=Ru(e.type,!1),e;case 11:return e=Ru(e.type.render,!1),e;case 1:return e=Ru(e.type,!0),e;default:return""}}function dh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pA:return"Fragment";case gA:return"Portal";case lh:return"Profiler";case wm:return"StrictMode";case ch:return"Suspense";case uh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tv:return(e.displayName||"Context")+".Consumer";case ev:return(e._context.displayName||"Context")+".Provider";case vm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bm:return t=e.displayName||null,t!==null?t:dh(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return dh(e(t))}catch{}}return null}function cN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dh(t);case 8:return t===wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uN(e){var t=nv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,A=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,A.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bo(e){e._valueTracker||(e._valueTracker=uN(e))}function sv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hh(e,t){var r=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Av(e,t){t=t.checked,t!=null&&ym(e,"checked",t,!1)}function fh(e,t){Av(e,t);var r=Zn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mh(e,t.type,r):t.hasOwnProperty("defaultValue")&&mh(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mh(e,t,r){(t!=="number"||ql(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ta=Array.isArray;function IA(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function gh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(Ta(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zn(r)}}function av(e,t){var r=Zn(t.value),n=Zn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function _p(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ph(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Co,ov=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Co=Co||document.createElement("div"),Co.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Co.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dN=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(e){dN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qa[t]=qa[e]})});function lv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qa.hasOwnProperty(e)&&qa[e]?(""+t).trim():t+"px"}function cv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=lv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var hN=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xh(e,t){if(t){if(hN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function yh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=null;function Bm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vh=null,TA=null,DA=null;function jp(e){if(e=ao(e)){if(typeof vh!="function")throw Error(J(280));var t=e.stateNode;t&&(t=eu(t),vh(e.stateNode,e.type,t))}}function uv(e){TA?DA?DA.push(e):DA=[e]:TA=e}function dv(){if(TA){var e=TA,t=DA;if(DA=TA=null,jp(e),t)for(e=0;e<t.length;e++)jp(t[e])}}function hv(e,t){return e(t)}function fv(){}var Mu=!1;function mv(e,t,r){if(Mu)return e(t,r);Mu=!0;try{return hv(e,t,r)}finally{Mu=!1,(TA!==null||DA!==null)&&(fv(),dv())}}function yi(e,t){var r=e.stateNode;if(r===null)return null;var n=eu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var bh=!1;if(cn)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){bh=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{bh=!1}function fN(e,t,r,n,s,A,i,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Ja=!1,Jl=null,Xl=!1,Bh=null,mN={onError:function(e){Ja=!0,Jl=e}};function gN(e,t,r,n,s,A,i,o,l){Ja=!1,Jl=null,fN.apply(mN,arguments)}function pN(e,t,r,n,s,A,i,o,l){if(gN.apply(this,arguments),Ja){if(Ja){var u=Jl;Ja=!1,Jl=null}else throw Error(J(198));Xl||(Xl=!0,Bh=u)}}function qs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Np(e){if(qs(e)!==e)throw Error(J(188))}function xN(e){var t=e.alternate;if(!t){if(t=qs(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var A=s.alternate;if(A===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===A.child){for(A=s.child;A;){if(A===r)return Np(s),e;if(A===n)return Np(s),t;A=A.sibling}throw Error(J(188))}if(r.return!==n.return)r=s,n=A;else{for(var i=!1,o=s.child;o;){if(o===r){i=!0,r=s,n=A;break}if(o===n){i=!0,n=s,r=A;break}o=o.sibling}if(!i){for(o=A.child;o;){if(o===r){i=!0,r=A,n=s;break}if(o===n){i=!0,n=A,r=s;break}o=o.sibling}if(!i)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function pv(e){return e=xN(e),e!==null?xv(e):null}function xv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xv(e);if(t!==null)return t;e=e.sibling}return null}var yv=Jt.unstable_scheduleCallback,Ep=Jt.unstable_cancelCallback,yN=Jt.unstable_shouldYield,wN=Jt.unstable_requestPaint,Ke=Jt.unstable_now,vN=Jt.unstable_getCurrentPriorityLevel,Cm=Jt.unstable_ImmediatePriority,wv=Jt.unstable_UserBlockingPriority,Yl=Jt.unstable_NormalPriority,bN=Jt.unstable_LowPriority,vv=Jt.unstable_IdlePriority,Jc=null,Rr=null;function BN(e){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Jc,e,void 0,(e.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:jN,CN=Math.log,_N=Math.LN2;function jN(e){return e>>>=0,e===0?32:31-(CN(e)/_N|0)|0}var _o=64,jo=4194304;function Da(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,A=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~s;o!==0?n=Da(o):(A&=i,A!==0&&(n=Da(A)))}else i=r&~s,i!==0?n=Da(i):A!==0&&(n=Da(A));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,A=t&-t,s>=A||s===16&&(A&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Er(t),s=1<<r,n|=e[r],t&=~s;return n}function NN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,A=e.pendingLanes;0<A;){var i=31-Er(A),o=1<<i,l=s[i];l===-1?(!(o&r)||o&n)&&(s[i]=NN(o,t)):l<=t&&(e.expiredLanes|=o),A&=~o}}function Ch(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bv(){var e=_o;return _o<<=1,!(_o&4194240)&&(_o=64),e}function zu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function so(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Er(t),e[t]=r}function QN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Er(r),A=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~A}}function _m(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Er(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ve=0;function Bv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cv,jm,_v,jv,Nv,_h=!1,No=[],Mn=null,zn=null,Kn=null,wi=new Map,vi=new Map,Sn=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qp(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(t.pointerId)}}function pa(e,t,r,n,s,A){return e===null||e.nativeEvent!==A?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:A,targetContainers:[s]},t!==null&&(t=ao(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function FN(e,t,r,n,s){switch(t){case"focusin":return Mn=pa(Mn,e,t,r,n,s),!0;case"dragenter":return zn=pa(zn,e,t,r,n,s),!0;case"mouseover":return Kn=pa(Kn,e,t,r,n,s),!0;case"pointerover":var A=s.pointerId;return wi.set(A,pa(wi.get(A)||null,e,t,r,n,s)),!0;case"gotpointercapture":return A=s.pointerId,vi.set(A,pa(vi.get(A)||null,e,t,r,n,s)),!0}return!1}function Ev(e){var t=js(e.target);if(t!==null){var r=qs(t);if(r!==null){if(t=r.tag,t===13){if(t=gv(r),t!==null){e.blockedOn=t,Nv(e.priority,function(){_v(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wh=n,r.target.dispatchEvent(n),wh=null}else return t=ao(r),t!==null&&jm(t),e.blockedOn=r,!1;t.shift()}return!0}function Up(e,t,r){_l(e)&&r.delete(t)}function SN(){_h=!1,Mn!==null&&_l(Mn)&&(Mn=null),zn!==null&&_l(zn)&&(zn=null),Kn!==null&&_l(Kn)&&(Kn=null),wi.forEach(Up),vi.forEach(Up)}function xa(e,t){e.blockedOn===t&&(e.blockedOn=null,_h||(_h=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,SN)))}function bi(e){function t(s){return xa(s,e)}if(0<No.length){xa(No[0],e);for(var r=1;r<No.length;r++){var n=No[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mn!==null&&xa(Mn,e),zn!==null&&xa(zn,e),Kn!==null&&xa(Kn,e),wi.forEach(t),vi.forEach(t),r=0;r<Sn.length;r++)n=Sn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sn.length&&(r=Sn[0],r.blockedOn===null);)Ev(r),r.blockedOn===null&&Sn.shift()}var LA=yn.ReactCurrentBatchConfig,ec=!0;function kN(e,t,r,n){var s=ve,A=LA.transition;LA.transition=null;try{ve=1,Nm(e,t,r,n)}finally{ve=s,LA.transition=A}}function IN(e,t,r,n){var s=ve,A=LA.transition;LA.transition=null;try{ve=4,Nm(e,t,r,n)}finally{ve=s,LA.transition=A}}function Nm(e,t,r,n){if(ec){var s=jh(e,t,r,n);if(s===null)Zu(e,t,n,tc,r),Qp(e,n);else if(FN(s,e,t,r,n))n.stopPropagation();else if(Qp(e,n),t&4&&-1<UN.indexOf(e)){for(;s!==null;){var A=ao(s);if(A!==null&&Cv(A),A=jh(e,t,r,n),A===null&&Zu(e,t,n,tc,r),A===s)break;s=A}s!==null&&n.stopPropagation()}else Zu(e,t,n,null,r)}}var tc=null;function jh(e,t,r,n){if(tc=null,e=Bm(n),e=js(e),e!==null)if(t=qs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tc=e,null}function Qv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vN()){case Cm:return 1;case wv:return 4;case Yl:case bN:return 16;case vv:return 536870912;default:return 16}default:return 16}}var Dn=null,Em=null,jl=null;function Uv(){if(jl)return jl;var e,t=Em,r=t.length,n,s="value"in Dn?Dn.value:Dn.textContent,A=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[A-n];n++);return jl=s.slice(e,1<n?1-n:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eo(){return!0}function Fp(){return!1}function Yt(e){function t(r,n,s,A,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=A,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(A):A[o]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Eo:Fp,this.isPropagationStopped=Fp,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),t}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qm=Yt(na),Ao=Le({},na,{view:0,detail:0}),TN=Yt(Ao),Ku,Vu,ya,Xc=Le({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ya&&(ya&&e.type==="mousemove"?(Ku=e.screenX-ya.screenX,Vu=e.screenY-ya.screenY):Vu=Ku=0,ya=e),Ku)},movementY:function(e){return"movementY"in e?e.movementY:Vu}}),Sp=Yt(Xc),DN=Le({},Xc,{dataTransfer:0}),LN=Yt(DN),PN=Le({},Ao,{relatedTarget:0}),$u=Yt(PN),HN=Le({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),ON=Yt(HN),RN=Le({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MN=Yt(RN),zN=Le({},na,{data:0}),kp=Yt(zN),KN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$N={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$N[e])?!!t[e]:!1}function Um(){return GN}var WN=Le({},Ao,{key:function(e){if(e.key){var t=KN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qN=Yt(WN),JN=Le({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ip=Yt(JN),XN=Le({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),YN=Yt(XN),ZN=Le({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),eE=Yt(ZN),tE=Le({},Xc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rE=Yt(tE),nE=[9,13,27,32],Fm=cn&&"CompositionEvent"in window,Xa=null;cn&&"documentMode"in document&&(Xa=document.documentMode);var sE=cn&&"TextEvent"in window&&!Xa,Fv=cn&&(!Fm||Xa&&8<Xa&&11>=Xa),Tp=" ",Dp=!1;function Sv(e,t){switch(e){case"keyup":return nE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xA=!1;function AE(e,t){switch(e){case"compositionend":return kv(t);case"keypress":return t.which!==32?null:(Dp=!0,Tp);case"textInput":return e=t.data,e===Tp&&Dp?null:e;default:return null}}function aE(e,t){if(xA)return e==="compositionend"||!Fm&&Sv(e,t)?(e=Uv(),jl=Em=Dn=null,xA=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fv&&t.locale!=="ko"?null:t.data;default:return null}}var iE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iE[e.type]:t==="textarea"}function Iv(e,t,r,n){uv(n),t=rc(t,"onChange"),0<t.length&&(r=new Qm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ya=null,Bi=null;function oE(e){Vv(e,0)}function Yc(e){var t=vA(e);if(sv(t))return e}function lE(e,t){if(e==="change")return t}var Tv=!1;if(cn){var Gu;if(cn){var Wu="oninput"in document;if(!Wu){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Wu=typeof Pp.oninput=="function"}Gu=Wu}else Gu=!1;Tv=Gu&&(!document.documentMode||9<document.documentMode)}function Hp(){Ya&&(Ya.detachEvent("onpropertychange",Dv),Bi=Ya=null)}function Dv(e){if(e.propertyName==="value"&&Yc(Bi)){var t=[];Iv(t,Bi,e,Bm(e)),mv(oE,t)}}function cE(e,t,r){e==="focusin"?(Hp(),Ya=t,Bi=r,Ya.attachEvent("onpropertychange",Dv)):e==="focusout"&&Hp()}function uE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yc(Bi)}function dE(e,t){if(e==="click")return Yc(t)}function hE(e,t){if(e==="input"||e==="change")return Yc(t)}function fE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fr=typeof Object.is=="function"?Object.is:fE;function Ci(e,t){if(Fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!oh.call(t,s)||!Fr(e[s],t[s]))return!1}return!0}function Op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rp(e,t){var r=Op(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Op(r)}}function Lv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pv(){for(var e=window,t=ql();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ql(e.document)}return t}function Sm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mE(e){var t=Pv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Lv(r.ownerDocument.documentElement,r)){if(n!==null&&Sm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,A=Math.min(n.start,s);n=n.end===void 0?A:Math.min(n.end,s),!e.extend&&A>n&&(s=n,n=A,A=s),s=Rp(r,A);var i=Rp(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),A>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gE=cn&&"documentMode"in document&&11>=document.documentMode,yA=null,Nh=null,Za=null,Eh=!1;function Mp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Eh||yA==null||yA!==ql(n)||(n=yA,"selectionStart"in n&&Sm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Za&&Ci(Za,n)||(Za=n,n=rc(Nh,"onSelect"),0<n.length&&(t=new Qm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yA)))}function Qo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wA={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},qu={},Hv={};cn&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete wA.animationend.animation,delete wA.animationiteration.animation,delete wA.animationstart.animation),"TransitionEvent"in window||delete wA.transitionend.transition);function Zc(e){if(qu[e])return qu[e];if(!wA[e])return e;var t=wA[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hv)return qu[e]=t[r];return e}var Ov=Zc("animationend"),Rv=Zc("animationiteration"),Mv=Zc("animationstart"),zv=Zc("transitionend"),Kv=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(e,t){Kv.set(e,t),Ws(t,[e])}for(var Ju=0;Ju<zp.length;Ju++){var Xu=zp[Ju],pE=Xu.toLowerCase(),xE=Xu[0].toUpperCase()+Xu.slice(1);is(pE,"on"+xE)}is(Ov,"onAnimationEnd");is(Rv,"onAnimationIteration");is(Mv,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(zv,"onTransitionEnd");zA("onMouseEnter",["mouseout","mouseover"]);zA("onMouseLeave",["mouseout","mouseover"]);zA("onPointerEnter",["pointerout","pointerover"]);zA("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Kp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,pN(n,t,void 0,e),e.currentTarget=null}function Vv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var A=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==A&&s.isPropagationStopped())break e;Kp(s,o,u),A=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,u=o.currentTarget,o=o.listener,l!==A&&s.isPropagationStopped())break e;Kp(s,o,u),A=l}}}if(Xl)throw e=Bh,Xl=!1,Bh=null,e}function Ne(e,t){var r=t[kh];r===void 0&&(r=t[kh]=new Set);var n=e+"__bubble";r.has(n)||($v(t,e,2,!1),r.add(n))}function Yu(e,t,r){var n=0;t&&(n|=4),$v(r,e,n,t)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function _i(e){if(!e[Uo]){e[Uo]=!0,Zw.forEach(function(r){r!=="selectionchange"&&(yE.has(r)||Yu(r,!1,e),Yu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uo]||(t[Uo]=!0,Yu("selectionchange",!1,t))}}function $v(e,t,r,n){switch(Qv(t)){case 1:var s=kN;break;case 4:s=IN;break;default:s=Nm}r=s.bind(null,t,r,e),s=void 0,!bh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Zu(e,t,r,n,s){var A=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;o!==null;){if(i=js(o),i===null)return;if(l=i.tag,l===5||l===6){n=A=i;continue e}o=o.parentNode}}n=n.return}mv(function(){var u=A,c=Bm(r),d=[];e:{var h=Kv.get(e);if(h!==void 0){var m=Qm,p=e;switch(e){case"keypress":if(Nl(r)===0)break e;case"keydown":case"keyup":m=qN;break;case"focusin":p="focus",m=$u;break;case"focusout":p="blur",m=$u;break;case"beforeblur":case"afterblur":m=$u;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=LN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=YN;break;case Ov:case Rv:case Mv:m=ON;break;case zv:m=eE;break;case"scroll":m=TN;break;case"wheel":m=rE;break;case"copy":case"cut":case"paste":m=MN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ip}var y=(t&4)!==0,w=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var f=u,x;f!==null;){x=f;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=yi(f,g),b!=null&&y.push(ji(f,b,x)))),w)break;f=f.return}0<y.length&&(h=new m(h,p,null,r,c),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==wh&&(p=r.relatedTarget||r.fromElement)&&(js(p)||p[un]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?js(p):null,p!==null&&(w=qs(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(y=Sp,b="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ip,b="onPointerLeave",g="onPointerEnter",f="pointer"),w=m==null?h:vA(m),x=p==null?h:vA(p),h=new y(b,f+"leave",m,r,c),h.target=w,h.relatedTarget=x,b=null,js(c)===u&&(y=new y(g,f+"enter",p,r,c),y.target=x,y.relatedTarget=w,b=y),w=b,m&&p)t:{for(y=m,g=p,f=0,x=y;x;x=Xs(x))f++;for(x=0,b=g;b;b=Xs(b))x++;for(;0<f-x;)y=Xs(y),f--;for(;0<x-f;)g=Xs(g),x--;for(;f--;){if(y===g||g!==null&&y===g.alternate)break t;y=Xs(y),g=Xs(g)}y=null}else y=null;m!==null&&Vp(d,h,m,y,!1),p!==null&&w!==null&&Vp(d,w,p,y,!0)}}e:{if(h=u?vA(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=lE;else if(Lp(h))if(Tv)_=hE;else{_=uE;var C=cE}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=dE);if(_&&(_=_(e,u))){Iv(d,_,r,c);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&mh(h,"number",h.value)}switch(C=u?vA(u):window,e){case"focusin":(Lp(C)||C.contentEditable==="true")&&(yA=C,Nh=u,Za=null);break;case"focusout":Za=Nh=yA=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,Mp(d,r,c);break;case"selectionchange":if(gE)break;case"keydown":case"keyup":Mp(d,r,c)}var N;if(Fm)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else xA?Sv(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Fv&&r.locale!=="ko"&&(xA||j!=="onCompositionStart"?j==="onCompositionEnd"&&xA&&(N=Uv()):(Dn=c,Em="value"in Dn?Dn.value:Dn.textContent,xA=!0)),C=rc(u,j),0<C.length&&(j=new kp(j,e,null,r,c),d.push({event:j,listeners:C}),N?j.data=N:(N=kv(r),N!==null&&(j.data=N)))),(N=sE?AE(e,r):aE(e,r))&&(u=rc(u,"onBeforeInput"),0<u.length&&(c=new kp("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=N))}Vv(d,t)})}function ji(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,A=s.stateNode;s.tag===5&&A!==null&&(s=A,A=yi(e,r),A!=null&&n.unshift(ji(e,A,s)),A=yi(e,t),A!=null&&n.push(ji(e,A,s))),e=e.return}return n}function Xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vp(e,t,r,n,s){for(var A=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=yi(r,A),l!=null&&i.unshift(ji(r,l,o))):s||(l=yi(r,A),l!=null&&i.push(ji(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var wE=/\r\n?/g,vE=/\u0000|\uFFFD/g;function $p(e){return(typeof e=="string"?e:""+e).replace(wE,`
`).replace(vE,"")}function Fo(e,t,r){if(t=$p(t),$p(e)!==t&&r)throw Error(J(425))}function nc(){}var Qh=null,Uh=null;function Fh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sh=typeof setTimeout=="function"?setTimeout:void 0,bE=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(e){return Gp.resolve(null).then(e).catch(CE)}:Sh;function CE(e){setTimeout(function(){throw e})}function ed(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),bi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);bi(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Hr="__reactFiber$"+sa,Ni="__reactProps$"+sa,un="__reactContainer$"+sa,kh="__reactEvents$"+sa,_E="__reactListeners$"+sa,jE="__reactHandles$"+sa;function js(e){var t=e[Hr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[un]||r[Hr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wp(e);e!==null;){if(r=e[Hr])return r;e=Wp(e)}return t}e=r,r=e.parentNode}return null}function ao(e){return e=e[Hr]||e[un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vA(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function eu(e){return e[Ni]||null}var Ih=[],bA=-1;function os(e){return{current:e}}function Ee(e){0>bA||(e.current=Ih[bA],Ih[bA]=null,bA--)}function je(e,t){bA++,Ih[bA]=e.current,e.current=t}var es={},wt=os(es),Dt=os(!1),Rs=es;function KA(e,t){var r=e.type.contextTypes;if(!r)return es;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},A;for(A in r)s[A]=t[A];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(e){return e=e.childContextTypes,e!=null}function sc(){Ee(Dt),Ee(wt)}function qp(e,t,r){if(wt.current!==es)throw Error(J(168));je(wt,t),je(Dt,r)}function Gv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(J(108,cN(e)||"Unknown",s));return Le({},r,n)}function Ac(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Rs=wt.current,je(wt,e),je(Dt,Dt.current),!0}function Jp(e,t,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=Gv(e,t,Rs),n.__reactInternalMemoizedMergedChildContext=e,Ee(Dt),Ee(wt),je(wt,e)):Ee(Dt),je(Dt,r)}var en=null,tu=!1,td=!1;function Wv(e){en===null?en=[e]:en.push(e)}function NE(e){tu=!0,Wv(e)}function ls(){if(!td&&en!==null){td=!0;var e=0,t=ve;try{var r=en;for(ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}en=null,tu=!1}catch(s){throw en!==null&&(en=en.slice(e+1)),yv(Cm,ls),s}finally{ve=t,td=!1}}return null}var BA=[],CA=0,ac=null,ic=0,sr=[],Ar=0,Ms=null,tn=1,rn="";function xs(e,t){BA[CA++]=ic,BA[CA++]=ac,ac=e,ic=t}function qv(e,t,r){sr[Ar++]=tn,sr[Ar++]=rn,sr[Ar++]=Ms,Ms=e;var n=tn;e=rn;var s=32-Er(n)-1;n&=~(1<<s),r+=1;var A=32-Er(t)+s;if(30<A){var i=s-s%5;A=(n&(1<<i)-1).toString(32),n>>=i,s-=i,tn=1<<32-Er(t)+s|r<<s|n,rn=A+e}else tn=1<<A|r<<s|n,rn=e}function km(e){e.return!==null&&(xs(e,1),qv(e,1,0))}function Im(e){for(;e===ac;)ac=BA[--CA],BA[CA]=null,ic=BA[--CA],BA[CA]=null;for(;e===Ms;)Ms=sr[--Ar],sr[Ar]=null,rn=sr[--Ar],sr[Ar]=null,tn=sr[--Ar],sr[Ar]=null}var Wt=null,Gt=null,Ue=!1,Nr=null;function Jv(e,t){var r=ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wt=e,Gt=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wt=e,Gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ms!==null?{id:tn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wt=e,Gt=null,!0):!1;default:return!1}}function Th(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dh(e){if(Ue){var t=Gt;if(t){var r=t;if(!Xp(e,t)){if(Th(e))throw Error(J(418));t=Vn(r.nextSibling);var n=Wt;t&&Xp(e,t)?Jv(n,r):(e.flags=e.flags&-4097|2,Ue=!1,Wt=e)}}else{if(Th(e))throw Error(J(418));e.flags=e.flags&-4097|2,Ue=!1,Wt=e}}}function Yp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wt=e}function So(e){if(e!==Wt)return!1;if(!Ue)return Yp(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fh(e.type,e.memoizedProps)),t&&(t=Gt)){if(Th(e))throw Xv(),Error(J(418));for(;t;)Jv(e,t),t=Vn(t.nextSibling)}if(Yp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gt=Vn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gt=null}}else Gt=Wt?Vn(e.stateNode.nextSibling):null;return!0}function Xv(){for(var e=Gt;e;)e=Vn(e.nextSibling)}function VA(){Gt=Wt=null,Ue=!1}function Tm(e){Nr===null?Nr=[e]:Nr.push(e)}var EE=yn.ReactCurrentBatchConfig;function wa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var s=n,A=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===A?t.ref:(t=function(i){var o=s.refs;i===null?delete o[A]:o[A]=i},t._stringRef=A,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function ko(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zp(e){var t=e._init;return t(e._payload)}function Yv(e){function t(g,f){if(e){var x=g.deletions;x===null?(g.deletions=[f],g.flags|=16):x.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=qn(g,f),g.index=0,g.sibling=null,g}function A(g,f,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<f?(g.flags|=2,f):x):(g.flags|=2,f)):(g.flags|=1048576,f)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,f,x,b){return f===null||f.tag!==6?(f=od(x,g.mode,b),f.return=g,f):(f=s(f,x),f.return=g,f)}function l(g,f,x,b){var _=x.type;return _===pA?c(g,f,x.props.children,b,x.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qn&&Zp(_)===f.type)?(b=s(f,x.props),b.ref=wa(g,f,x),b.return=g,b):(b=Il(x.type,x.key,x.props,null,g.mode,b),b.ref=wa(g,f,x),b.return=g,b)}function u(g,f,x,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=ld(x,g.mode,b),f.return=g,f):(f=s(f,x.children||[]),f.return=g,f)}function c(g,f,x,b,_){return f===null||f.tag!==7?(f=Is(x,g.mode,b,_),f.return=g,f):(f=s(f,x),f.return=g,f)}function d(g,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=od(""+f,g.mode,x),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case bo:return x=Il(f.type,f.key,f.props,null,g.mode,x),x.ref=wa(g,null,f),x.return=g,x;case gA:return f=ld(f,g.mode,x),f.return=g,f;case Qn:var b=f._init;return d(g,b(f._payload),x)}if(Ta(f)||ma(f))return f=Is(f,g.mode,x,null),f.return=g,f;ko(g,f)}return null}function h(g,f,x,b){var _=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,f,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bo:return x.key===_?l(g,f,x,b):null;case gA:return x.key===_?u(g,f,x,b):null;case Qn:return _=x._init,h(g,f,_(x._payload),b)}if(Ta(x)||ma(x))return _!==null?null:c(g,f,x,b,null);ko(g,x)}return null}function m(g,f,x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,o(f,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bo:return g=g.get(b.key===null?x:b.key)||null,l(f,g,b,_);case gA:return g=g.get(b.key===null?x:b.key)||null,u(f,g,b,_);case Qn:var C=b._init;return m(g,f,x,C(b._payload),_)}if(Ta(b)||ma(b))return g=g.get(x)||null,c(f,g,b,_,null);ko(f,b)}return null}function p(g,f,x,b){for(var _=null,C=null,N=f,j=f=0,F=null;N!==null&&j<x.length;j++){N.index>j?(F=N,N=null):F=N.sibling;var D=h(g,N,x[j],b);if(D===null){N===null&&(N=F);break}e&&N&&D.alternate===null&&t(g,N),f=A(D,f,j),C===null?_=D:C.sibling=D,C=D,N=F}if(j===x.length)return r(g,N),Ue&&xs(g,j),_;if(N===null){for(;j<x.length;j++)N=d(g,x[j],b),N!==null&&(f=A(N,f,j),C===null?_=N:C.sibling=N,C=N);return Ue&&xs(g,j),_}for(N=n(g,N);j<x.length;j++)F=m(N,g,j,x[j],b),F!==null&&(e&&F.alternate!==null&&N.delete(F.key===null?j:F.key),f=A(F,f,j),C===null?_=F:C.sibling=F,C=F);return e&&N.forEach(function(T){return t(g,T)}),Ue&&xs(g,j),_}function y(g,f,x,b){var _=ma(x);if(typeof _!="function")throw Error(J(150));if(x=_.call(x),x==null)throw Error(J(151));for(var C=_=null,N=f,j=f=0,F=null,D=x.next();N!==null&&!D.done;j++,D=x.next()){N.index>j?(F=N,N=null):F=N.sibling;var T=h(g,N,D.value,b);if(T===null){N===null&&(N=F);break}e&&N&&T.alternate===null&&t(g,N),f=A(T,f,j),C===null?_=T:C.sibling=T,C=T,N=F}if(D.done)return r(g,N),Ue&&xs(g,j),_;if(N===null){for(;!D.done;j++,D=x.next())D=d(g,D.value,b),D!==null&&(f=A(D,f,j),C===null?_=D:C.sibling=D,C=D);return Ue&&xs(g,j),_}for(N=n(g,N);!D.done;j++,D=x.next())D=m(N,g,j,D.value,b),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?j:D.key),f=A(D,f,j),C===null?_=D:C.sibling=D,C=D);return e&&N.forEach(function(G){return t(g,G)}),Ue&&xs(g,j),_}function w(g,f,x,b){if(typeof x=="object"&&x!==null&&x.type===pA&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case bo:e:{for(var _=x.key,C=f;C!==null;){if(C.key===_){if(_=x.type,_===pA){if(C.tag===7){r(g,C.sibling),f=s(C,x.props.children),f.return=g,g=f;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qn&&Zp(_)===C.type){r(g,C.sibling),f=s(C,x.props),f.ref=wa(g,C,x),f.return=g,g=f;break e}r(g,C);break}else t(g,C);C=C.sibling}x.type===pA?(f=Is(x.props.children,g.mode,b,x.key),f.return=g,g=f):(b=Il(x.type,x.key,x.props,null,g.mode,b),b.ref=wa(g,f,x),b.return=g,g=b)}return i(g);case gA:e:{for(C=x.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){r(g,f.sibling),f=s(f,x.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=ld(x,g.mode,b),f.return=g,g=f}return i(g);case Qn:return C=x._init,w(g,f,C(x._payload),b)}if(Ta(x))return p(g,f,x,b);if(ma(x))return y(g,f,x,b);ko(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,x),f.return=g,g=f):(r(g,f),f=od(x,g.mode,b),f.return=g,g=f),i(g)):r(g,f)}return w}var $A=Yv(!0),Zv=Yv(!1),oc=os(null),lc=null,_A=null,Dm=null;function Lm(){Dm=_A=lc=null}function Pm(e){var t=oc.current;Ee(oc),e._currentValue=t}function Lh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function PA(e,t){lc=e,Dm=_A=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(Dm!==e)if(e={context:e,memoizedValue:t,next:null},_A===null){if(lc===null)throw Error(J(308));_A=e,lc.dependencies={lanes:0,firstContext:e}}else _A=_A.next=e;return t}var Ns=null;function Hm(e){Ns===null?Ns=[e]:Ns.push(e)}function eb(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Hm(t)):(r.next=s.next,s.next=r),t.interleaved=r,dn(e,n)}function dn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Un=!1;function Om(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,dn(e,r)}return s=n.interleaved,s===null?(t.next=t,Hm(n)):(t.next=s.next,s.next=t),n.interleaved=t,dn(e,r)}function El(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_m(e,r)}}function e0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,A=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};A===null?s=A=i:A=A.next=i,r=r.next}while(r!==null);A===null?s=A=t:A=A.next=t}else s=A=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:A,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cc(e,t,r,n){var s=e.updateQueue;Un=!1;var A=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,i===null?A=u:i.next=u,i=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==i&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(A!==null){var d=s.baseState;i=0,c=u=l=null,o=A;do{var h=o.lane,m=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(h=t,m=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(m,d,h):p,h==null)break e;d=Le({},d,h);break e;case 2:Un=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,i|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else A===null&&(s.shared.lanes=0);Ks|=i,e.lanes=i,e.memoizedState=d}}function t0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(J(191,s));s.call(n)}}}var io={},Mr=os(io),Ei=os(io),Qi=os(io);function Es(e){if(e===io)throw Error(J(174));return e}function Rm(e,t){switch(je(Qi,t),je(Ei,e),je(Mr,io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ph(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ph(t,e)}Ee(Mr),je(Mr,t)}function GA(){Ee(Mr),Ee(Ei),Ee(Qi)}function rb(e){Es(Qi.current);var t=Es(Mr.current),r=ph(t,e.type);t!==r&&(je(Ei,e),je(Mr,r))}function Mm(e){Ei.current===e&&(Ee(Mr),Ee(Ei))}var Ie=os(0);function uc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rd=[];function zm(){for(var e=0;e<rd.length;e++)rd[e]._workInProgressVersionPrimary=null;rd.length=0}var Ql=yn.ReactCurrentDispatcher,nd=yn.ReactCurrentBatchConfig,zs=0,De=null,Je=null,tt=null,dc=!1,ei=!1,Ui=0,QE=0;function dt(){throw Error(J(321))}function Km(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fr(e[r],t[r]))return!1;return!0}function Vm(e,t,r,n,s,A){if(zs=A,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ql.current=e===null||e.memoizedState===null?kE:IE,e=r(n,s),ei){A=0;do{if(ei=!1,Ui=0,25<=A)throw Error(J(301));A+=1,tt=Je=null,t.updateQueue=null,Ql.current=TE,e=r(n,s)}while(ei)}if(Ql.current=hc,t=Je!==null&&Je.next!==null,zs=0,tt=Je=De=null,dc=!1,t)throw Error(J(300));return e}function $m(){var e=Ui!==0;return Ui=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?De.memoizedState=tt=e:tt=tt.next=e,tt}function mr(){if(Je===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=tt===null?De.memoizedState:tt.next;if(t!==null)tt=t,Je=e;else{if(e===null)throw Error(J(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},tt===null?De.memoizedState=tt=e:tt=tt.next=e}return tt}function Fi(e,t){return typeof t=="function"?t(e):t}function sd(e){var t=mr(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=Je,s=n.baseQueue,A=r.pending;if(A!==null){if(s!==null){var i=s.next;s.next=A.next,A.next=i}n.baseQueue=s=A,r.pending=null}if(s!==null){A=s.next,n=n.baseState;var o=i=null,l=null,u=A;do{var c=u.lane;if((zs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,i=n):l=l.next=d,De.lanes|=c,Ks|=c}u=u.next}while(u!==null&&u!==A);l===null?i=n:l.next=o,Fr(n,t.memoizedState)||(St=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do A=s.lane,De.lanes|=A,Ks|=A,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ad(e){var t=mr(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,A=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do A=e(A,i.action),i=i.next;while(i!==s);Fr(A,t.memoizedState)||(St=!0),t.memoizedState=A,t.baseQueue===null&&(t.baseState=A),r.lastRenderedState=A}return[A,n]}function nb(){}function sb(e,t){var r=De,n=mr(),s=t(),A=!Fr(n.memoizedState,s);if(A&&(n.memoizedState=s,St=!0),n=n.queue,Gm(ib.bind(null,r,n,e),[e]),n.getSnapshot!==t||A||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,Si(9,ab.bind(null,r,n,s,t),void 0,null),rt===null)throw Error(J(349));zs&30||Ab(r,t,s)}return s}function Ab(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ab(e,t,r,n){t.value=r,t.getSnapshot=n,ob(t)&&lb(e)}function ib(e,t,r){return r(function(){ob(t)&&lb(e)})}function ob(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fr(e,r)}catch{return!0}}function lb(e){var t=dn(e,1);t!==null&&Qr(t,e,1,-1)}function r0(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},t.queue=e,e=e.dispatch=SE.bind(null,De,e),[t.memoizedState,e]}function Si(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cb(){return mr().memoizedState}function Ul(e,t,r,n){var s=Lr();De.flags|=e,s.memoizedState=Si(1|t,r,void 0,n===void 0?null:n)}function ru(e,t,r,n){var s=mr();n=n===void 0?null:n;var A=void 0;if(Je!==null){var i=Je.memoizedState;if(A=i.destroy,n!==null&&Km(n,i.deps)){s.memoizedState=Si(t,r,A,n);return}}De.flags|=e,s.memoizedState=Si(1|t,r,A,n)}function n0(e,t){return Ul(8390656,8,e,t)}function Gm(e,t){return ru(2048,8,e,t)}function ub(e,t){return ru(4,2,e,t)}function db(e,t){return ru(4,4,e,t)}function hb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fb(e,t,r){return r=r!=null?r.concat([e]):null,ru(4,4,hb.bind(null,t,e),r)}function Wm(){}function mb(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Km(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gb(e,t){var r=mr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Km(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pb(e,t,r){return zs&21?(Fr(r,t)||(r=bv(),De.lanes|=r,Ks|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=r)}function UE(e,t){var r=ve;ve=r!==0&&4>r?r:4,e(!0);var n=nd.transition;nd.transition={};try{e(!1),t()}finally{ve=r,nd.transition=n}}function xb(){return mr().memoizedState}function FE(e,t,r){var n=Wn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yb(e))wb(t,r);else if(r=eb(e,t,r,n),r!==null){var s=_t();Qr(r,e,n,s),vb(r,t,n)}}function SE(e,t,r){var n=Wn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yb(e))wb(t,s);else{var A=e.alternate;if(e.lanes===0&&(A===null||A.lanes===0)&&(A=t.lastRenderedReducer,A!==null))try{var i=t.lastRenderedState,o=A(i,r);if(s.hasEagerState=!0,s.eagerState=o,Fr(o,i)){var l=t.interleaved;l===null?(s.next=s,Hm(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=eb(e,t,s,n),r!==null&&(s=_t(),Qr(r,e,n,s),vb(r,t,n))}}function yb(e){var t=e.alternate;return e===De||t!==null&&t===De}function wb(e,t){ei=dc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_m(e,r)}}var hc={readContext:fr,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},kE={readContext:fr,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:n0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ul(4194308,4,hb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ul(4,2,e,t)},useMemo:function(e,t){var r=Lr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Lr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=FE.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:r0,useDebugValue:Wm,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=r0(!1),t=e[0];return e=UE.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,s=Lr();if(Ue){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),rt===null)throw Error(J(349));zs&30||Ab(n,t,r)}s.memoizedState=r;var A={value:r,getSnapshot:t};return s.queue=A,n0(ib.bind(null,n,A,e),[e]),n.flags|=2048,Si(9,ab.bind(null,n,A,r,t),void 0,null),r},useId:function(){var e=Lr(),t=rt.identifierPrefix;if(Ue){var r=rn,n=tn;r=(n&~(1<<32-Er(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ui++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=QE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IE={readContext:fr,useCallback:mb,useContext:fr,useEffect:Gm,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:gb,useReducer:sd,useRef:cb,useState:function(){return sd(Fi)},useDebugValue:Wm,useDeferredValue:function(e){var t=mr();return pb(t,Je.memoizedState,e)},useTransition:function(){var e=sd(Fi)[0],t=mr().memoizedState;return[e,t]},useMutableSource:nb,useSyncExternalStore:sb,useId:xb,unstable_isNewReconciler:!1},TE={readContext:fr,useCallback:mb,useContext:fr,useEffect:Gm,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:gb,useReducer:Ad,useRef:cb,useState:function(){return Ad(Fi)},useDebugValue:Wm,useDeferredValue:function(e){var t=mr();return Je===null?t.memoizedState=e:pb(t,Je.memoizedState,e)},useTransition:function(){var e=Ad(Fi)[0],t=mr().memoizedState;return[e,t]},useMutableSource:nb,useSyncExternalStore:sb,useId:xb,unstable_isNewReconciler:!1};function Br(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ph(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nu={isMounted:function(e){return(e=e._reactInternals)?qs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_t(),s=Wn(e),A=nn(n,s);A.payload=t,r!=null&&(A.callback=r),t=$n(e,A,s),t!==null&&(Qr(t,e,s,n),El(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_t(),s=Wn(e),A=nn(n,s);A.tag=1,A.payload=t,r!=null&&(A.callback=r),t=$n(e,A,s),t!==null&&(Qr(t,e,s,n),El(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_t(),n=Wn(e),s=nn(r,n);s.tag=2,t!=null&&(s.callback=t),t=$n(e,s,n),t!==null&&(Qr(t,e,n,r),El(t,e,n))}};function s0(e,t,r,n,s,A,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,A,i):t.prototype&&t.prototype.isPureReactComponent?!Ci(r,n)||!Ci(s,A):!0}function bb(e,t,r){var n=!1,s=es,A=t.contextType;return typeof A=="object"&&A!==null?A=fr(A):(s=Lt(t)?Rs:wt.current,n=t.contextTypes,A=(n=n!=null)?KA(e,s):es),t=new t(r,A),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=A),t}function A0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nu.enqueueReplaceState(t,t.state,null)}function Hh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Om(e);var A=t.contextType;typeof A=="object"&&A!==null?s.context=fr(A):(A=Lt(t)?Rs:wt.current,s.context=KA(e,A)),s.state=e.memoizedState,A=t.getDerivedStateFromProps,typeof A=="function"&&(Ph(e,t,A,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&nu.enqueueReplaceState(s,s.state,null),cc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function WA(e,t){try{var r="",n=t;do r+=lN(n),n=n.return;while(n);var s=r}catch(A){s=`
Error generating stack: `+A.message+`
`+A.stack}return{value:e,source:t,stack:s,digest:null}}function ad(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Oh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var DE=typeof WeakMap=="function"?WeakMap:Map;function Bb(e,t,r){r=nn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mc||(mc=!0,Jh=n),Oh(e,t)},r}function Cb(e,t,r){r=nn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Oh(e,t)}}var A=e.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){Oh(e,t),typeof n!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function a0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new DE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=JE.bind(null,e,t,r),t.then(e,e))}function i0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function o0(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nn(-1,1),t.tag=2,$n(r,t,1))),r.lanes|=1),e)}var LE=yn.ReactCurrentOwner,St=!1;function bt(e,t,r,n){t.child=e===null?Zv(t,null,r,n):$A(t,e.child,r,n)}function l0(e,t,r,n,s){r=r.render;var A=t.ref;return PA(t,s),n=Vm(e,t,r,n,A,s),r=$m(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(Ue&&r&&km(t),t.flags|=1,bt(e,t,n,s),t.child)}function c0(e,t,r,n,s){if(e===null){var A=r.type;return typeof A=="function"&&!rg(A)&&A.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=A,_b(e,t,A,n,s)):(e=Il(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(A=e.child,!(e.lanes&s)){var i=A.memoizedProps;if(r=r.compare,r=r!==null?r:Ci,r(i,n)&&e.ref===t.ref)return hn(e,t,s)}return t.flags|=1,e=qn(A,n),e.ref=t.ref,e.return=t,t.child=e}function _b(e,t,r,n,s){if(e!==null){var A=e.memoizedProps;if(Ci(A,n)&&e.ref===t.ref)if(St=!1,t.pendingProps=n=A,(e.lanes&s)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,hn(e,t,s)}return Rh(e,t,r,n,s)}function jb(e,t,r){var n=t.pendingProps,s=n.children,A=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(NA,Kt),Kt|=r;else{if(!(r&1073741824))return e=A!==null?A.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(NA,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=A!==null?A.baseLanes:r,je(NA,Kt),Kt|=n}else A!==null?(n=A.baseLanes|r,t.memoizedState=null):n=r,je(NA,Kt),Kt|=n;return bt(e,t,s,r),t.child}function Nb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rh(e,t,r,n,s){var A=Lt(r)?Rs:wt.current;return A=KA(t,A),PA(t,s),r=Vm(e,t,r,n,A,s),n=$m(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(Ue&&n&&km(t),t.flags|=1,bt(e,t,r,s),t.child)}function u0(e,t,r,n,s){if(Lt(r)){var A=!0;Ac(t)}else A=!1;if(PA(t,s),t.stateNode===null)Fl(e,t),bb(t,r,n),Hh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=fr(u):(u=Lt(r)?Rs:wt.current,u=KA(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==u)&&A0(t,i,n,u),Un=!1;var h=t.memoizedState;i.state=h,cc(t,n,i,s),l=t.memoizedState,o!==n||h!==l||Dt.current||Un?(typeof c=="function"&&(Ph(t,r,c,n),l=t.memoizedState),(o=Un||s0(t,r,o,n,h,l,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,tb(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Br(t.type,o),i.props=u,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=fr(l):(l=Lt(r)?Rs:wt.current,l=KA(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==d||h!==l)&&A0(t,i,n,l),Un=!1,h=t.memoizedState,i.state=h,cc(t,n,i,s);var p=t.memoizedState;o!==d||h!==p||Dt.current||Un?(typeof m=="function"&&(Ph(t,r,m,n),p=t.memoizedState),(u=Un||s0(t,r,u,n,h,p,l)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Mh(e,t,r,n,A,s)}function Mh(e,t,r,n,s,A){Nb(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Jp(t,r,!1),hn(e,t,A);n=t.stateNode,LE.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=$A(t,e.child,null,A),t.child=$A(t,null,o,A)):bt(e,t,o,A),t.memoizedState=n.state,s&&Jp(t,r,!0),t.child}function Eb(e){var t=e.stateNode;t.pendingContext?qp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qp(e,t.context,!1),Rm(e,t.containerInfo)}function d0(e,t,r,n,s){return VA(),Tm(s),t.flags|=256,bt(e,t,r,n),t.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function Kh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qb(e,t,r){var n=t.pendingProps,s=Ie.current,A=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(A=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Ie,s&1),e===null)return Dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,A?(n=t.mode,A=t.child,i={mode:"hidden",children:i},!(n&1)&&A!==null?(A.childLanes=0,A.pendingProps=i):A=au(i,n,0,null),e=Is(e,n,r,null),A.return=t,e.return=t,A.sibling=e,t.child=A,t.child.memoizedState=Kh(r),t.memoizedState=zh,e):qm(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return PE(e,t,i,n,o,s,r);if(A){A=n.fallback,i=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=qn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?A=qn(o,A):(A=Is(A,i,r,null),A.flags|=2),A.return=t,n.return=t,n.sibling=A,t.child=n,n=A,A=t.child,i=e.child.memoizedState,i=i===null?Kh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},A.memoizedState=i,A.childLanes=e.childLanes&~r,t.memoizedState=zh,n}return A=e.child,e=A.sibling,n=qn(A,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function qm(e,t){return t=au({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Io(e,t,r,n){return n!==null&&Tm(n),$A(t,e.child,null,r),e=qm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PE(e,t,r,n,s,A,i){if(r)return t.flags&256?(t.flags&=-257,n=ad(Error(J(422))),Io(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(A=n.fallback,s=t.mode,n=au({mode:"visible",children:n.children},s,0,null),A=Is(A,s,i,null),A.flags|=2,n.return=t,A.return=t,n.sibling=A,t.child=n,t.mode&1&&$A(t,e.child,null,i),t.child.memoizedState=Kh(i),t.memoizedState=zh,A);if(!(t.mode&1))return Io(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,A=Error(J(419)),n=ad(A,n,void 0),Io(e,t,i,n)}if(o=(i&e.childLanes)!==0,St||o){if(n=rt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==A.retryLane&&(A.retryLane=s,dn(e,s),Qr(n,e,s,-1))}return tg(),n=ad(Error(J(421))),Io(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=XE.bind(null,e),s._reactRetry=t,null):(e=A.treeContext,Gt=Vn(s.nextSibling),Wt=t,Ue=!0,Nr=null,e!==null&&(sr[Ar++]=tn,sr[Ar++]=rn,sr[Ar++]=Ms,tn=e.id,rn=e.overflow,Ms=t),t=qm(t,n.children),t.flags|=4096,t)}function h0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lh(e.return,t,r)}function id(e,t,r,n,s){var A=e.memoizedState;A===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(A.isBackwards=t,A.rendering=null,A.renderingStartTime=0,A.last=n,A.tail=r,A.tailMode=s)}function Ub(e,t,r){var n=t.pendingProps,s=n.revealOrder,A=n.tail;if(bt(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&h0(e,r,t);else if(e.tag===19)h0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&uc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),id(t,!1,s,r,A);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&uc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}id(t,!0,r,null,A);break;case"together":id(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ks|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function HE(e,t,r){switch(t.tag){case 3:Eb(t),VA();break;case 5:rb(t);break;case 1:Lt(t.type)&&Ac(t);break;case 4:Rm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;je(oc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?Qb(e,t,r):(je(Ie,Ie.current&1),e=hn(e,t,r),e!==null?e.sibling:null);je(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ub(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,jb(e,t,r)}return hn(e,t,r)}var Fb,Vh,Sb,kb;Fb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vh=function(){};Sb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Es(Mr.current);var A=null;switch(r){case"input":s=hh(e,s),n=hh(e,n),A=[];break;case"select":s=Le({},s,{value:void 0}),n=Le({},n,{value:void 0}),A=[];break;case"textarea":s=gh(e,s),n=gh(e,n),A=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nc)}xh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pi.hasOwnProperty(u)?A||(A=[]):(A=A||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(A||(A=[]),A.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(A=A||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(A=A||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",e),A||o===l||(A=[])):(A=A||[]).push(u,l))}r&&(A=A||[]).push("style",r);var u=A;(t.updateQueue=u)&&(t.flags|=4)}};kb=function(e,t,r,n){r!==n&&(t.flags|=4)};function va(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function OE(e,t,r){var n=t.pendingProps;switch(Im(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Lt(t.type)&&sc(),ht(t),null;case 3:return n=t.stateNode,GA(),Ee(Dt),Ee(wt),zm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(So(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nr!==null&&(Zh(Nr),Nr=null))),Vh(e,t),ht(t),null;case 5:Mm(t);var s=Es(Qi.current);if(r=t.type,e!==null&&t.stateNode!=null)Sb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(J(166));return ht(t),null}if(e=Es(Mr.current),So(t)){n=t.stateNode,r=t.type;var A=t.memoizedProps;switch(n[Hr]=t,n[Ni]=A,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<La.length;s++)Ne(La[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":bp(n,A),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!A.multiple},Ne("invalid",n);break;case"textarea":Cp(n,A),Ne("invalid",n)}xh(r,A),s=null;for(var i in A)if(A.hasOwnProperty(i)){var o=A[i];i==="children"?typeof o=="string"?n.textContent!==o&&(A.suppressHydrationWarning!==!0&&Fo(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(A.suppressHydrationWarning!==!0&&Fo(n.textContent,o,e),s=["children",""+o]):pi.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Ne("scroll",n)}switch(r){case"input":Bo(n),Bp(n,A,!0);break;case"textarea":Bo(n),_p(n);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(n.onclick=nc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Hr]=t,e[Ni]=n,Fb(e,t,!1,!1),t.stateNode=e;e:{switch(i=yh(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<La.length;s++)Ne(La[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":bp(e,n),s=hh(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Le({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":Cp(e,n),s=gh(e,n),Ne("invalid",e);break;default:s=n}xh(r,s),o=s;for(A in o)if(o.hasOwnProperty(A)){var l=o[A];A==="style"?cv(e,l):A==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ov(e,l)):A==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xi(e,l):typeof l=="number"&&xi(e,""+l):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(pi.hasOwnProperty(A)?l!=null&&A==="onScroll"&&Ne("scroll",e):l!=null&&ym(e,A,l,i))}switch(r){case"input":Bo(e),Bp(e,n,!1);break;case"textarea":Bo(e),_p(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zn(n.value));break;case"select":e.multiple=!!n.multiple,A=n.value,A!=null?IA(e,!!n.multiple,A,!1):n.defaultValue!=null&&IA(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=nc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)kb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(J(166));if(r=Es(Qi.current),Es(Mr.current),So(t)){if(n=t.stateNode,r=t.memoizedProps,n[Hr]=t,(A=n.nodeValue!==r)&&(e=Wt,e!==null))switch(e.tag){case 3:Fo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fo(n.nodeValue,r,(e.mode&1)!==0)}A&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hr]=t,t.stateNode=n}return ht(t),null;case 13:if(Ee(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Gt!==null&&t.mode&1&&!(t.flags&128))Xv(),VA(),t.flags|=98560,A=!1;else if(A=So(t),n!==null&&n.dehydrated!==null){if(e===null){if(!A)throw Error(J(318));if(A=t.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(J(317));A[Hr]=t}else VA(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),A=!1}else Nr!==null&&(Zh(Nr),Nr=null),A=!0;if(!A)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Ze===0&&(Ze=3):tg())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return GA(),Vh(e,t),e===null&&_i(t.stateNode.containerInfo),ht(t),null;case 10:return Pm(t.type._context),ht(t),null;case 17:return Lt(t.type)&&sc(),ht(t),null;case 19:if(Ee(Ie),A=t.memoizedState,A===null)return ht(t),null;if(n=(t.flags&128)!==0,i=A.rendering,i===null)if(n)va(A,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=uc(e),i!==null){for(t.flags|=128,va(A,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)A=r,e=n,A.flags&=14680066,i=A.alternate,i===null?(A.childLanes=0,A.lanes=e,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=i.childLanes,A.lanes=i.lanes,A.child=i.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=i.memoizedProps,A.memoizedState=i.memoizedState,A.updateQueue=i.updateQueue,A.type=i.type,e=i.dependencies,A.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Ie,Ie.current&1|2),t.child}e=e.sibling}A.tail!==null&&Ke()>qA&&(t.flags|=128,n=!0,va(A,!1),t.lanes=4194304)}else{if(!n)if(e=uc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),va(A,!0),A.tail===null&&A.tailMode==="hidden"&&!i.alternate&&!Ue)return ht(t),null}else 2*Ke()-A.renderingStartTime>qA&&r!==1073741824&&(t.flags|=128,n=!0,va(A,!1),t.lanes=4194304);A.isBackwards?(i.sibling=t.child,t.child=i):(r=A.last,r!==null?r.sibling=i:t.child=i,A.last=i)}return A.tail!==null?(t=A.tail,A.rendering=t,A.tail=t.sibling,A.renderingStartTime=Ke(),t.sibling=null,r=Ie.current,je(Ie,n?r&1|2:r&1),t):(ht(t),null);case 22:case 23:return eg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kt&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function RE(e,t){switch(Im(t),t.tag){case 1:return Lt(t.type)&&sc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return GA(),Ee(Dt),Ee(wt),zm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mm(t),null;case 13:if(Ee(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));VA()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Ie),null;case 4:return GA(),null;case 10:return Pm(t.type._context),null;case 22:case 23:return eg(),null;case 24:return null;default:return null}}var To=!1,pt=!1,ME=typeof WeakSet=="function"?WeakSet:Set,ae=null;function jA(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Oe(e,t,n)}else r.current=null}function $h(e,t,r){try{r()}catch(n){Oe(e,t,n)}}var f0=!1;function zE(e,t){if(Qh=ec,e=Pv(),Sm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,A=n.focusNode;n=n.focusOffset;try{r.nodeType,A.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(o=i+s),d!==A||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===s&&(o=i),h===A&&++c===n&&(l=i),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uh={focusedElem:e,selectionRange:r},ec=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,w=p.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Br(t.type,y),w);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){Oe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return p=f0,f0=!1,p}function ti(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var A=s.destroy;s.destroy=void 0,A!==void 0&&$h(t,r,A)}s=s.next}while(s!==n)}}function su(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ib(e){var t=e.alternate;t!==null&&(e.alternate=null,Ib(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hr],delete t[Ni],delete t[kh],delete t[_E],delete t[jE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tb(e){return e.tag===5||e.tag===3||e.tag===4}function m0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nc));else if(n!==4&&(e=e.child,e!==null))for(Wh(e,t,r),e=e.sibling;e!==null;)Wh(e,t,r),e=e.sibling}function qh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qh(e,t,r),e=e.sibling;e!==null;)qh(e,t,r),e=e.sibling}var nt=null,_r=!1;function vn(e,t,r){for(r=r.child;r!==null;)Db(e,t,r),r=r.sibling}function Db(e,t,r){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Jc,r)}catch{}switch(r.tag){case 5:pt||jA(r,t);case 6:var n=nt,s=_r;nt=null,vn(e,t,r),nt=n,_r=s,nt!==null&&(_r?(e=nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(_r?(e=nt,r=r.stateNode,e.nodeType===8?ed(e.parentNode,r):e.nodeType===1&&ed(e,r),bi(e)):ed(nt,r.stateNode));break;case 4:n=nt,s=_r,nt=r.stateNode.containerInfo,_r=!0,vn(e,t,r),nt=n,_r=s;break;case 0:case 11:case 14:case 15:if(!pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var A=s,i=A.destroy;A=A.tag,i!==void 0&&(A&2||A&4)&&$h(r,t,i),s=s.next}while(s!==n)}vn(e,t,r);break;case 1:if(!pt&&(jA(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Oe(r,t,o)}vn(e,t,r);break;case 21:vn(e,t,r);break;case 22:r.mode&1?(pt=(n=pt)||r.memoizedState!==null,vn(e,t,r),pt=n):vn(e,t,r);break;default:vn(e,t,r)}}function g0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ME),t.forEach(function(n){var s=YE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function yr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var A=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:nt=o.stateNode,_r=!1;break e;case 3:nt=o.stateNode.containerInfo,_r=!0;break e;case 4:nt=o.stateNode.containerInfo,_r=!0;break e}o=o.return}if(nt===null)throw Error(J(160));Db(A,i,s),nt=null,_r=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lb(t,e),t=t.sibling}function Lb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yr(t,e),Tr(e),n&4){try{ti(3,e,e.return),su(3,e)}catch(y){Oe(e,e.return,y)}try{ti(5,e,e.return)}catch(y){Oe(e,e.return,y)}}break;case 1:yr(t,e),Tr(e),n&512&&r!==null&&jA(r,r.return);break;case 5:if(yr(t,e),Tr(e),n&512&&r!==null&&jA(r,r.return),e.flags&32){var s=e.stateNode;try{xi(s,"")}catch(y){Oe(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var A=e.memoizedProps,i=r!==null?r.memoizedProps:A,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&A.type==="radio"&&A.name!=null&&Av(s,A),yh(o,i);var u=yh(o,A);for(i=0;i<l.length;i+=2){var c=l[i],d=l[i+1];c==="style"?cv(s,d):c==="dangerouslySetInnerHTML"?ov(s,d):c==="children"?xi(s,d):ym(s,c,d,u)}switch(o){case"input":fh(s,A);break;case"textarea":av(s,A);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!A.multiple;var m=A.value;m!=null?IA(s,!!A.multiple,m,!1):h!==!!A.multiple&&(A.defaultValue!=null?IA(s,!!A.multiple,A.defaultValue,!0):IA(s,!!A.multiple,A.multiple?[]:"",!1))}s[Ni]=A}catch(y){Oe(e,e.return,y)}}break;case 6:if(yr(t,e),Tr(e),n&4){if(e.stateNode===null)throw Error(J(162));s=e.stateNode,A=e.memoizedProps;try{s.nodeValue=A}catch(y){Oe(e,e.return,y)}}break;case 3:if(yr(t,e),Tr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bi(t.containerInfo)}catch(y){Oe(e,e.return,y)}break;case 4:yr(t,e),Tr(e);break;case 13:yr(t,e),Tr(e),s=e.child,s.flags&8192&&(A=s.memoizedState!==null,s.stateNode.isHidden=A,!A||s.alternate!==null&&s.alternate.memoizedState!==null||(Ym=Ke())),n&4&&g0(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(pt=(u=pt)||c,yr(t,e),pt=u):yr(t,e),Tr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ae=e,c=e.child;c!==null;){for(d=ae=c;ae!==null;){switch(h=ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:ti(4,h,h.return);break;case 1:jA(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Oe(n,r,y)}}break;case 5:jA(h,h.return);break;case 22:if(h.memoizedState!==null){x0(d);continue}}m!==null?(m.return=h,ae=m):x0(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(A=s.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(o=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lv("display",i))}catch(y){Oe(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Oe(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yr(t,e),Tr(e),n&4&&g0(e);break;case 21:break;default:yr(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Tb(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(xi(s,""),n.flags&=-33);var A=m0(e);qh(e,A,s);break;case 3:case 4:var i=n.stateNode.containerInfo,o=m0(e);Wh(e,o,i);break;default:throw Error(J(161))}}catch(l){Oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KE(e,t,r){ae=e,Pb(e)}function Pb(e,t,r){for(var n=(e.mode&1)!==0;ae!==null;){var s=ae,A=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||To;if(!i){var o=s.alternate,l=o!==null&&o.memoizedState!==null||pt;o=To;var u=pt;if(To=i,(pt=l)&&!u)for(ae=s;ae!==null;)i=ae,l=i.child,i.tag===22&&i.memoizedState!==null?y0(s):l!==null?(l.return=i,ae=l):y0(s);for(;A!==null;)ae=A,Pb(A),A=A.sibling;ae=s,To=o,pt=u}p0(e)}else s.subtreeFlags&8772&&A!==null?(A.return=s,ae=A):p0(e)}}function p0(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||su(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Br(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var A=t.updateQueue;A!==null&&t0(t,A,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}t0(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&bi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}pt||t.flags&512&&Gh(t)}catch(h){Oe(t,t.return,h)}}if(t===e){ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,ae=r;break}ae=t.return}}function x0(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ae=r;break}ae=t.return}}function y0(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{su(4,t)}catch(l){Oe(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Oe(t,s,l)}}var A=t.return;try{Gh(t)}catch(l){Oe(t,A,l)}break;case 5:var i=t.return;try{Gh(t)}catch(l){Oe(t,i,l)}}}catch(l){Oe(t,t.return,l)}if(t===e){ae=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ae=o;break}ae=t.return}}var VE=Math.ceil,fc=yn.ReactCurrentDispatcher,Jm=yn.ReactCurrentOwner,ur=yn.ReactCurrentBatchConfig,pe=0,rt=null,We=null,ot=0,Kt=0,NA=os(0),Ze=0,ki=null,Ks=0,Au=0,Xm=0,ri=null,Ut=null,Ym=0,qA=1/0,Yr=null,mc=!1,Jh=null,Gn=null,Do=!1,Ln=null,gc=0,ni=0,Xh=null,Sl=-1,kl=0;function _t(){return pe&6?Ke():Sl!==-1?Sl:Sl=Ke()}function Wn(e){return e.mode&1?pe&2&&ot!==0?ot&-ot:EE.transition!==null?(kl===0&&(kl=bv()),kl):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Qv(e.type)),e):1}function Qr(e,t,r,n){if(50<ni)throw ni=0,Xh=null,Error(J(185));so(e,r,n),(!(pe&2)||e!==rt)&&(e===rt&&(!(pe&2)&&(Au|=r),Ze===4&&kn(e,ot)),Pt(e,n),r===1&&pe===0&&!(t.mode&1)&&(qA=Ke()+500,tu&&ls()))}function Pt(e,t){var r=e.callbackNode;EN(e,t);var n=Zl(e,e===rt?ot:0);if(n===0)r!==null&&Ep(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ep(r),t===1)e.tag===0?NE(w0.bind(null,e)):Wv(w0.bind(null,e)),BE(function(){!(pe&6)&&ls()}),r=null;else{switch(Bv(n)){case 1:r=Cm;break;case 4:r=wv;break;case 16:r=Yl;break;case 536870912:r=vv;break;default:r=Yl}r=$b(r,Hb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Hb(e,t){if(Sl=-1,kl=0,pe&6)throw Error(J(327));var r=e.callbackNode;if(HA()&&e.callbackNode!==r)return null;var n=Zl(e,e===rt?ot:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pc(e,n);else{t=n;var s=pe;pe|=2;var A=Rb();(rt!==e||ot!==t)&&(Yr=null,qA=Ke()+500,ks(e,t));do try{WE();break}catch(o){Ob(e,o)}while(!0);Lm(),fc.current=A,pe=s,We!==null?t=0:(rt=null,ot=0,t=Ze)}if(t!==0){if(t===2&&(s=Ch(e),s!==0&&(n=s,t=Yh(e,s))),t===1)throw r=ki,ks(e,0),kn(e,n),Pt(e,Ke()),r;if(t===6)kn(e,n);else{if(s=e.current.alternate,!(n&30)&&!$E(s)&&(t=pc(e,n),t===2&&(A=Ch(e),A!==0&&(n=A,t=Yh(e,A))),t===1))throw r=ki,ks(e,0),kn(e,n),Pt(e,Ke()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(J(345));case 2:ys(e,Ut,Yr);break;case 3:if(kn(e,n),(n&130023424)===n&&(t=Ym+500-Ke(),10<t)){if(Zl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_t(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Sh(ys.bind(null,e,Ut,Yr),t);break}ys(e,Ut,Yr);break;case 4:if(kn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Er(n);A=1<<i,i=t[i],i>s&&(s=i),n&=~A}if(n=s,n=Ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*VE(n/1960))-n,10<n){e.timeoutHandle=Sh(ys.bind(null,e,Ut,Yr),n);break}ys(e,Ut,Yr);break;case 5:ys(e,Ut,Yr);break;default:throw Error(J(329))}}}return Pt(e,Ke()),e.callbackNode===r?Hb.bind(null,e):null}function Yh(e,t){var r=ri;return e.current.memoizedState.isDehydrated&&(ks(e,t).flags|=256),e=pc(e,t),e!==2&&(t=Ut,Ut=r,t!==null&&Zh(t)),e}function Zh(e){Ut===null?Ut=e:Ut.push.apply(Ut,e)}function $E(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],A=s.getSnapshot;s=s.value;try{if(!Fr(A(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~Xm,t&=~Au,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Er(t),n=1<<r;e[r]=-1,t&=~n}}function w0(e){if(pe&6)throw Error(J(327));HA();var t=Zl(e,0);if(!(t&1))return Pt(e,Ke()),null;var r=pc(e,t);if(e.tag!==0&&r===2){var n=Ch(e);n!==0&&(t=n,r=Yh(e,n))}if(r===1)throw r=ki,ks(e,0),kn(e,t),Pt(e,Ke()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ys(e,Ut,Yr),Pt(e,Ke()),null}function Zm(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(qA=Ke()+500,tu&&ls())}}function Vs(e){Ln!==null&&Ln.tag===0&&!(pe&6)&&HA();var t=pe;pe|=1;var r=ur.transition,n=ve;try{if(ur.transition=null,ve=1,e)return e()}finally{ve=n,ur.transition=r,pe=t,!(pe&6)&&ls()}}function eg(){Kt=NA.current,Ee(NA)}function ks(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bE(r)),We!==null)for(r=We.return;r!==null;){var n=r;switch(Im(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sc();break;case 3:GA(),Ee(Dt),Ee(wt),zm();break;case 5:Mm(n);break;case 4:GA();break;case 13:Ee(Ie);break;case 19:Ee(Ie);break;case 10:Pm(n.type._context);break;case 22:case 23:eg()}r=r.return}if(rt=e,We=e=qn(e.current,null),ot=Kt=t,Ze=0,ki=null,Xm=Au=Ks=0,Ut=ri=null,Ns!==null){for(t=0;t<Ns.length;t++)if(r=Ns[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,A=r.pending;if(A!==null){var i=A.next;A.next=s,n.next=i}r.pending=n}Ns=null}return e}function Ob(e,t){do{var r=We;try{if(Lm(),Ql.current=hc,dc){for(var n=De.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}dc=!1}if(zs=0,tt=Je=De=null,ei=!1,Ui=0,Jm.current=null,r===null||r.return===null){Ze=1,ki=t,We=null;break}e:{var A=e,i=r.return,o=r,l=t;if(t=ot,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=i0(i);if(m!==null){m.flags&=-257,o0(m,i,o,A,t),m.mode&1&&a0(A,u,t),t=m,l=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(l),t.updateQueue=y}else p.add(l);break e}else{if(!(t&1)){a0(A,u,t),tg();break e}l=Error(J(426))}}else if(Ue&&o.mode&1){var w=i0(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),o0(w,i,o,A,t),Tm(WA(l,o));break e}}A=l=WA(l,o),Ze!==4&&(Ze=2),ri===null?ri=[A]:ri.push(A),A=i;do{switch(A.tag){case 3:A.flags|=65536,t&=-t,A.lanes|=t;var g=Bb(A,l,t);e0(A,g);break e;case 1:o=l;var f=A.type,x=A.stateNode;if(!(A.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gn===null||!Gn.has(x)))){A.flags|=65536,t&=-t,A.lanes|=t;var b=Cb(A,o,t);e0(A,b);break e}}A=A.return}while(A!==null)}zb(r)}catch(_){t=_,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function Rb(){var e=fc.current;return fc.current=hc,e===null?hc:e}function tg(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||!(Ks&268435455)&&!(Au&268435455)||kn(rt,ot)}function pc(e,t){var r=pe;pe|=2;var n=Rb();(rt!==e||ot!==t)&&(Yr=null,ks(e,t));do try{GE();break}catch(s){Ob(e,s)}while(!0);if(Lm(),pe=r,fc.current=n,We!==null)throw Error(J(261));return rt=null,ot=0,Ze}function GE(){for(;We!==null;)Mb(We)}function WE(){for(;We!==null&&!yN();)Mb(We)}function Mb(e){var t=Vb(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?zb(e):We=t,Jm.current=null}function zb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=RE(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,We=null;return}}else if(r=OE(r,t,Kt),r!==null){We=r;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ze===0&&(Ze=5)}function ys(e,t,r){var n=ve,s=ur.transition;try{ur.transition=null,ve=1,qE(e,t,r,n)}finally{ur.transition=s,ve=n}return null}function qE(e,t,r,n){do HA();while(Ln!==null);if(pe&6)throw Error(J(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var A=r.lanes|r.childLanes;if(QN(e,A),e===rt&&(We=rt=null,ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Do||(Do=!0,$b(Yl,function(){return HA(),null})),A=(r.flags&15990)!==0,r.subtreeFlags&15990||A){A=ur.transition,ur.transition=null;var i=ve;ve=1;var o=pe;pe|=4,Jm.current=null,zE(e,r),Lb(r,e),mE(Uh),ec=!!Qh,Uh=Qh=null,e.current=r,KE(r),wN(),pe=o,ve=i,ur.transition=A}else e.current=r;if(Do&&(Do=!1,Ln=e,gc=s),A=e.pendingLanes,A===0&&(Gn=null),BN(r.stateNode),Pt(e,Ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mc)throw mc=!1,e=Jh,Jh=null,e;return gc&1&&e.tag!==0&&HA(),A=e.pendingLanes,A&1?e===Xh?ni++:(ni=0,Xh=e):ni=0,ls(),null}function HA(){if(Ln!==null){var e=Bv(gc),t=ur.transition,r=ve;try{if(ur.transition=null,ve=16>e?16:e,Ln===null)var n=!1;else{if(e=Ln,Ln=null,gc=0,pe&6)throw Error(J(331));var s=pe;for(pe|=4,ae=e.current;ae!==null;){var A=ae,i=A.child;if(ae.flags&16){var o=A.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ae=u;ae!==null;){var c=ae;switch(c.tag){case 0:case 11:case 15:ti(8,c,A)}var d=c.child;if(d!==null)d.return=c,ae=d;else for(;ae!==null;){c=ae;var h=c.sibling,m=c.return;if(Ib(c),c===u){ae=null;break}if(h!==null){h.return=m,ae=h;break}ae=m}}}var p=A.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ae=A}}if(A.subtreeFlags&2064&&i!==null)i.return=A,ae=i;else e:for(;ae!==null;){if(A=ae,A.flags&2048)switch(A.tag){case 0:case 11:case 15:ti(9,A,A.return)}var g=A.sibling;if(g!==null){g.return=A.return,ae=g;break e}ae=A.return}}var f=e.current;for(ae=f;ae!==null;){i=ae;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,ae=x;else e:for(i=f;ae!==null;){if(o=ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:su(9,o)}}catch(_){Oe(o,o.return,_)}if(o===i){ae=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,ae=b;break e}ae=o.return}}if(pe=s,ls(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Jc,e)}catch{}n=!0}return n}finally{ve=r,ur.transition=t}}return!1}function v0(e,t,r){t=WA(r,t),t=Bb(e,t,1),e=$n(e,t,1),t=_t(),e!==null&&(so(e,1,t),Pt(e,t))}function Oe(e,t,r){if(e.tag===3)v0(e,e,r);else for(;t!==null;){if(t.tag===3){v0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gn===null||!Gn.has(n))){e=WA(r,e),e=Cb(t,e,1),t=$n(t,e,1),e=_t(),t!==null&&(so(t,1,e),Pt(t,e));break}}t=t.return}}function JE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&r,rt===e&&(ot&r)===r&&(Ze===4||Ze===3&&(ot&130023424)===ot&&500>Ke()-Ym?ks(e,0):Xm|=r),Pt(e,t)}function Kb(e,t){t===0&&(e.mode&1?(t=jo,jo<<=1,!(jo&130023424)&&(jo=4194304)):t=1);var r=_t();e=dn(e,t),e!==null&&(so(e,t,r),Pt(e,r))}function XE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Kb(e,r)}function YE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(t),Kb(e,r)}var Vb;Vb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)St=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return St=!1,HE(e,t,r);St=!!(e.flags&131072)}else St=!1,Ue&&t.flags&1048576&&qv(t,ic,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fl(e,t),e=t.pendingProps;var s=KA(t,wt.current);PA(t,r),s=Vm(null,t,n,e,s,r);var A=$m();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(n)?(A=!0,Ac(t)):A=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Om(t),s.updater=nu,t.stateNode=s,s._reactInternals=t,Hh(t,n,e,r),t=Mh(null,t,n,!0,A,r)):(t.tag=0,Ue&&A&&km(t),bt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=eQ(n),e=Br(n,e),s){case 0:t=Rh(null,t,n,e,r);break e;case 1:t=u0(null,t,n,e,r);break e;case 11:t=l0(null,t,n,e,r);break e;case 14:t=c0(null,t,n,Br(n.type,e),r);break e}throw Error(J(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Br(n,s),Rh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Br(n,s),u0(e,t,n,s,r);case 3:e:{if(Eb(t),e===null)throw Error(J(387));n=t.pendingProps,A=t.memoizedState,s=A.element,tb(e,t),cc(t,n,null,r);var i=t.memoizedState;if(n=i.element,A.isDehydrated)if(A={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=A,t.memoizedState=A,t.flags&256){s=WA(Error(J(423)),t),t=d0(e,t,n,r,s);break e}else if(n!==s){s=WA(Error(J(424)),t),t=d0(e,t,n,r,s);break e}else for(Gt=Vn(t.stateNode.containerInfo.firstChild),Wt=t,Ue=!0,Nr=null,r=Zv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(VA(),n===s){t=hn(e,t,r);break e}bt(e,t,n,r)}t=t.child}return t;case 5:return rb(t),e===null&&Dh(t),n=t.type,s=t.pendingProps,A=e!==null?e.memoizedProps:null,i=s.children,Fh(n,s)?i=null:A!==null&&Fh(n,A)&&(t.flags|=32),Nb(e,t),bt(e,t,i,r),t.child;case 6:return e===null&&Dh(t),null;case 13:return Qb(e,t,r);case 4:return Rm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$A(t,null,n,r):bt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Br(n,s),l0(e,t,n,s,r);case 7:return bt(e,t,t.pendingProps,r),t.child;case 8:return bt(e,t,t.pendingProps.children,r),t.child;case 12:return bt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,A=t.memoizedProps,i=s.value,je(oc,n._currentValue),n._currentValue=i,A!==null)if(Fr(A.value,i)){if(A.children===s.children&&!Dt.current){t=hn(e,t,r);break e}}else for(A=t.child,A!==null&&(A.return=t);A!==null;){var o=A.dependencies;if(o!==null){i=A.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(A.tag===1){l=nn(-1,r&-r),l.tag=2;var u=A.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}A.lanes|=r,l=A.alternate,l!==null&&(l.lanes|=r),Lh(A.return,r,t),o.lanes|=r;break}l=l.next}}else if(A.tag===10)i=A.type===t.type?null:A.child;else if(A.tag===18){if(i=A.return,i===null)throw Error(J(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Lh(i,r,t),i=A.sibling}else i=A.child;if(i!==null)i.return=A;else for(i=A;i!==null;){if(i===t){i=null;break}if(A=i.sibling,A!==null){A.return=i.return,i=A;break}i=i.return}A=i}bt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,PA(t,r),s=fr(s),n=n(s),t.flags|=1,bt(e,t,n,r),t.child;case 14:return n=t.type,s=Br(n,t.pendingProps),s=Br(n.type,s),c0(e,t,n,s,r);case 15:return _b(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Br(n,s),Fl(e,t),t.tag=1,Lt(n)?(e=!0,Ac(t)):e=!1,PA(t,r),bb(t,n,s),Hh(t,n,s,r),Mh(null,t,n,!0,e,r);case 19:return Ub(e,t,r);case 22:return jb(e,t,r)}throw Error(J(156,t.tag))};function $b(e,t){return yv(e,t)}function ZE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(e,t,r,n){return new ZE(e,t,r,n)}function rg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eQ(e){if(typeof e=="function")return rg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vm)return 11;if(e===bm)return 14}return 2}function qn(e,t){var r=e.alternate;return r===null?(r=ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Il(e,t,r,n,s,A){var i=2;if(n=e,typeof e=="function")rg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case pA:return Is(r.children,s,A,t);case wm:i=8,s|=8;break;case lh:return e=ir(12,r,t,s|2),e.elementType=lh,e.lanes=A,e;case ch:return e=ir(13,r,t,s),e.elementType=ch,e.lanes=A,e;case uh:return e=ir(19,r,t,s),e.elementType=uh,e.lanes=A,e;case rv:return au(r,s,A,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ev:i=10;break e;case tv:i=9;break e;case vm:i=11;break e;case bm:i=14;break e;case Qn:i=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=ir(i,r,t,s),t.elementType=e,t.type=n,t.lanes=A,t}function Is(e,t,r,n){return e=ir(7,e,n,t),e.lanes=r,e}function au(e,t,r,n){return e=ir(22,e,n,t),e.elementType=rv,e.lanes=r,e.stateNode={isHidden:!1},e}function od(e,t,r){return e=ir(6,e,null,t),e.lanes=r,e}function ld(e,t,r){return t=ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tQ(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ng(e,t,r,n,s,A,i,o,l){return e=new tQ(e,t,r,o,l),t===1?(t=1,A===!0&&(t|=8)):t=0,A=ir(3,null,null,t),e.current=A,A.stateNode=e,A.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(A),e}function rQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gA,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Gb(e){if(!e)return es;e=e._reactInternals;e:{if(qs(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(Lt(r))return Gv(e,r,t)}return t}function Wb(e,t,r,n,s,A,i,o,l){return e=ng(r,n,!0,e,s,A,i,o,l),e.context=Gb(null),r=e.current,n=_t(),s=Wn(r),A=nn(n,s),A.callback=t??null,$n(r,A,s),e.current.lanes=s,so(e,s,n),Pt(e,n),e}function iu(e,t,r,n){var s=t.current,A=_t(),i=Wn(s);return r=Gb(r),t.context===null?t.context=r:t.pendingContext=r,t=nn(A,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$n(s,t,i),e!==null&&(Qr(e,s,i,A),El(e,s,i)),i}function xc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function b0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sg(e,t){b0(e,t),(e=e.alternate)&&b0(e,t)}function nQ(){return null}var qb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ag(e){this._internalRoot=e}ou.prototype.render=Ag.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));iu(e,t,null,null)};ou.prototype.unmount=Ag.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vs(function(){iu(null,e,null,null)}),t[un]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=jv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sn.length&&t!==0&&t<Sn[r].priority;r++);Sn.splice(r,0,e),r===0&&Ev(e)}};function ag(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B0(){}function sQ(e,t,r,n,s){if(s){if(typeof n=="function"){var A=n;n=function(){var u=xc(i);A.call(u)}}var i=Wb(t,n,e,0,null,!1,!1,"",B0);return e._reactRootContainer=i,e[un]=i.current,_i(e.nodeType===8?e.parentNode:e),Vs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=xc(l);o.call(u)}}var l=ng(e,0,!1,null,null,!1,!1,"",B0);return e._reactRootContainer=l,e[un]=l.current,_i(e.nodeType===8?e.parentNode:e),Vs(function(){iu(t,l,r,n)}),l}function cu(e,t,r,n,s){var A=r._reactRootContainer;if(A){var i=A;if(typeof s=="function"){var o=s;s=function(){var l=xc(i);o.call(l)}}iu(t,i,e,s)}else i=sQ(r,t,e,s,n);return xc(i)}Cv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Da(t.pendingLanes);r!==0&&(_m(t,r|1),Pt(t,Ke()),!(pe&6)&&(qA=Ke()+500,ls()))}break;case 13:Vs(function(){var n=dn(e,1);if(n!==null){var s=_t();Qr(n,e,1,s)}}),sg(e,1)}};jm=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var r=_t();Qr(t,e,134217728,r)}sg(e,134217728)}};_v=function(e){if(e.tag===13){var t=Wn(e),r=dn(e,t);if(r!==null){var n=_t();Qr(r,e,t,n)}sg(e,t)}};jv=function(){return ve};Nv=function(e,t){var r=ve;try{return ve=e,t()}finally{ve=r}};vh=function(e,t,r){switch(t){case"input":if(fh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=eu(n);if(!s)throw Error(J(90));sv(n),fh(n,s)}}}break;case"textarea":av(e,r);break;case"select":t=r.value,t!=null&&IA(e,!!r.multiple,t,!1)}};hv=Zm;fv=Vs;var AQ={usingClientEntryPoint:!1,Events:[ao,vA,eu,uv,dv,Zm]},ba={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aQ={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pv(e),e===null?null:e.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||nQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{Jc=Lo.inject(aQ),Rr=Lo}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AQ;Xt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ag(t))throw Error(J(200));return rQ(e,t,null,r)};Xt.createRoot=function(e,t){if(!ag(e))throw Error(J(299));var r=!1,n="",s=qb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ng(e,1,!1,null,null,r,!1,n,s),e[un]=t.current,_i(e.nodeType===8?e.parentNode:e),new Ag(t)};Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=pv(t),e=e===null?null:e.stateNode,e};Xt.flushSync=function(e){return Vs(e)};Xt.hydrate=function(e,t,r){if(!lu(t))throw Error(J(200));return cu(null,e,t,!0,r)};Xt.hydrateRoot=function(e,t,r){if(!ag(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,s=!1,A="",i=qb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(A=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Wb(t,null,e,1,r??null,s,!1,A,i),e[un]=t.current,_i(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ou(t)};Xt.render=function(e,t,r){if(!lu(t))throw Error(J(200));return cu(null,e,t,!1,r)};Xt.unmountComponentAtNode=function(e){if(!lu(e))throw Error(J(40));return e._reactRootContainer?(Vs(function(){cu(null,null,e,!1,function(){e._reactRootContainer=null,e[un]=null})}),!0):!1};Xt.unstable_batchedUpdates=Zm;Xt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!lu(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return cu(e,t,r,!1,n)};Xt.version="18.3.1-next-f1338f8080-20240426";function Jb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jb)}catch(e){console.error(e)}}Jb(),Jw.exports=Xt;var iQ=Jw.exports,Xb,ig,C0=iQ;ig=Wl.createRoot=C0.createRoot,Xb=Wl.hydrateRoot=C0.hydrateRoot;const og=Ij({__proto__:null,get createRoot(){return ig},default:Wl,get hydrateRoot(){return Xb}},[Wl]);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _0="popstate";function oQ(e={}){function t(n,s){let{pathname:A,search:i,hash:o}=n.location;return ef("",{pathname:A,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ii(s)}return cQ(t,r,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lQ(){return Math.random().toString(36).substring(2,10)}function j0(e,t){return{usr:e.state,key:e.key,idx:t}}function ef(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Aa(t):t,state:r,key:t&&t.key||n||lQ()}}function Ii({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Aa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function cQ(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:A=!1}=n,i=s.history,o="POP",l=null,u=c();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function c(){return(i.state||{idx:null}).idx}function d(){o="POP";let w=c(),g=w==null?null:w-u;u=w,l&&l({action:o,location:y.location,delta:g})}function h(w,g){o="PUSH";let f=ef(y.location,w,g);u=c()+1;let x=j0(f,u),b=y.createHref(f);try{i.pushState(x,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(b)}A&&l&&l({action:o,location:y.location,delta:1})}function m(w,g){o="REPLACE";let f=ef(y.location,w,g);u=c();let x=j0(f,u),b=y.createHref(f);i.replaceState(x,"",b),A&&l&&l({action:o,location:y.location,delta:0})}function p(w){return uQ(w)}let y={get action(){return o},get location(){return e(s,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(_0,d),l=w,()=>{s.removeEventListener(_0,d),l=null}},createHref(w){return t(s,w)},createURL:p,encodeLocation(w){let g=p(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(w){return i.go(w)}};return y}function uQ(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Se(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ii(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Yb(e,t,r="/"){return dQ(e,t,r,!1)}function dQ(e,t,r,n){let s=typeof t=="string"?Aa(t):t,A=fn(s.pathname||"/",r);if(A==null)return null;let i=Zb(e);hQ(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let u=CQ(A);o=bQ(i[l],u,n)}return o}function Zb(e,t=[],r=[],n="",s=!1){let A=(i,o,l=s,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;Se(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let d=sn([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(Se(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Zb(i.children,t,h,d,l)),!(i.path==null&&!i.index)&&t.push({path:d,score:wQ(d,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))A(i,o);else for(let u of eB(i.path))A(i,o,!0,u)}),t}function eB(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),A=r.replace(/\?$/,"");if(n.length===0)return s?[A,""]:[A];let i=eB(n.join("/")),o=[];return o.push(...i.map(l=>l===""?A:[A,l].join("/"))),s&&o.push(...i),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function hQ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vQ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var fQ=/^:[\w-]+$/,mQ=3,gQ=2,pQ=1,xQ=10,yQ=-2,N0=e=>e==="*";function wQ(e,t){let r=e.split("/"),n=r.length;return r.some(N0)&&(n+=yQ),t&&(n+=gQ),r.filter(s=>!N0(s)).reduce((s,A)=>s+(fQ.test(A)?mQ:A===""?pQ:xQ),n)}function vQ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function bQ(e,t,r=!1){let{routesMeta:n}=e,s={},A="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=A==="/"?t:t.slice(A.length)||"/",d=yc({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=yc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:sn([A,d.pathname]),pathnameBase:EQ(sn([A,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(A=sn([A,d.pathnameBase]))}return i}function yc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=BQ(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let A=s[0],i=A.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let p=o[h]||"";i=A.slice(0,A.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[h];return d&&!m?u[c]=void 0:u[c]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:A,pathnameBase:i,pattern:e}}function BQ(e,t=!1,r=!0){gr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function CQ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _Q(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Aa(e):e;return{pathname:r?r.startsWith("/")?r:jQ(r,t):t,search:QQ(n),hash:UQ(s)}}function jQ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cd(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NQ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lg(e){let t=NQ(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function cg(e,t,r,n=!1){let s;typeof e=="string"?s=Aa(e):(s={...e},Se(!s.pathname||!s.pathname.includes("?"),cd("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),cd("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),cd("#","search","hash",s)));let A=e===""||s.pathname==="",i=A?"/":s.pathname,o;if(i==null)o=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=_Q(s,o),u=i&&i!=="/"&&i.endsWith("/"),c=(A||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var sn=e=>e.join("/").replace(/\/\/+/g,"/"),EQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FQ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var tB=["POST","PUT","PATCH","DELETE"];new Set(tB);var SQ=["GET",...tB];new Set(SQ);var aa=v.createContext(null);aa.displayName="DataRouter";var uu=v.createContext(null);uu.displayName="DataRouterState";v.createContext(!1);var rB=v.createContext({isTransitioning:!1});rB.displayName="ViewTransition";var kQ=v.createContext(new Map);kQ.displayName="Fetchers";var IQ=v.createContext(null);IQ.displayName="Await";var Sr=v.createContext(null);Sr.displayName="Navigation";var oo=v.createContext(null);oo.displayName="Location";var kr=v.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var ug=v.createContext(null);ug.displayName="RouteError";function TQ(e,{relative:t}={}){Se(ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(Sr),{hash:s,pathname:A,search:i}=lo(e,{relative:t}),o=A;return r!=="/"&&(o=A==="/"?r:sn([r,A])),n.createHref({pathname:o,search:i,hash:s})}function ia(){return v.useContext(oo)!=null}function pr(){return Se(ia(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(oo).location}var nB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sB(e){v.useContext(Sr).static||v.useLayoutEffect(e)}function ut(){let{isDataRoute:e}=v.useContext(kr);return e?qQ():DQ()}function DQ(){Se(ia(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(aa),{basename:t,navigator:r}=v.useContext(Sr),{matches:n}=v.useContext(kr),{pathname:s}=pr(),A=JSON.stringify(lg(n)),i=v.useRef(!1);return sB(()=>{i.current=!0}),v.useCallback((l,u={})=>{if(gr(i.current,nB),!i.current)return;if(typeof l=="number"){r.go(l);return}let c=cg(l,JSON.parse(A),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:sn([t,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[t,r,A,s,e])}v.createContext(null);function LQ(){let{matches:e}=v.useContext(kr),t=e[e.length-1];return t?t.params:{}}function lo(e,{relative:t}={}){let{matches:r}=v.useContext(kr),{pathname:n}=pr(),s=JSON.stringify(lg(r));return v.useMemo(()=>cg(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function PQ(e,t){return AB(e,t)}function AB(e,t,r,n,s){var f;Se(ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:A}=v.useContext(Sr),{matches:i}=v.useContext(kr),o=i[i.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let x=d&&d.path||"";aB(u,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=pr(),m;if(t){let x=typeof t=="string"?Aa(t):t;Se(c==="/"||((f=x.pathname)==null?void 0:f.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),m=x}else m=h;let p=m.pathname||"/",y=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=Yb(e,{pathname:y});gr(d||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),gr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=zQ(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:sn([c,A.encodeLocation?A.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:sn([c,A.encodeLocation?A.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),i,r,n,s);return t&&g?v.createElement(oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function HQ(){let e=WQ(),t=FQ(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},A={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:A},"ErrorBoundary")," or"," ",v.createElement("code",{style:A},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,i)}var OQ=v.createElement(HQ,null),RQ=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(kr.Provider,{value:this.props.routeContext},v.createElement(ug.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MQ({routeContext:e,match:t,children:r}){let n=v.useContext(aa);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(kr.Provider,{value:e},r)}function zQ(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let A=e,i=r==null?void 0:r.errors;if(i!=null){let u=A.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);Se(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),A=A.slice(0,Math.min(A.length,u+1))}let o=!1,l=-1;if(r)for(let u=0;u<A.length;u++){let c=A[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:h}=r,m=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||m){o=!0,l>=0?A=A.slice(0,l+1):A=[A[0]];break}}}return A.reduceRight((u,c,d)=>{let h,m=!1,p=null,y=null;r&&(h=i&&c.route.id?i[c.route.id]:void 0,p=c.route.errorElement||OQ,o&&(l<0&&d===0?(aB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,y=null):l===d&&(m=!0,y=c.route.hydrateFallbackElement||null)));let w=t.concat(A.slice(0,d+1)),g=()=>{let f;return h?f=p:m?f=y:c.route.Component?f=v.createElement(c.route.Component,null):c.route.element?f=c.route.element:f=u,v.createElement(MQ,{match:c,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:f})};return r&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?v.createElement(RQ,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):g()},null)}function dg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KQ(e){let t=v.useContext(aa);return Se(t,dg(e)),t}function VQ(e){let t=v.useContext(uu);return Se(t,dg(e)),t}function $Q(e){let t=v.useContext(kr);return Se(t,dg(e)),t}function hg(e){let t=$Q(e),r=t.matches[t.matches.length-1];return Se(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function GQ(){return hg("useRouteId")}function WQ(){var n;let e=v.useContext(ug),t=VQ("useRouteError"),r=hg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function qQ(){let{router:e}=KQ("useNavigate"),t=hg("useNavigate"),r=v.useRef(!1);return sB(()=>{r.current=!0}),v.useCallback(async(s,A={})=>{gr(r.current,nB),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...A}))},[e,t])}var E0={};function aB(e,t,r){!t&&!E0[e]&&(E0[e]=!0,gr(!1,r))}v.memo(JQ);function JQ({routes:e,future:t,state:r,unstable_onError:n}){return AB(e,void 0,r,n,t)}function iB({to:e,replace:t,state:r,relative:n}){Se(ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Sr);gr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:A}=v.useContext(kr),{pathname:i}=pr(),o=ut(),l=cg(e,lg(A),i,n==="path"),u=JSON.stringify(l);return v.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function ft(e){Se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XQ({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:A=!1}){Se(!ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),o=v.useMemo(()=>({basename:i,navigator:s,static:A,future:{}}),[i,s,A]);typeof r=="string"&&(r=Aa(r));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:h="default"}=r,m=v.useMemo(()=>{let p=fn(l,i);return p==null?null:{location:{pathname:p,search:u,hash:c,state:d,key:h},navigationType:n}},[i,l,u,c,d,h,n]);return gr(m!=null,`<Router basename="${i}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(Sr.Provider,{value:o},v.createElement(oo.Provider,{children:t,value:m}))}function YQ({children:e,location:t}){return PQ(tf(e),t)}function tf(e,t=[]){let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let A=[...t,s];if(n.type===v.Fragment){r.push.apply(r,tf(n.props.children,A));return}Se(n.type===ft,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Se(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||A.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=tf(n.props.children,A)),r.push(i)}),r}var Tl="get",Dl="application/x-www-form-urlencoded";function du(e){return e!=null&&typeof e.tagName=="string"}function ZQ(e){return du(e)&&e.tagName.toLowerCase()==="button"}function eU(e){return du(e)&&e.tagName.toLowerCase()==="form"}function tU(e){return du(e)&&e.tagName.toLowerCase()==="input"}function rU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nU(e,t){return e.button===0&&(!t||t==="_self")&&!rU(e)}function rf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function sU(e,t){let r=rf(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(A=>{r.append(s,A)})}),r}var Po=null;function AU(){if(Po===null)try{new FormData(document.createElement("form"),0),Po=!1}catch{Po=!0}return Po}var aU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ud(e){return e!=null&&!aU.has(e)?(gr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dl}"`),null):e}function iU(e,t){let r,n,s,A,i;if(eU(e)){let o=e.getAttribute("action");n=o?fn(o,t):null,r=e.getAttribute("method")||Tl,s=ud(e.getAttribute("enctype"))||Dl,A=new FormData(e)}else if(ZQ(e)||tU(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?fn(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Tl,s=ud(e.getAttribute("formenctype"))||ud(o.getAttribute("enctype"))||Dl,A=new FormData(o,e),!AU()){let{name:u,type:c,value:d}=e;if(c==="image"){let h=u?`${u}.`:"";A.append(`${h}x`,"0"),A.append(`${h}y`,"0")}else u&&A.append(u,d)}}else{if(du(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Tl,n=null,s=Dl,i=e}return A&&s==="text/plain"&&(i=A,A=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:A,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oU(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&fn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function lU(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function uU(e,t,r){let n=await Promise.all(e.map(async s=>{let A=t.routes[s.route.id];if(A){let i=await lU(A,r);return i.links?i.links():[]}return[]}));return mU(n.flat(1).filter(cU).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Q0(e,t,r,n,s,A){let i=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return A==="assets"?t.filter((l,u)=>i(l,u)||o(l,u)):A==="data"?t.filter((l,u)=>{var d;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(i(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function dU(e,t,{includeHydrateFallback:r}={}){return hU(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let A=[s.module];return s.clientActionModule&&(A=A.concat(s.clientActionModule)),s.clientLoaderModule&&(A=A.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(A=A.concat(s.hydrateFallbackModule)),s.imports&&(A=A.concat(s.imports)),A}).flat(1))}function hU(e){return[...new Set(e)]}function fU(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function mU(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let A=JSON.stringify(fU(s));return r.has(A)||(r.add(A),n.push({key:A,link:s})),n},[])}function oB(){let e=v.useContext(aa);return fg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gU(){let e=v.useContext(uu);return fg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mg=v.createContext(void 0);mg.displayName="FrameworkContext";function lB(){let e=v.useContext(mg);return fg(e,"You must render this element inside a <HydratedRouter> element"),e}function pU(e,t){let r=v.useContext(mg),[n,s]=v.useState(!1),[A,i]=v.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let y=g=>{g.forEach(f=>{i(f.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(n){let y=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(y)}}},[n]);let m=()=>{s(!0)},p=()=>{s(!1),i(!1)};return r?e!=="intent"?[A,h,{}]:[A,h,{onFocus:Ba(o,m),onBlur:Ba(l,p),onMouseEnter:Ba(u,m),onMouseLeave:Ba(c,p),onTouchStart:Ba(d,m)}]:[!1,h,{}]}function Ba(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function xU({page:e,...t}){let{router:r}=oB(),n=v.useMemo(()=>Yb(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(wU,{page:e,matches:n,...t}):null}function yU(e){let{manifest:t,routeModules:r}=lB(),[n,s]=v.useState([]);return v.useEffect(()=>{let A=!1;return uU(e,t,r).then(i=>{A||s(i)}),()=>{A=!0}},[e,t,r]),n}function wU({page:e,matches:t,...r}){let n=pr(),{manifest:s,routeModules:A}=lB(),{basename:i}=oB(),{loaderData:o,matches:l}=gU(),u=v.useMemo(()=>Q0(e,t,l,s,n,"data"),[e,t,l,s,n]),c=v.useMemo(()=>Q0(e,t,l,s,n,"assets"),[e,t,l,s,n]),d=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,y=!1;if(t.forEach(g=>{var x;let f=s.routes[g.route.id];!f||!f.hasLoader||(!u.some(b=>b.route.id===g.route.id)&&g.route.id in o&&((x=A[g.route.id])!=null&&x.shouldRevalidate)||f.hasClientLoader?y=!0:p.add(g.route.id))}),p.size===0)return[];let w=oU(e,i,"data");return y&&p.size>0&&w.searchParams.set("_routes",t.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[i,o,n,s,u,t,e,A]),h=v.useMemo(()=>dU(c,s),[c,s]),m=yU(c);return v.createElement(v.Fragment,null,d.map(p=>v.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),h.map(p=>v.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:y})=>v.createElement("link",{key:p,nonce:r.nonce,...y})))}function vU(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var cB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cB&&(window.__reactRouterVersion="7.9.4")}catch{}function bU({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=oQ({window:r,v5Compat:!0}));let s=n.current,[A,i]=v.useState({action:s.action,location:s.location}),o=v.useCallback(l=>{v.startTransition(()=>i(l))},[i]);return v.useLayoutEffect(()=>s.listen(o),[s,o]),v.createElement(XQ,{basename:e,children:t,location:A.location,navigationType:A.action,navigator:s})}var uB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ti=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:A,replace:i,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d,...h},m){let{basename:p}=v.useContext(Sr),y=typeof u=="string"&&uB.test(u),w,g=!1;if(typeof u=="string"&&y&&(w=u,cB))try{let F=new URL(window.location.href),D=u.startsWith("//")?new URL(F.protocol+u):new URL(u),T=fn(D.pathname,p);D.origin===F.origin&&T!=null?u=T+D.search+D.hash:g=!0}catch{gr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let f=TQ(u,{relative:s}),[x,b,_]=pU(n,h),C=jU(u,{replace:i,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:d});function N(F){t&&t(F),F.defaultPrevented||C(F)}let j=v.createElement("a",{...h,..._,href:w||f,onClick:g||A?t:N,ref:vU(m,b),target:l,"data-discover":!y&&r==="render"?"true":void 0});return x&&!y?v.createElement(v.Fragment,null,j,v.createElement(xU,{page:f})):j});Ti.displayName="Link";var BU=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:A,to:i,viewTransition:o,children:l,...u},c){let d=lo(i,{relative:u.relative}),h=pr(),m=v.useContext(uu),{navigator:p,basename:y}=v.useContext(Sr),w=m!=null&&SU(d)&&o===!0,g=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,f=h.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(f=f.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&y&&(x=fn(x,y)||x);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let _=f===g||!s&&f.startsWith(g)&&f.charAt(b)==="/",C=x!=null&&(x===g||!s&&x.startsWith(g)&&x.charAt(g.length)==="/"),N={isActive:_,isPending:C,isTransitioning:w},j=_?t:void 0,F;typeof n=="function"?F=n(N):F=[n,_?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D=typeof A=="function"?A(N):A;return v.createElement(Ti,{...u,"aria-current":j,className:F,ref:c,style:D,to:i,viewTransition:o},typeof l=="function"?l(N):l)});BU.displayName="NavLink";var CU=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:A,method:i=Tl,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...h},m)=>{let p=UU(),y=FU(o,{relative:u}),w=i.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&uB.test(o),f=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let b=x.nativeEvent.submitter,_=(b==null?void 0:b.getAttribute("formmethod"))||i;p(b||x.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:s,state:A,relative:u,preventScrollReset:c,viewTransition:d})};return v.createElement("form",{ref:m,method:w,action:y,onSubmit:n?l:f,...h,"data-discover":!g&&e==="render"?"true":void 0})});CU.displayName="Form";function _U(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dB(e){let t=v.useContext(aa);return Se(t,_U(e)),t}function jU(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:A,viewTransition:i}={}){let o=ut(),l=pr(),u=lo(e,{relative:A});return v.useCallback(c=>{if(nU(c,t)){c.preventDefault();let d=r!==void 0?r:Ii(l)===Ii(u);o(e,{replace:d,state:n,preventScrollReset:s,relative:A,viewTransition:i})}},[l,o,u,r,n,t,e,s,A,i])}function NU(e){gr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(rf(e)),r=v.useRef(!1),n=pr(),s=v.useMemo(()=>sU(n.search,r.current?null:t.current),[n.search]),A=ut(),i=v.useCallback((o,l)=>{const u=rf(typeof o=="function"?o(new URLSearchParams(s)):o);r.current=!0,A("?"+u,l)},[A,s]);return[s,i]}var EU=0,QU=()=>`__${String(++EU)}__`;function UU(){let{router:e}=dB("useSubmit"),{basename:t}=v.useContext(Sr),r=GQ();return v.useCallback(async(n,s={})=>{let{action:A,method:i,encType:o,formData:l,body:u}=iU(n,t);if(s.navigate===!1){let c=s.fetcherKey||QU();await e.fetch(c,r,s.action||A,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||i,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||A,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||i,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function FU(e,{relative:t}={}){let{basename:r}=v.useContext(Sr),n=v.useContext(kr);Se(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),A={...lo(e||".",{relative:t})},i=pr();if(e==null){A.search=i.search;let o=new URLSearchParams(A.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let c=o.toString();A.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(A.search=A.search?A.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(A.pathname=A.pathname==="/"?r:sn([r,A.pathname])),Ii(A)}function SU(e,{relative:t}={}){let r=v.useContext(rB);Se(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=dB("useViewTransitionState"),s=lo(e,{relative:t});if(!r.isTransitioning)return!1;let A=fn(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=fn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return yc(s.pathname,i)!=null||yc(s.pathname,A)!=null}var nf=function(e,t){return nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},nf(e,t)};function hB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nf(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wc=function(){return wc=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(t[A]=r[A])}return t},wc.apply(this,arguments)};function oa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function fB(e,t,r,n){var s=arguments.length,A=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(A=(s<3?i(A):s>3?i(t,r,A):i(t,r))||A);return s>3&&A&&Object.defineProperty(t,r,A),A}function mB(e,t){return function(r,n){t(r,n,e)}}function gB(e,t,r,n,s,A){function i(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d,h=!1,m=r.length-1;m>=0;m--){var p={};for(var y in n)p[y]=y==="access"?{}:n[y];for(var y in n.access)p.access[y]=n.access[y];p.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");A.push(i(g||null))};var w=(0,r[m])(o==="accessor"?{get:c.get,set:c.set}:c[l],p);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(d=i(w.get))&&(c.get=d),(d=i(w.set))&&(c.set=d),(d=i(w.init))&&s.unshift(d)}else(d=i(w))&&(o==="field"?s.unshift(d):c[l]=d)}u&&Object.defineProperty(u,n.name,c),h=!0}function pB(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function xB(e){return typeof e=="symbol"?e:"".concat(e)}function yB(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function wB(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function oe(e,t,r,n){function s(A){return A instanceof r?A:new r(function(i){i(A)})}return new(r||(r=Promise))(function(A,i){function o(c){try{u(n.next(c))}catch(d){i(d)}}function l(c){try{u(n.throw(c))}catch(d){i(d)}}function u(c){c.done?A(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function vB(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,s,A,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(A=u[0]&2?s.return:u[0]?s.throw||((A=s.return)&&A.call(s),0):s.next)&&!(A=A.call(s,u[1])).done)return A;switch(s=0,A&&(u=[u[0]&2,A.value]),u[0]){case 0:case 1:A=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!A||u[1]>A[0]&&u[1]<A[3])){r.label=u[1];break}if(u[0]===6&&r.label<A[1]){r.label=A[1],A=u;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(u);break}A[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],s=0}finally{n=A=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var hu=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function bB(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hu(t,e,r)}function vc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gg(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,A=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)A.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return A}function BB(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gg(arguments[t]));return e}function CB(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var A=arguments[t],i=0,o=A.length;i<o;i++,s++)n[s]=A[i];return n}function _B(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,A;n<s;n++)(A||!(n in t))&&(A||(A=Array.prototype.slice.call(t,0,n)),A[n]=t[n]);return e.concat(A||Array.prototype.slice.call(t))}function JA(e){return this instanceof JA?(this.v=e,this):new JA(e)}function jB(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,A=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(m){return function(p){return Promise.resolve(p).then(m,d)}}function o(m,p){n[m]&&(s[m]=function(y){return new Promise(function(w,g){A.push([m,y,w,g])>1||l(m,y)})},p&&(s[m]=p(s[m])))}function l(m,p){try{u(n[m](p))}catch(y){h(A[0][3],y)}}function u(m){m.value instanceof JA?Promise.resolve(m.value.v).then(c,d):h(A[0][2],m)}function c(m){l("next",m)}function d(m){l("throw",m)}function h(m,p){m(p),A.shift(),A.length&&l(A[0][0],A[0][1])}}function NB(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,A){t[s]=e[s]?function(i){return(r=!r)?{value:JA(e[s](i)),done:!1}:A?A(i):i}:A}}function EB(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof vc=="function"?vc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(A){r[A]=e[A]&&function(i){return new Promise(function(o,l){i=e[A](i),s(o,l,i.done,i.value)})}}function s(A,i,o,l){Promise.resolve(l).then(function(u){A({value:u,done:o})},i)}}function QB(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var kU=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},sf=function(e){return sf=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},sf(e)};function UB(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=sf(e),n=0;n<r.length;n++)r[n]!=="default"&&hu(t,e,r[n]);return kU(t,e),t}function FB(e){return e&&e.__esModule?e:{default:e}}function SB(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function kB(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function IB(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function TB(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(A){return Promise.reject(A)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var IU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function DB(e){function t(A){e.error=e.hasError?new IU(A,e.error,"An error was suppressed during disposal."):A,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var A=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(A).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function LB(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,A,i){return n?t?".jsx":".js":s&&(!A||!i)?r:s+A+"."+i.toLowerCase()+"js"}):e}const TU={__extends:hB,__assign:wc,__rest:oa,__decorate:fB,__param:mB,__esDecorate:gB,__runInitializers:pB,__propKey:xB,__setFunctionName:yB,__metadata:wB,__awaiter:oe,__generator:vB,__createBinding:hu,__exportStar:bB,__values:vc,__read:gg,__spread:BB,__spreadArrays:CB,__spreadArray:_B,__await:JA,__asyncGenerator:jB,__asyncDelegator:NB,__asyncValues:EB,__makeTemplateObject:QB,__importStar:UB,__importDefault:FB,__classPrivateFieldGet:SB,__classPrivateFieldSet:kB,__classPrivateFieldIn:IB,__addDisposableResource:TB,__disposeResources:DB,__rewriteRelativeImportExtension:LB},DU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:TB,get __assign(){return wc},__asyncDelegator:NB,__asyncGenerator:jB,__asyncValues:EB,__await:JA,__awaiter:oe,__classPrivateFieldGet:SB,__classPrivateFieldIn:IB,__classPrivateFieldSet:kB,__createBinding:hu,__decorate:fB,__disposeResources:DB,__esDecorate:gB,__exportStar:bB,__extends:hB,__generator:vB,__importDefault:FB,__importStar:UB,__makeTemplateObject:QB,__metadata:wB,__param:mB,__propKey:xB,__read:gg,__rest:oa,__rewriteRelativeImportExtension:LB,__runInitializers:pB,__setFunctionName:yB,__spread:BB,__spreadArray:_B,__spreadArrays:CB,__values:vc,default:TU},Symbol.toStringTag,{value:"Module"})),LU="modulepreload",PU=function(e){return"/"+e},U0={},wn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=PU(l),l in U0)return;U0[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":LU,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function A(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&A(o.reason);return t().catch(A)})},HU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Js);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class pg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class F0 extends pg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class S0 extends pg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class k0 extends pg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Af;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Af||(Af={}));class OU{constructor(t,{headers:r={},customFetch:n,region:s=Af.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=HU(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return oe(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:A,method:i,body:o,signal:l}=n;let u={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${r}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;o&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(u["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(u["Content-Type"]="application/json",h=JSON.stringify(o)):h=o;const m=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),A),body:h,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new F0(g)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new S0(m);if(!m.ok)throw new k0(m);let y=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield m.json():y==="application/octet-stream"||y==="application/pdf"?w=yield m.blob():y==="text/event-stream"?w=m:y==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(A){return A instanceof Error&&A.name==="AbortError"?{data:null,error:new F0(A)}:{data:null,error:A,response:A instanceof k0||A instanceof S0?A.context:void 0}}})}}var Ft={};const la=Pw(DU);var Ho={},Oo={},Ro={},Mo={},zo={},RU=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},XA=RU();const MU=XA.fetch,PB=XA.fetch.bind(XA),HB=XA.Headers,zU=XA.Request,KU=XA.Response,Js=Object.freeze(Object.defineProperty({__proto__:null,Headers:HB,Request:zU,Response:KU,default:PB,fetch:MU},Symbol.toStringTag,{value:"Module"})),VU=Pw(Js);var Ko={},I0;function OB(){if(I0)return Ko;I0=1,Object.defineProperty(Ko,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ko.default=e,Ko}var T0;function RB(){if(T0)return zo;T0=1,Object.defineProperty(zo,"__esModule",{value:!0});const e=la,t=e.__importDefault(VU),r=e.__importDefault(OB());class n{constructor(A){var i,o;this.shouldThrowOnError=!1,this.method=A.method,this.url=A.url,this.headers=new Headers(A.headers),this.schema=A.schema,this.body=A.body,this.shouldThrowOnError=(i=A.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=A.signal,this.isMaybeSingle=(o=A.isMaybeSingle)!==null&&o!==void 0?o:!1,A.fetch?this.fetch=A.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(A,i){return this.headers=new Headers(this.headers),this.headers.set(A,i),this}then(A,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,h,m;let p=null,y=null,w=null,g=u.status,f=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=C:y=JSON.parse(C))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&_&&_.length>1&&(w=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,g=406,f="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const b=await u.text();try{p=JSON.parse(b),Array.isArray(p)&&u.status===404&&(y=[],p=null,g=200,f="OK")}catch{u.status===404&&b===""?(g=204,f="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,g=200,f="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:y,count:w,status:g,statusText:f}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,h;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(A,i)}returns(){return this}overrideTypes(){return this}}return zo.default=n,zo}var D0;function MB(){if(D0)return Mo;D0=1,Object.defineProperty(Mo,"__esModule",{value:!0});const t=la.__importDefault(RB());class r extends t.default{select(s){let A=!1;const i=(s??"*").split("").map(o=>/\s/.test(o)&&!A?"":(o==='"'&&(A=!A),o)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:A=!0,nullsFirst:i,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${A?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:A,referencedTable:i=A}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,A,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${A-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:A=!1,settings:i=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var c;const d=[s?"analyze":null,A?"verbose":null,i?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Mo.default=r,Mo}var L0;function xg(){if(L0)return Ro;L0=1,Object.defineProperty(Ro,"__esModule",{value:!0});const t=la.__importDefault(MB());class r extends t.default{eq(s,A){return this.url.searchParams.append(s,`eq.${A}`),this}neq(s,A){return this.url.searchParams.append(s,`neq.${A}`),this}gt(s,A){return this.url.searchParams.append(s,`gt.${A}`),this}gte(s,A){return this.url.searchParams.append(s,`gte.${A}`),this}lt(s,A){return this.url.searchParams.append(s,`lt.${A}`),this}lte(s,A){return this.url.searchParams.append(s,`lte.${A}`),this}like(s,A){return this.url.searchParams.append(s,`like.${A}`),this}likeAllOf(s,A){return this.url.searchParams.append(s,`like(all).{${A.join(",")}}`),this}likeAnyOf(s,A){return this.url.searchParams.append(s,`like(any).{${A.join(",")}}`),this}ilike(s,A){return this.url.searchParams.append(s,`ilike.${A}`),this}ilikeAllOf(s,A){return this.url.searchParams.append(s,`ilike(all).{${A.join(",")}}`),this}ilikeAnyOf(s,A){return this.url.searchParams.append(s,`ilike(any).{${A.join(",")}}`),this}is(s,A){return this.url.searchParams.append(s,`is.${A}`),this}in(s,A){const i=Array.from(new Set(A)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}contains(s,A){return typeof A=="string"?this.url.searchParams.append(s,`cs.${A}`):Array.isArray(A)?this.url.searchParams.append(s,`cs.{${A.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(A)}`),this}containedBy(s,A){return typeof A=="string"?this.url.searchParams.append(s,`cd.${A}`):Array.isArray(A)?this.url.searchParams.append(s,`cd.{${A.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(A)}`),this}rangeGt(s,A){return this.url.searchParams.append(s,`sr.${A}`),this}rangeGte(s,A){return this.url.searchParams.append(s,`nxl.${A}`),this}rangeLt(s,A){return this.url.searchParams.append(s,`sl.${A}`),this}rangeLte(s,A){return this.url.searchParams.append(s,`nxr.${A}`),this}rangeAdjacent(s,A){return this.url.searchParams.append(s,`adj.${A}`),this}overlaps(s,A){return typeof A=="string"?this.url.searchParams.append(s,`ov.${A}`):this.url.searchParams.append(s,`ov.{${A.join(",")}}`),this}textSearch(s,A,{config:i,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${l}fts${u}.${A}`),this}match(s){return Object.entries(s).forEach(([A,i])=>{this.url.searchParams.append(A,`eq.${i}`)}),this}not(s,A,i){return this.url.searchParams.append(s,`not.${A}.${i}`),this}or(s,{foreignTable:A,referencedTable:i=A}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,A,i){return this.url.searchParams.append(s,`${A}.${i}`),this}}return Ro.default=r,Ro}var P0;function zB(){if(P0)return Oo;P0=1,Object.defineProperty(Oo,"__esModule",{value:!0});const t=la.__importDefault(xg());class r{constructor(s,{headers:A={},schema:i,fetch:o}){this.url=s,this.headers=new Headers(A),this.schema=i,this.fetch=o}select(s,A){const{head:i=!1,count:o}=A??{},l=i?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:A,defaultToNull:i=!0}={}){var o;const l="POST";if(A&&this.headers.append("Prefer",`count=${A}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:A,ignoreDuplicates:i=!1,count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),A!==void 0&&this.url.searchParams.set("on_conflict",A),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:A}={}){var i;const o="PATCH";return A&&this.headers.append("Prefer",`count=${A}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var A;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}}return Oo.default=r,Oo}var H0;function $U(){if(H0)return Ho;H0=1,Object.defineProperty(Ho,"__esModule",{value:!0});const e=la,t=e.__importDefault(zB()),r=e.__importDefault(xg());class n{constructor(A,{headers:i={},schema:o,fetch:l}={}){this.url=A,this.headers=new Headers(i),this.schemaName=o,this.fetch=l}from(A){const i=new URL(`${this.url}/${A}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(A){return new n(this.url,{headers:this.headers,schema:A,fetch:this.fetch})}rpc(A,i={},{head:o=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${A}`);let m;o||l?(d=o?"HEAD":"GET",Object.entries(i).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{h.searchParams.append(y,w)})):(d="POST",m=i);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:d,url:h,headers:p,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ho.default=n,Ho}Object.defineProperty(Ft,"__esModule",{value:!0});Ft.PostgrestError=Ft.PostgrestBuilder=Ft.PostgrestTransformBuilder=Ft.PostgrestFilterBuilder=Ft.PostgrestQueryBuilder=Ft.PostgrestClient=void 0;const ca=la,KB=ca.__importDefault($U());Ft.PostgrestClient=KB.default;const VB=ca.__importDefault(zB());Ft.PostgrestQueryBuilder=VB.default;const $B=ca.__importDefault(xg());Ft.PostgrestFilterBuilder=$B.default;const GB=ca.__importDefault(MB());Ft.PostgrestTransformBuilder=GB.default;const WB=ca.__importDefault(RB());Ft.PostgrestBuilder=WB.default;const qB=ca.__importDefault(OB());Ft.PostgrestError=qB.default;var GU=Ft.default={PostgrestClient:KB.default,PostgrestQueryBuilder:VB.default,PostgrestFilterBuilder:$B.default,PostgrestTransformBuilder:GB.default,PostgrestBuilder:WB.default,PostgrestError:qB.default};const{PostgrestClient:WU,PostgrestQueryBuilder:h6,PostgrestFilterBuilder:f6,PostgrestTransformBuilder:m6,PostgrestBuilder:g6,PostgrestError:p6}=GU;class qU{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const JU="2.76.1",XU=`realtime-js/${JU}`,YU="1.0.0",af=1e4,ZU=1e3,eF=100;var si;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(si||(si={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var jr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jr||(jr={}));var of;(function(e){e.websocket="websocket"})(of||(of={}));var Bs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bs||(Bs={}));class tF{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),A=r.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(t.slice(i,i+s));i=i+s;const l=n.decode(t.slice(i,i+A));i=i+A;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class JB{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const O0=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((A,i)=>(A[i]=rF(i,e,t,s),A),{}):{}},rF=(e,t,r,n)=>{const s=t.find(o=>o.name===e),A=s==null?void 0:s.type,i=r[e];return A&&!n.includes(A)?XB(A,i):lf(i)},XB=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return aF(t,r)}switch(e){case Ce.bool:return nF(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return sF(t);case Ce.json:case Ce.jsonb:return AF(t);case Ce.timestamp:return iF(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return lf(t);default:return lf(t)}},lf=e=>e,nF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let A;const i=e.slice(1,r);try{A=JSON.parse("["+i+"]")}catch{A=i?i.split(","):[]}return A.map(o=>XB(t,o))}return e},iF=e=>typeof e=="string"?e.replace(" ","T"):e,YB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class dd{constructor(t,r,n={},s=af){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var R0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(R0||(R0={}));class Ai{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:A,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ai.syncState(this.state,s,A,i),this.pendingDiffs.forEach(l=>{this.state=Ai.syncDiff(this.state,l,A,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:A,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ai.syncDiff(this.state,s,A,i),o())}),this.onJoin((s,A,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:A,newPresences:i})}),this.onLeave((s,A,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:A,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const A=this.cloneDeep(t),i=this.transformState(r),o={},l={};return this.map(A,(u,c)=>{i[u]||(l[u]=c)}),this.map(i,(u,c)=>{const d=A[u];if(d){const h=c.map(w=>w.presence_ref),m=d.map(w=>w.presence_ref),p=c.filter(w=>m.indexOf(w.presence_ref)<0),y=d.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(o[u]=p),y.length>0&&(l[u]=y)}else o[u]=c}),this.syncDiff(A,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:A,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(A,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const d=t[o].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,c,l)}),this.map(i,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(A=>(A.presence_ref=A.phx_ref,delete A.phx_ref,delete A.phx_ref_prev,A)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(M0||(M0={}));var ai;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ai||(ai={}));var Zr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zr||(Zr={}));class yg{constructor(t,r={config:{}},n){var s,A;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dd(this,jr.join,this.params,this.timeout),this.rejoinTimer=new JB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jr.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Ai(this),this.broadcastEndpointURL=YB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((A=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||A===void 0)&&A.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,A;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[ai.PRESENCE]&&this.bindings[ai.PRESENCE].length>0||((A=this.params.config.presence)===null||A===void 0?void 0:A.enabled)===!0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Zr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Zr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Zr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,g=[];for(let f=0;f<w;f++){const x=y[f],{filter:{event:b,schema:_,table:C,filter:N}}=x,j=m&&m[f];if(j&&j.event===b&&j.schema===_&&j.table===C&&j.filter===N)g.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),this.state=qe.errored,t==null||t(Zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Zr.SUBSCRIBED);return}}).receive("error",m=>{this.state=qe.errored,t==null||t(Zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===qe.joined&&t===ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const A=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:A,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:A,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:A,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(A=>{var i,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&A("ok"),u.receive("ok",()=>A("ok")),u.receive("error",()=>A("error")),u.receive("timeout",()=>A("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new dd(this,jr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,A=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(A),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new dd(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>eF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,A;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=jr;if(n&&[o,l,u,c].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,y,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(y=m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(A=this.bindings[i])===null||A===void 0||A.filter(m=>{var p,y,w,g,f,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const b=m.id,_=(p=m.filter)===null||p===void 0?void 0:p.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(f=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:y,table:w,commit_timestamp:g,type:f,errors:x}=p;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:g,eventType:f,new:{},old:{},errors:x}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),A={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(A):this.bindings[s]=[A],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var A;return!(((A=s.type)===null||A===void 0?void 0:A.toLocaleLowerCase())===n&&yg.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jr.close,{},t)}_onError(t){this._on(jr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=O0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=O0(t.columns,t.old_record)),r}}const hd=()=>{},Vo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oF=[1e3,2e3,5e3,1e4],lF=1e4,cF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uF{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=af,this.transport=null,this.heartbeatIntervalMs=Vo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hd,this.ref=0,this.reconnectTimer=null,this.logger=hd,this.conn=null,this.sendBuffer=[],this.serializer=new tF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let A;return s?A=s:typeof fetch>"u"?A=(...i)=>wn(async()=>{const{default:o}=await Promise.resolve().then(()=>Js);return{default:o}},void 0).then(({default:o})=>o(...i)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):A=fetch,(...i)=>A(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${of.websocket}`,this.httpEndpoint=YB(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YU}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case si.connecting:return Bs.Connecting;case si.open:return Bs.Open;case si.closing:return Bs.Closing;default:return Bs.Closed}}isConnected(){return this.connectionState()===Bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(A=>A.topic===n);if(s)return s;{const A=new yg(`realtime:${t}`,r,this);return this.channels.push(A),A}}push(t){const{topic:r,event:n,payload:s,ref:A}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${A})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ZU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:A,ref:i}=r,o=i?`(${i})`:"",l=A.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),A),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,A,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([cF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:XU};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(jr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new JB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,A,i,o,l,u,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:af,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Vo.HEARTBEAT_INTERVAL,this.worker=(A=t==null?void 0:t.worker)!==null&&A!==void 0?A:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:hd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>oF[d-1]||lF,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class dF extends wg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cf extends wg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const vg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Js);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},hF=()=>oe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wn(()=>Promise.resolve().then(()=>Js),void 0)).Response:Response}),uf=e=>{if(Array.isArray(e))return e.map(r=>uf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,A=>A.toUpperCase().replace(/[-_]/g,""));t[s]=uf(n)}),t},fF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mF=(e,t,r)=>oe(void 0,void 0,void 0,function*(){const n=yield hF();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const A=e.status||500,i=(s==null?void 0:s.statusCode)||A+"";t(new dF(fd(s),A,i))}).catch(s=>{t(new cf(fd(s),s))}):t(new cf(fd(e),e))}),gF=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(fF(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function co(e,t,r,n,s,A){return oe(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,gF(t,n,s,A)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>mF(l,o,n))})})}function Di(e,t,r,n){return oe(this,void 0,void 0,function*(){return co(e,"GET",t,r,n)})}function Cr(e,t,r,n,s){return oe(this,void 0,void 0,function*(){return co(e,"POST",t,n,s,r)})}function df(e,t,r,n,s){return oe(this,void 0,void 0,function*(){return co(e,"PUT",t,n,s,r)})}function pF(e,t,r,n){return oe(this,void 0,void 0,function*(){return co(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function bg(e,t,r,n,s){return oe(this,void 0,void 0,function*(){return co(e,"DELETE",t,n,s,r)})}class xF{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}}var ZB;class yF{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[ZB]="BlobDownloadBuilder",this.promise=null}asStream(){return new xF(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}}ZB=Symbol.toStringTag;const wF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vF{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=vg(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return oe(this,void 0,void 0,function*(){try{let A;const i=Object.assign(Object.assign({},z0),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(A=new FormData,A.append("cacheControl",i.cacheControl),l&&A.append("metadata",this.encodeMetadata(l)),A.append("",n)):typeof FormData<"u"&&n instanceof FormData?(A=n,A.append("cacheControl",i.cacheControl),l&&A.append("metadata",this.encodeMetadata(l))):(A=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield(t=="PUT"?df:Cr)(this.fetch,`${this.url}/object/${c}`,A,Object.assign({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(ke(A))return{data:null,error:A};throw A}})}upload(t,r,n){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return oe(this,void 0,void 0,function*(){const A=this._removeEmptyFolders(t),i=this._getFinalPath(A),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:z0.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield df(this.fetch,o.toString(),l,{headers:c});return{data:{path:A,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const A=yield Cr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+A.url),o=i.searchParams.get("token");if(!o)throw new wg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}update(t,r,n){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return oe(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}copy(t,r,n){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),A=yield Cr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return A={signedUrl:encodeURI(`${this.url}${A.signedURL}${i}`)},{data:A,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return oe(this,void 0,void 0,function*(){try{const s=yield Cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),A=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${A}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",A=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=A?`?${A}`:"",o=this._getFinalPath(t),l=()=>Di(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new yF(l,this.shouldThrowOnError)}info(t){return oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Di(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:uf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}exists(t){return oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield pF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n)&&n instanceof cf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],A=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";A!==""&&s.push(A);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return oe(this,void 0,void 0,function*(){try{return{data:yield bg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}list(t,r,n){return oe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},wF),r),{prefix:t||""});return{data:yield Cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}listV2(t,r){return oe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const eC="2.76.1",tC={"X-Client-Info":`storage-js/${eC}`};class bF{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const A=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(A.hostname)&&!A.hostname.includes("storage.supabase.")&&(A.hostname=A.hostname.replace("supabase.","storage.supabase.")),this.url=A.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tC),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return oe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}getBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}createBucket(t){return oe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return oe(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}emptyBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield bg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}}class BF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tC),r),this.fetch=vg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}listBuckets(t){return oe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,A=yield Di(this.fetch,s,{headers:this.headers});return{data:Array.isArray(A)?A.filter(o=>o.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield bg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}}const Bg={"X-Client-Info":`storage-js/${eC}`,"Content-Type":"application/json"};class rC extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Vt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class md extends rC{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class CF extends rC{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var K0;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(K0||(K0={}));const Cg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Js);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_F=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},V0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jF=(e,t,r)=>oe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,A=e;if(typeof A.json=="function")A.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new md(V0(i),s,o))}).catch(()=>{const i=s+"",o=A.statusText||`HTTP ${s} error`;t(new md(o,s,i))});else{const i=s+"",o=A.statusText||`HTTP ${s} error`;t(new md(o,s,i))}}else t(new CF(V0(e),e))}),NF=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(_F(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function EF(e,t,r,n,s,A){return oe(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,NF(t,n,s,A)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>jF(l,o,n))})})}function $t(e,t,r,n,s){return oe(this,void 0,void 0,function*(){return EF(e,"POST",t,n,s,r)})}class QF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bg),r),this.fetch=Cg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return oe(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return oe(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}listIndexes(t){return oe(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return oe(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}}class UF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bg),r),this.fetch=Cg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return oe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $t(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}getVectors(t){return oe(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listVectors(t){return oe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield $t(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}queryVectors(t){return oe(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return oe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $t(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class FF{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bg),r),this.fetch=Cg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}getBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listBuckets(){return oe(this,arguments,void 0,function*(t={}){try{return{data:yield $t(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return oe(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class SF extends FF{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new kF(this.url,this.headers,t,this.fetch)}}class kF extends QF{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new IF(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class IF extends UF{constructor(t,r,n,s,A){super(t,r,A),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class TF extends bF{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new vF(this.url,this.headers,t,this.fetch)}get vectors(){return new SF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new BF(this.url+"/iceberg",this.headers,this.fetch)}}const DF="2.76.1";let Pa="";typeof Deno<"u"?Pa="deno":typeof document<"u"?Pa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pa="react-native":Pa="node";const LF={"X-Client-Info":`supabase-js-${Pa}/${DF}`},PF={headers:LF},HF={schema:"public"},OF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RF={},MF=e=>{let t;return e?t=e:typeof fetch>"u"?t=PB:t=fetch,(...r)=>t(...r)},zF=()=>typeof Headers>"u"?HB:Headers,KF=(e,t,r)=>{const n=MF(r),s=zF();return async(A,i)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(A,Object.assign(Object.assign({},i),{headers:u}))}};function VF(e){return e.endsWith("/")?e:e+"/"}function $F(e,t){var r,n;const{db:s,auth:A,realtime:i,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),A),realtime:Object.assign(Object.assign({},c),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function GF(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(VF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nC="2.76.1",dA=30*1e3,hf=3,gd=hf*dA,WF="http://localhost:9999",qF="supabase.auth.token",JF={"X-Client-Info":`gotrue-js/${nC}`},ff="X-Supabase-Api-Version",sC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YF=10*60*1e3;class Li extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ZF extends Li{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function e2(e){return ce(e)&&e.name==="AuthApiError"}class Cs extends Li{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class cs extends Li{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class _n extends cs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t2(e){return ce(e)&&e.name==="AuthSessionMissingError"}class Ys extends cs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $o extends cs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Go extends cs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r2(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class $0 extends cs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mf extends cs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pd(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class G0 extends cs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gf extends cs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),W0=` 	
\r=`.split(""),n2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<W0.length;t+=1)e[W0[t].charCodeAt(0)]=-2;for(let t=0;t<bc.length;t+=1)e[bc[t].charCodeAt(0)]=t;return e})();function q0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bc[n]),t.queuedBits-=6}}function AC(e,t,r){const n=n2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function J0(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},A=i=>{a2(i,n,r)};for(let i=0;i<e.length;i+=1)AC(e.charCodeAt(i),s,A);return t.join("")}function s2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function A2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}s2(n,t)}}function a2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function OA(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)AC(e.charCodeAt(s),r,n);return new Uint8Array(t)}function i2(e){const t=[];return A2(e,r=>t.push(r)),new Uint8Array(t)}function Qs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>q0(s,r,n)),q0(null,r,n),t.join("")}function o2(e){return Math.round(Date.now()/1e3)+e}function l2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",fs={tested:!1,writable:!1},aC=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fs.tested)return fs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fs.tested=!0,fs.writable=!0}catch{fs.tested=!0,fs.writable=!1}return fs.writable};function c2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,A)=>{t[A]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const iC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Js);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},u2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hA=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ms=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bn=async(e,t)=>{await e.removeItem(t)};class fu{constructor(){this.promise=new fu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fu.promiseConstructor=Promise;function xd(e){const t=e.split(".");if(t.length!==3)throw new gf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!XF.test(t[n]))throw new gf("JWT not in base64url format");return{header:JSON.parse(J0(t[0])),payload:JSON.parse(J0(t[1])),signature:OA(t[2]),raw:{header:t[0],payload:t[1]}}}async function d2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function h2(e,t){return new Promise((n,s)=>{(async()=>{for(let A=0;A<1/0;A++)try{const i=await e(A);if(!t(A,null,i)){n(i);return}}catch(i){if(!t(A,i)){s(i);return}}})()})}function f2(e){return("0"+e.toString(16)).substr(-2)}function m2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let A=0;A<56;A++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,f2).join("")}async function g2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(A=>String.fromCharCode(A)).join("")}async function p2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await g2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(e,t,r=!1){const n=m2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await hA(e,`${t}-code-verifier`,s);const A=await p2(n);return[A,n===A?"plain":"s256"]}const x2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y2(e){const t=e.headers.get(ff);if(!t||!t.match(x2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function w2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function v2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const b2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function eA(e){if(!b2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function X0(e){return JSON.parse(JSON.stringify(e))}const ws=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),B2=[502,503,504];async function Y0(e){var t;if(!u2(e))throw new mf(ws(e),0);if(B2.includes(e.status))throw new mf(ws(e),e.status);let r;try{r=await e.json()}catch(A){throw new Cs(ws(A),A)}let n;const s=y2(e);if(s&&s.getTime()>=sC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new G0(ws(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new _n}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((A,i)=>A&&typeof i=="string",!0))throw new G0(ws(r),e.status,r.weak_password.reasons);throw new ZF(ws(r),e.status||500,n)}const C2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function de(e,t,r,n){var s;const A=Object.assign({},n==null?void 0:n.headers);A[ff]||(A[ff]=sC["2024-01-01"].name),n!=null&&n.jwt&&(A.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await _2(e,t,r+o,{headers:A,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _2(e,t,r,n,s,A){const i=C2(t,n,s,A);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new mf(ws(l),0)}if(o.ok||await Y0(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Y0(l)}}function wr(e){var t;let r=null;E2(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=o2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Z0(e){const t=wr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function In(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function j2(e){return{data:e,error:null}}function N2(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:A}=e,i=oa(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:A},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function ex(e){return e}function E2(e){return e.access_token&&e.refresh_token&&e.expires_in}const wd=["global","local","others"];class Q2{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=iC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=wd[0]){if(wd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wd.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:In})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=oa(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:N2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:In})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,A,i,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(A=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&A!==void 0?A:""},xform:ex});if(c.error)throw c.error;const d=await c.json(),h=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){eA(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:In})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){eA(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:In})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){eA(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:In})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){eA(t.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){eA(t.userId),eA(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,A,i,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(A=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&A!==void 0?A:""},xform:ex});if(c.error)throw c.error;const d=await c.json(),h=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ce(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function tx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const tA={debug:!!(globalThis&&aC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class U2 extends oC{}async function F2(e,t,r){tA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),tA.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){tA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{tA.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw tA.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new U2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tA.debug)try{const A=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(A,null,"  "))}catch(A){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",A)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function S2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function k2(e){return parseInt(e,16)}function I2(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function T2(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:A=new Date,nonce:i,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=lC(e.address),p=c?`${c}://${n}`:n,y=e.statement?`${e.statement}
`:"",w=`${p} wants you to sign in with your Ethereum account:
${m}

${y}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${A.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);f+=`
- ${x}`}g+=f}return`${w}
${g}`}class Ve extends Error{constructor({message:t,code:r,cause:n,name:s}){var A;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(A=s??(n instanceof Error?n.name:void 0))!==null&&A!==void 0?A:"Unknown Error",this.code=r}}class Bc extends Ve{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function D2({error:e,options:t}){var r,n,s;const{publicKey:A}=t;if(!A)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=A.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=A.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=A.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return A.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(cC(i)){if(A.rp.id!==i)return new Ve({message:`The RP ID "${A.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(A.user.id.byteLength<1||A.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function L2({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(cC(n)){if(r.rpId!==n)return new Ve({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class P2{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const H2=new P2;function O2(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=oa(e,["challenge","user","excludeCredentials"]),A=OA(t).buffer,i=Object.assign(Object.assign({},r),{id:OA(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:A,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:OA(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function R2(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=oa(e,["challenge","allowCredentials"]),s=OA(t).buffer,A=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){A.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const o=r[i];A.allowCredentials[i]=Object.assign(Object.assign({},o),{id:OA(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return A}function M2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function z2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qs(new Uint8Array(s.authenticatorData)),clientDataJSON:Qs(new Uint8Array(s.clientDataJSON)),signature:Qs(new Uint8Array(s.signature)),userHandle:s.userHandle?Qs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function rx(){var e,t;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function K2(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bc("Browser returned unexpected credential type",t)}:{data:null,error:new Bc("Empty credential response",t)}}catch(t){return{data:null,error:D2({error:t,options:e})}}}async function V2(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bc("Browser returned unexpected credential type",t)}:{data:null,error:new Bc("Empty credential response",t)}}catch(t){return{data:null,error:L2({error:t,options:e})}}}const $2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},G2={userVerification:"preferred",hints:["security-key"]};function Cc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const A in s){const i=s[A];if(i!==void 0)if(Array.isArray(i))n[A]=i;else if(r(i))n[A]=i;else if(t(i)){const o=n[A];t(o)?n[A]=Cc(o,i):n[A]=Cc(i)}else n[A]=i}return n}function W2(e,t){return Cc($2,e,t||{})}function q2(e,t){return Cc(G2,e,t||{})}class J2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},A){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:o};const l=s??H2.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=W2(i.webauthn.credential_options.publicKey,A==null?void 0:A.create),{data:c,error:d}=await K2({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=q2(i.webauthn.credential_options.publicKey,A==null?void 0:A.request),{data:c,error:d}=await V2(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(i){return ce(i)?{data:null,error:i}:{data:null,error:new Cs("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},A){if(!r)return{data:null,error:new Li("rpId is required for WebAuthn authentication")};try{if(!rx())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:A});if(!i)return{data:null,error:o};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return ce(i)?{data:null,error:i}:{data:null,error:new Cs("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},A){if(!r)return{data:null,error:new Li("rpId is required for WebAuthn registration")};try{if(!rx())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:A});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(i){return ce(i)?{data:null,error:i}:{data:null,error:new Cs("Unexpected error in register",i)}}}}S2();const X2={url:WF,storageKey:qF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nx(e,t,r){return await r()}const rA={};class Pi{get jwks(){var t,r;return(r=(t=rA[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){rA[this.storageKey]=Object.assign(Object.assign({},rA[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=rA[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){rA[this.storageKey]=Object.assign(Object.assign({},rA[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pi.nextInstanceID,Pi.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},X2),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Q2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=iC(s.fetch),this.lock=s.lock||nx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:zt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=F2:this.lock=nx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new J2(this)},this.persistSession?(s.storage?this.storage=s.storage:aC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tx(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=tx(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(A){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",A)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async A=>{this._debug("received broadcast notification from other tab or client",A),await this._notifyAllSubscribers(A.data.event,A.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=c2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),zt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:A}=await this._getSessionFromURL(r,n);if(A){if(this._debug("#_initialize()","error detecting session from URL",A),r2(A)){const l=(t=A.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:A}}return await this._removeSession(),{error:A}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?{error:r}:{error:new Cs("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const A=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:wr}),{data:i,error:o}=A;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(A){if(ce(A))return{data:{user:null,session:null},error:A};throw A}}async signUp(t){var r,n,s;try{let A;if("email"in t){const{email:c,password:d,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Zs(this.storage,this.storageKey)),A=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:wr})}else if("phone"in t){const{phone:c,password:d,options:h}=t;A=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:wr})}else throw new $o("You must provide either an email or phone number and a password");const{data:i,error:o}=A;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(A){if(ce(A))return{data:{user:null,session:null},error:A};throw A}}async signInWithPassword(t){try{let r;if("email"in t){const{email:A,password:i,options:o}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:A,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Z0})}else if("phone"in t){const{phone:A,password:i,options:o}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:A,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Z0})}else throw new $o("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ys}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,A;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(A=t.options)===null||A===void 0?void 0:A.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,A,i,o,l,u,c,d,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:y,wallet:w,statement:g,options:f}=t;let x;if(zt())if(typeof w=="object")x=w;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")x=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const b=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),_=await x.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=lC(_[0]);let N=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const F=await x.request({method:"eth_chainId"});N=k2(F)}const j={domain:b.host,address:C,statement:g,uri:b.href,version:"1",chainId:N,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(A=f==null?void 0:f.signInWithEthereum)===null||A===void 0?void 0:A.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=T2(j),p=await x.request({method:"personal_sign",params:[I2(m),C]})}try{const{data:y,error:w}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:wr});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ys}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(ce(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var r,n,s,A,i,o,l,u,c,d,h,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:w,wallet:g,statement:f,options:x}=t;let b;if(zt())if(typeof g=="object")b=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))b=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const C=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let N;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")N=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)N=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)p=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((A=x==null?void 0:x.signInWithSolana)===null||A===void 0)&&A.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(c=x==null?void 0:x.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const C=await b.signMessage(new TextEncoder().encode(p),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=C}}try{const{data:w,error:g}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Qs(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:wr});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ys}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(ce(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:A,error:i}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wr});if(await bn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!A||!A.session||!A.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign(Object.assign({},A),{redirectType:s??null}),error:i})}catch(A){if(ce(A))return{data:{user:null,session:null,redirectType:null},error:A};throw A}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:A,nonce:i}=t,o=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:A,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wr}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ys}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,A,i;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Zs(this.storage,this.storageKey));const{error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(A=l==null?void 0:l.shouldCreateUser)!==null&&A!==void 0?A:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new $o("You must provide either an email or phone number.")}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,A;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,A=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:A}}),redirectTo:s,xform:wr});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let A=null,i=null;return this.flowType==="pkce"&&([A,i]=await Zs(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:i}),headers:this.headers,xform:j2})}catch(A){if(ce(A))return{data:null,error:A};throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new _n;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:A}=t,{error:i}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},redirectTo:A==null?void 0:A.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:A}=t,{data:i,error:o}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new $o("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<gd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ms(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=yd()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:s,error:A}=await this._callRefreshToken(t.refresh_token);return A?{data:{session:null},error:A}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:In}):await this._useSession(async r=>{var n,s,A;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _n}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(A=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&A!==void 0?A:void 0,xform:In})})}catch(r){if(ce(r))return t2(r)&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:A}=n;if(A)throw A;if(!s.session)throw new _n;const i=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Zs(this.storage,this.storageKey));const{data:u,error:c}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:In});if(c)throw c;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _n;const r=Date.now()/1e3;let n=r,s=!0,A=null;const{payload:i}=xd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};A=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;A={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(A),await this._notifyAllSubscribers("SIGNED_IN",A)}return{data:{user:A.user,session:A},error:null}}catch(r){if(ce(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new _n;const{data:s,error:A}=await this._callRefreshToken(t.refresh_token);return A?{data:{user:null,session:null},error:A}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!zt())throw new Go("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Go(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Go("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $0("No code detected.");const{data:f,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:A,refresh_token:i,expires_in:o,expires_at:l,token_type:u}=t;if(!A||!o||!i||!u)throw new Go("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=dA&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const p=h-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,c);const{data:y,error:w}=await this._getUser(A);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:A,expires_in:d,expires_at:h,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(ce(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:A}=r;if(A)return{error:A};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(e2(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=l2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:A},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",A)),this._debug("INITIAL_SESSION","callback id",t,"session",A)}catch(A){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",A),console.error(A)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Zs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(A){if(ce(A))return{data:null,error:A};throw A}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async A=>{var i,o,l,u,c;const{data:d,error:h}=A;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return zt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ce(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:A}}=r;if(s)throw s;const{options:i,provider:o,token:l,access_token:u,nonce:c}=t,d=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=A==null?void 0:A.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:wr}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ys}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:A,error:i}=r;if(i)throw i;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=A.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await h2(async s=>(s>0&&await d2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wr})),(s,A)=>{const i=200*Math.pow(2,s);return A&&pd(A)&&Date.now()+i-n<dA})}catch(n){if(this._debug(r,"error",n),ce(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),zt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ms(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await hA(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:yd()}else if(s&&!s.user&&!s.user){const i=await ms(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await bn(this.storage,this.storageKey+"-user"),await hA(this.storage,this.storageKey,s)):s.user=yd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const A=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gd;if(this._debug(n,`session has${A?"":" not"} expired with margin of ${gd}s`),A){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),pd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(s.access_token);!o&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new _n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fu;const{data:A,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!A.session)throw new _n;await this._saveSession(A.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",A.session);const o={data:A.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(A){if(this._debug(s,"error",A),ce(A)){const i={data:null,error:A};return pd(A)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(A),A}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const A=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){A.push(l)}});if(await Promise.all(i),A.length>0){for(let o=0;o<A.length;o+=1)console.error(A[o]);throw A[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await hA(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const A=X0(s);await hA(this.storage,this.storageKey,A)}else{const s=X0(r);await hA(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await bn(this.storage,this.storageKey),await bn(this.storage,this.storageKey+"-code-verifier"),await bn(this.storage,this.storageKey+"-user"),this.userStorage&&await bn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dA);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/dA);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${dA}ms, refresh threshold is ${hf} ticks`),s<=hf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[A,i]=await Zs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(A)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const A=new URLSearchParams(n.queryParams);s.push(A.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:A}=r;return A?{data:null,error:A}:await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:A,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=A==null?void 0:A.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:A}=r;if(A)return{data:null,error:A};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?M2(t.webauthn.credential_response):z2(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:A}=r;if(A)return{data:null,error:A};const i=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:O2(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:R2(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const A of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(A),A.status==="verified"&&s[A.factor_type].push(A);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:A}=t;if(A)return{data:null,error:A};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xd(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+YF>s)return n;const{data:A,error:i}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!A.keys||A.keys.length===0||(this.jwks=A,this.jwks_cached_at=s,n=A.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:s,payload:A,signature:i,raw:{header:o,payload:l}}=xd(n);r!=null&&r.allowExpired||w2(A.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:A,header:s,signature:i},error:null}}const c=v2(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,i,i2(`${o}.${l}`)))throw new gf("Invalid JWT signature");return{data:{claims:A,header:s,signature:i},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}Pi.nextInstanceID=0;const Y2=Pi;class Z2 extends Y2{constructor(t){super(t)}}class eS{constructor(t,r,n){var s,A,i;this.supabaseUrl=t,this.supabaseKey=r;const o=GF(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:HF,realtime:RF,auth:Object.assign(Object.assign({},OF),{storageKey:l}),global:PF},c=$F(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(A=c.global.headers)!==null&&A!==void 0?A:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=c.auth)!==null&&i!==void 0?i:{},this.headers,c.global.fetch),this.fetch=KF(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new WU(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new TF(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new OU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:A,storageKey:i,flowType:o,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z2({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:A,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new uF(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tS=(e,t,r)=>new eS(e,t,r);function rS(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}rS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nS="https://iolbyfsfjfabvvtbgkqh.supabase.co",sS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlvbGJ5ZnNmamZhYnZ2dGJna3FoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4NDUxMDAsImV4cCI6MjA3NzQyMTEwMH0.PexZDxtQTylXTxzyDjeD6kllPHV54D5osj7Mfm8a3gI",X=tS(nS,sS,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage},db:{schema:"public"},global:{headers:{"x-my-custom-header":"my-app-name"}}}),uC=v.createContext(void 0),AS=({children:e})=>{const[t,r]=v.useState(!1),[n,s]=v.useState(null),[A,i]=v.useState(!0);v.useEffect(()=>{X.auth.getSession().then(({data:{session:c}})=>{s((c==null?void 0:c.user)??null),r(!!(c!=null&&c.user)),i(!1)});const{data:{subscription:u}}=X.auth.onAuthStateChange((c,d)=>{s((d==null?void 0:d.user)??null),r(!!(d!=null&&d.user)),i(!1)});return()=>u.unsubscribe()},[]);const o=async(u,c)=>{try{const{data:d,error:h}=await X.auth.signInWithPassword({email:u,password:c});return h?{success:!1,error:h.message}:d.user?(s(d.user),r(!0),{success:!0}):{success:!1,error:"Login failed"}}catch{return{success:!1,error:"An unexpected error occurred"}}},l=async()=>{await X.auth.signOut(),s(null),r(!1)};return a.jsx(uC.Provider,{value:{isAuthenticated:t,user:n,login:o,logout:l,loading:A},children:e})},mu=()=>{const e=v.useContext(uC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},gu={gu:{addNewClient:"  ",editClient:"  ",billing:"",billDetails:" ",billNumber:" ",createNewBill:"  ",chooseClientForBilling:"    ",billDate:" ",tillDate:" ",dailyRent:" ",ledgerDetails:" ",calculateBill:" ",generateBill:"  ",udharChallan:" ",createChallan:"  ",slogan:" ,  ",subSlogan:"    ",viewProducts:" ",howToUse:"  ",productsAndPrices:"   ",ourPlates:" ",pricePerDay:" ",allSizesOnePrice:"      -  1.5  ",sameRentAllPlates:"     ",videoGuide:" ",howToUsePlates:"   ",watchVideo:"       ",selectSize:"   ",properArrangement:"  ",safeUsage:"  ",specialNote:" ",qualityPlates:"    MS   ",minRentDays:"  : 30 ",bulkDiscount:"    ",totalAvailable:" ",createBill:" ",billBook:" ",underDevelopment:"  ",journal:"",endOfDayStock:"  ",downloadJournal:"  ",finalStock:" ",totalUdhar:" ",totalJama:" ",report:"",generatedOn:" ",type:"",daySummary:"  ",netChange:" ",noJournalEntries:"   ",highQuality:" ",qualityDesc:"   ",show:"",hide:"",noActivityFound:"      ",todayActivity:" ",all:"",bills:"",challans:"",fastService:" ",serviceDesc:" ",fairRent:" ",rentDesc:" ",allSizes:" ",sizesDesc:"  ",quickLinks:" ",products:"",aboutUs:" ",contactUs:" ",workingDays:" - ",privacyPolicy:"",terms:"",dateNewOld:" (  )",dateOldNew:" (  )",numberHighLow:" (  )",numberLowHigh:" (  )",tryAdjustingSearch:"      ",billingManagement:" ",billingDate:" ",searchBills:" ...",noBillsFound:"   ",noBillsCreated:"     ",clearSearch:"  ",billsFound:" ",unknownClient:" ",noDate:" ",noNickname:"  ",maintenanceMessage:"     .   1/3/26   ",perPiece:" ",rentalCalculation:" ",totalDays:" ",totalRent:" ",extraCosts:" ",addExtraCost:"  ",discounts:"",addDiscount:" ",payments:"",addPayment:" ",paymentMethod:" ",billSummary:" ",paymentsReceived:" ",duePayment:" ",saveAndGenerate:"    ",saveAsDraft:"   ",taxInvoice:" ",rentalCharges:" ",rate:"",amount:"",description:"",subtotal:" ",totalPaid:" ",fullyPaid:" ",partiallyPaid:" ",unpaid:"",days:"",appName:"  ",greeting:"",dashboard:"",addClient:"",jamaChallan:" ",logout:"",login:"",username:" ",password:"",Rental_Management:" ",clientNicName:" ID",clientName:"  ",site:"",primaryPhone:"  ",challanNumber:" ",date:"",driverName:"  ",alternativeSite:"",secondaryPhone:" ",size:"",quantity:"",borrowedStock:" ",note:"",mainNote:" ",optionalNote:" ",optionalGeneralNotes:"  ...",optional:"",save:" ",cancel:" ",edit:"",delete:" ",search:"",selectClient:"  ",quickAddClient:"  ",actions:"",backToDashboard:"   ",overrideDetails:"       ",basicDetails:" ",totalUdharChallans:"  ",totalJamaChallans:"  ",columns2:" ",all:"",added:"",removed:" ",loadingHistory:"    ...",noRecordsFound:"   ",type:"",partyOrReason:" / ",itemsSizeQty:" (: )",totalStock:" ",onRent:"",borrowed:"",borrowedOutstanding:"",outstanding:"",lost:"",available:"",stockOverview:" ",editStock:" ",editAll:" ",saveAll:"  ",cancelAll:"  ",lastUpdated:"  ",stockStatistics:" ",stockStatus:" ",stockRefreshed:"   ",failedToRefresh:"   ",updatingStock:"    ...",stockUpdated:"   ",failedToUpdateStock:"   ",invalidStock:"  ",enterValidNumber:"   ",available_stock:" ",on_rent_stock:" ",borrowed_stock:" ",lost_stock:"  ",total_stock:" ",sortBy:" ",ascending:" ",descending:" ",lowStock:" ",outOfStock:" ",inStock:" ",allStockItems:"  ",refreshStock:"  ",Quick_Actions:" ",add_new_clients:"  ",create_rental:" ",addStock:" ",removeStock:"  ",total:"",confirm:" ",enterQuantity:"  ",record_returns:" ",manage_inventory:" ",view_all_challans:"  ",track_balances:"  ",todaysActivity:" ",recentActivity:" ",viewAll:" ",searchClients:" ...",refreshClients:" ",noClientsYet:"   ",addYourFirstClient:"   ",getStartedByAdding:"     ",updateClientInfo:"   ",fillInDetails:" ",updatingClient:"    ...",creatingClient:"   ...",clientUpdated:"   ",clientCreated:"  ",failedToUpdate:"   ",failedToCreate:"  ",deleteConfirmClient:"        ?",cannotUndo:"     .",deletingClient:"     ...",clientDeleted:"   ",failedToDelete:"   ",clientsRefreshed:"   ",failedToLoad:"   ",totalClients:" ",uniqueSites:" ",newClients:" ",clickToAdd:'   "  "   ',recentChallansAppear:"    ",createUdhar:"  ",createJama:"  ",recentClients:" ",activityOn:":",saveSuccess:"  ",deleteConfirm:"      ?",requiredField:"   ",duplicateChallan:"     ",invalidCredentials:"    ",heroTitle:"  ",heroSubtitle:"   ",aboutText:"            .",ourServices:" ",servicesText:"  ,      .",whyChooseUs:"    ",whyChooseText:" ,       .",contactText:"     .      .",getStarted:" ",Manage_your:"       .",clientManagement:" ",clientList:" ",noClients:"   ",Todays_Date:" ",Welcome:",   .",Business_Overview:" ",QuickActions:" ",udharChallanTitle:"  ",jamaChallanTitle:"  ",clientDetails:" ",challanDetails:" ",itemsDetails:" ",overrideNote:"         ",generateReceipt:" ",challanSaved:"   ",challanDownloadSuccess:"   ",challanDownloadError:"    ",downloadJPEG:"  ",preview:"",receiptTitle:"",generatedOn:"",client:"",phone:"",driver:"",items:" ",notes:"",Outstanding:"",challanBook:" ",udharChallans:" ",jamaChallans:" ",totalItems:" ",totalOnRent:" ",viewDetails:" ",confirmDelete:"        ?",deleteWarning:"     .",stockAdjustment:" ",challanDeleted:"   ",challanUpdated:"   ",clientIdNotFound:"   ",errorUpdatingChallan:"    ",searchChallan:" ",filterByDate:"   ",fromDate:" ",toDate:" ",allChallans:" ",today:"",thisWeek:" ",thisMonth:" ",allTime:" ",sortByDate:"",ascendingOrder:" ",descendingOrder:" ",noChallansFound:"   ",pieces:"",alternative:"",clientInfo:" ",close:" ",challanInfo:" ",clientLedger:"",rentalHistory:"  ",searchClientsPlaceholder:", ID   ...",currentBalance:" ",totalOutstanding:" ",udhar:"",jama:"",grandTotal:"",mainStock:" ",transactionHistory:" ",noTransactions:"    ",downloadLedger:"  ",expand:" ",collapse:"",sortByName:" ",sortByBalance:" ",nameAZ:" (A-Z)",nameZA:" (Z-A)",balanceHighLow:" ( )",balanceLowHigh:" ( )",oldestFirst:" ",newestFirst:" ",showing:" ",of:"",clients:"",noMatchingClients:"    ",clientExists:"  ID    ",dailyRentPrice:"  ",dailyRentPriceHelp:"    ,  1",stockManagement:" "},en:{slogan:"Strong Foundation, Reliable Rental",subSlogan:"Best Plates for Your Construction",viewProducts:"View Products",howToUse:"How to Use",productsAndPrices:"Products and Rental Rates",ourPlates:"Our Plates",pricePerDay:"per day",allSizesOnePrice:"One Rate for All Sizes - Just 1.5 per day",sameRentAllPlates:"Same Rate for All Plates",videoGuide:"Video Guide",howToUsePlates:"How to Use Plates",watchVideo:"Watch this video for proper usage",selectSize:"Select Right Size",properArrangement:"Proper Arrangement",safeUsage:"Safe Usage",specialNote:"Special Note",qualityPlates:"All plates are made of high-quality MS Steel",minRentDays:"Minimum rental period: 30 days",bulkDiscount:"Special discount on bulk orders",clientExists:"A client ID already exists",highQuality:"High Quality",qualityDesc:"Strong and durable plates",show:"Show",hide:"Hide",noActivityFound:"No activity found based on current active filter",todayActivity:"Today's Activity",all:"All",bills:"Bills",challans:"Challans",fastService:"Fast Service",serviceDesc:"Immediate Delivery",fairRent:"Fair Rent",rentDesc:"Competitive Rates",allSizes:"All Sizes",sizesDesc:"Various Sizes Available",quickLinks:"Quick Links",products:"Products",aboutUs:"About Us",contactUs:"Contact Us",workingDays:"Monday - Saturday",privacyPolicy:"Privacy Policy",terms:"Terms",dateNewOld:"Date (New  Old)",dateOldNew:"Date (Old  New)",numberHighLow:"Number (High  Low)",numberLowHigh:"Number (Low  High)",tryAdjustingSearch:"Try adjusting your search criteria",underMaintenance:" Under Maintenance",billingManagement:"Billing Management",createNewBill:"Create New Bill",billNumber:"Bill Number",billingDate:"Billing Date",tillDate:"Till Date",dailyRent:"Daily Rent",perPiece:"per piece",searchBills:"Search bills...",noBillsFound:"No bills found",noBillsCreated:"No bills have been created yet",clearSearch:"Clear search",billsFound:"bills found",unknownClient:"Unknown Client",noDate:"No date",noNickname:"No nickname",maintenanceMessage:" This page is under maintenance. Full release will be available on 1/3/26",calculateBill:"Calculate Bill",rentalCalculation:"Rental Calculation",totalDays:"Total Days",totalRent:"Total Rent",extraCosts:"Extra Costs",addExtraCost:"Add Extra Cost",discounts:"Discounts",addDiscount:"Add Discount",payments:"Payments",addPayment:"Add Payment",paymentMethod:"Payment Method",billSummary:"Bill Summary",paymentsReceived:"Payments Received",duePayment:"Due Payment",saveAndGenerate:"Save & Generate Bill",saveAsDraft:"Save as Draft",taxInvoice:"Tax Invoice",rentalCharges:"Rental Charges",rate:"Rate",amount:"Amount",description:"Description",subtotal:"Subtotal",totalPaid:"Total Paid",fullyPaid:"Fully Paid",partiallyPaid:"Partially Paid",unpaid:"Unpaid",days:"days",appName:"Nilkanth Plat Depo",greeting:"Welcome",dashboard:"Dashboard",addClient:"Add Client",udharChallan:"Udhar Challan",jamaChallan:"Jama Challan",logout:"Logout",login:"Login",username:"Username",password:"Password",Quick_Actions:"Quick Actions",add_new_clients:"Add new clients",create_rental:"Create rental",addStock:"Add Stock",removeStock:"Remove Stock",confirm:"Confirm",enterQuantity:"Enter Quantity",record_returns:"Record returns",manage_inventory:"Manage inventory",view_all_challans:"View all challans",track_balances:"Track balances",clientNicName:"Client Nickname",clientName:"Client Full Name",site:"Site",primaryPhone:"Primary Phone Number",challanNumber:"Challan Number",date:"Date",driverName:"Driver Name",alternativeSite:"Alternative Site",secondaryPhone:"Secondary Phone Number",size:"Size",quantity:"Quantity",borrowedStock:"Borrowed Stock",note:"Note",mainNote:"Main Note",optionalNote:"Optional note",optionalGeneralNotes:"Optional general notes...",optional:"Optional",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",search:"Search",selectClient:"Select Client",quickAddClient:"Quick Add Client",actions:"Actions",backToDashboard:"Back to Dashboard",stockManagement:"Stock Management",stockHistory:"Stock History",trackStockAdjustments:"Track all stock adjustments",searchPartyOrNote:"Search party or note...",all:"All",added:"Added",removed:"Removed",loadingHistory:"Loading history...",noRecordsFound:"No records found",type:"Type",partyOrReason:"Party / Reason",itemsSizeQty:"Items (Size: Qty)",totalStock:"Total Stock",total:"Total",onRent:"On Rent",totalOnRent:"Total On Rent",borrowed:"Borrowed",borrowed_stock:"Borrowed Stock",lost:"Lost",available:"Available",editAll:"Edit All",saveAll:"Save All",cancelAll:"Cancel All",lastUpdated:"Last Updated",totalAvailable:"Total Available",stockOverview:"Stock Overview",journal:"Journal",endOfDayStock:"End of Day Stock",downloadJournal:"Download Journal",finalStock:"Final Stock",totalUdhar:"Total Udhar",totalJama:"Total Jama",report:"Report",generatedOn:"Generated on",type:"Type",daySummary:"Day Summary",netChange:"Net Change",noJournalEntries:"No journal entries today",lowStock:"Low Stock",outOfStock:"Out of Stock",inStock:"In Stock",stockUpdated:"Stock updated successfully",invalidStock:"Invalid stock value",todaysActivity:"Today's Activity",recentActivity:"Recent Activity",viewAll:"View All",recentChallansAppear:"Your recent challans will appear here",createUdhar:"Create Udhar",createJama:"Create Jama",saveSuccess:"Successfully Saved",deleteConfirm:"Are you sure you want to delete?",requiredField:"This field is required",duplicateChallan:"This challan number already exists",invalidCredentials:"Invalid username or password",heroTitle:"Nilkanth Plat Depo",heroSubtitle:"Centering Plate Rental Services",aboutText:"We provide high-quality centering plate rental services for the construction industry.",ourServices:"Our Services",servicesText:"Plates in various sizes, fast delivery, and reliable return services.",whyChooseUs:"Why Choose Us",whyChooseText:"Years of experience, well-maintained plates, and excellent customer service.",contactText:"Reach out to us for any inquiries. We are always ready to help.",getStarted:"Get Started",clientManagement:"Client Management",clientList:"Client List",addNewClient:"Add New Client",noClients:"No clients found",udharChallanTitle:"Create Udhar Challan",jamaChallanTitle:"Create Jama Challan",clientDetails:"Client Details",challanDetails:"Challan Details",itemsDetails:"Items Details",overrideNote:"These override the client's default values for this challan only",generateReceipt:"Generate Receipt",receiptTitle:"Receipt",generatedOn:"Generated",client:"Client",phone:"Phone",driver:"Driver",items:"Items",challanBook:"Challan Book",udharChallans:"Udhar Challans",jamaChallans:"Jama Challans",totalItems:"Total Items",viewDetails:"View Details",confirmDelete:"Are you sure you want to delete this challan?",deleteWarning:"This action cannot be undone.",stockAdjustment:"Stock Adjustment",challanDeleted:"Challan deleted successfully",challanUpdated:"Challan updated successfully",clientIdNotFound:"Client ID not found",errorUpdatingChallan:"Error updating challan",searchChallan:"Search Challan",filterByDate:"Filter by Date",fromDate:"From Date",toDate:"To Date",allChallans:"All Challans",today:"Today",thisWeek:"This Week",thisMonth:"This Month",allTime:"All Time",sortBy:"Sort By",ascending:"Ascending",descending:"Descending",noChallansFound:"No challans found",pieces:"pcs",alternative:"Alternative",clientInfo:"Client Information",downloadJPEG:"Download JPEG",preview:"Preview",challanDownloadSuccess:"Challan downloaded successfully",challanDownloadError:"Error downloading challan",close:"Close",challanInfo:"Challan Information",clientLedger:"Client Ledger",rentalHistory:"Rental History",searchClients:"Search by Name, ID or Site...",currentBalance:"Current Balance",totalOutstanding:"Total Outstanding",udhar:"Udhar",jama:"Jama",grandTotal:"Grand Total",mainStock:"Main Stock",transactionHistory:"Transaction History",noTransactions:"No transactions yet",downloadLedger:"Download Ledger",expand:"Expand",collapse:"Collapse",sortByName:"Sort by Name",sortByBalance:"Sort by Balance",nameAZ:"Name (A-Z)",nameZA:"Name (Z-A)",balanceHighLow:"Balance (High to Low)",balanceLowHigh:"Balance (Low to High)",oldestFirst:"Oldest First",newestFirst:"Newest First",showing:"Showing",of:"of",clients:"clients",noMatchingClients:"No matching clients",activityOn:"Activity:",dailyRentPrice:"Daily Rent Price",dailyRentPriceHelp:"Daily rent rate for billing, default is 1"}},dC=v.createContext(void 0),aS=({children:e})=>{const[t,r]=v.useState(()=>{const A=localStorage.getItem("language");return A==="gu"||A==="en"?A:"gu"});v.useEffect(()=>{localStorage.setItem("language",t)},[t]);const n=A=>{r(A)},s=A=>gu[t][A]||A;return a.jsx(dC.Provider,{value:{language:t,setLanguage:n,t:s},children:e})},be=()=>{const e=v.useContext(dC);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},_g=v.createContext({});function jg(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ng=typeof window<"u",hC=Ng?v.useLayoutEffect:v.useEffect,pu=v.createContext(null);function Eg(e,t){e.indexOf(t)===-1&&e.push(t)}function Qg(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const mn=(e,t,r)=>r>t?t:r<e?e:r;let Ug=()=>{};const gn={},fC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function mC(e){return typeof e=="object"&&e!==null}const gC=e=>/^0[^.\s]+$/u.test(e);function Fg(e){let t;return()=>(t===void 0&&(t=e()),t)}const dr=e=>e,iS=(e,t)=>r=>t(e(r)),uo=(...e)=>e.reduce(iS),Hi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Sg{constructor(){this.subscriptions=[]}add(t){return Eg(this.subscriptions,t),()=>Qg(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let A=0;A<s;A++){const i=this.subscriptions[A];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zr=e=>e*1e3,or=e=>e/1e3;function pC(e,t){return t?e*(1e3/t):0}const xC=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,oS=1e-7,lS=12;function cS(e,t,r,n,s){let A,i,o=0;do i=t+(r-t)/2,A=xC(i,n,s)-e,A>0?r=i:t=i;while(Math.abs(A)>oS&&++o<lS);return i}function ho(e,t,r,n){if(e===t&&r===n)return dr;const s=A=>cS(A,0,1,e,r);return A=>A===0||A===1?A:xC(s(A),t,n)}const yC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wC=e=>t=>1-e(1-t),vC=ho(.33,1.53,.69,.99),kg=wC(vC),bC=yC(kg),BC=e=>(e*=2)<1?.5*kg(e):.5*(2-Math.pow(2,-10*(e-1))),Ig=e=>1-Math.sin(Math.acos(e)),CC=wC(Ig),_C=yC(Ig),uS=ho(.42,0,1,1),dS=ho(0,0,.58,1),jC=ho(.42,0,.58,1),hS=e=>Array.isArray(e)&&typeof e[0]!="number",NC=e=>Array.isArray(e)&&typeof e[0]=="number",fS={linear:dr,easeIn:uS,easeInOut:jC,easeOut:dS,circIn:Ig,circInOut:_C,circOut:CC,backIn:kg,backInOut:bC,backOut:vC,anticipate:BC},mS=e=>typeof e=="string",sx=e=>{if(NC(e)){Ug(e.length===4);const[t,r,n,s]=e;return ho(t,r,n,s)}else if(mS(e))return fS[e];return e},Wo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gS(e,t){let r=new Set,n=new Set,s=!1,A=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){i.has(c)&&(u.schedule(c),e()),c(o)}const u={schedule:(c,d=!1,h=!1)=>{const p=h&&s?r:n;return d&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,s){A=!0;return}s=!0,[r,n]=[n,r],r.forEach(l),r.clear(),s=!1,A&&(A=!1,u.process(c))}};return u}const pS=40;function EC(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},A=()=>r=!0,i=Wo.reduce((x,b)=>(x[b]=gS(A),x),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:h,render:m,postRender:p}=i,y=()=>{const x=gn.useManualTiming?s.timestamp:performance.now();r=!1,gn.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(x-s.timestamp,pS),1)),s.timestamp=x,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),c.process(s),d.process(s),h.process(s),m.process(s),p.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(y))},w=()=>{r=!0,n=!0,s.isProcessing||e(y)};return{schedule:Wo.reduce((x,b)=>{const _=i[b];return x[b]=(C,N=!1,j=!1)=>(r||w(),_.schedule(C,N,j)),x},{}),cancel:x=>{for(let b=0;b<Wo.length;b++)i[Wo[b]].cancel(x)},state:s,steps:i}}const{schedule:Fe,cancel:ts,state:st,steps:vd}=EC(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let Ll;function xS(){Ll=void 0}const kt={now:()=>(Ll===void 0&&kt.set(st.isProcessing||gn.useManualTiming?st.timestamp:performance.now()),Ll),set:e=>{Ll=e,queueMicrotask(xS)}},QC=e=>t=>typeof t=="string"&&t.startsWith(e),Tg=QC("--"),yS=QC("var(--"),Dg=e=>yS(e)?wS.test(e.split("/*")[0].trim()):!1,wS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ua={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Oi={...ua,transform:e=>mn(0,1,e)},qo={...ua,default:1},ii=e=>Math.round(e*1e5)/1e5,Lg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vS(e){return e==null}const bS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pg=(e,t)=>r=>!!(typeof r=="string"&&bS.test(r)&&r.startsWith(e)||t&&!vS(r)&&Object.prototype.hasOwnProperty.call(r,t)),UC=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,A,i,o]=n.match(Lg);return{[e]:parseFloat(s),[t]:parseFloat(A),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},BS=e=>mn(0,255,e),bd={...ua,transform:e=>Math.round(BS(e))},Us={test:Pg("rgb","red"),parse:UC("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+bd.transform(e)+", "+bd.transform(t)+", "+bd.transform(r)+", "+ii(Oi.transform(n))+")"};function CS(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const pf={test:Pg("#"),parse:CS,transform:Us.transform},fo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),jn=fo("deg"),Kr=fo("%"),ue=fo("px"),_S=fo("vh"),jS=fo("vw"),Ax={...Kr,parse:e=>Kr.parse(e)/100,transform:e=>Kr.transform(e*100)},EA={test:Pg("hsl","hue"),parse:UC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Kr.transform(ii(t))+", "+Kr.transform(ii(r))+", "+ii(Oi.transform(n))+")"},$e={test:e=>Us.test(e)||pf.test(e)||EA.test(e),parse:e=>Us.test(e)?Us.parse(e):EA.test(e)?EA.parse(e):pf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Us.transform(e):EA.transform(e),getAnimatableNone:e=>{const t=$e.parse(e);return t.alpha=0,$e.transform(t)}},NS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ES(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Lg))==null?void 0:t.length)||0)+(((r=e.match(NS))==null?void 0:r.length)||0)>0}const FC="number",SC="color",QS="var",US="var(",ax="${}",FS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ri(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let A=0;const o=t.replace(FS,l=>($e.test(l)?(n.color.push(A),s.push(SC),r.push($e.parse(l))):l.startsWith(US)?(n.var.push(A),s.push(QS),r.push(l)):(n.number.push(A),s.push(FC),r.push(parseFloat(l))),++A,ax)).split(ax);return{values:r,split:o,indexes:n,types:s}}function kC(e){return Ri(e).values}function IC(e){const{split:t,types:r}=Ri(e),n=t.length;return s=>{let A="";for(let i=0;i<n;i++)if(A+=t[i],s[i]!==void 0){const o=r[i];o===FC?A+=ii(s[i]):o===SC?A+=$e.transform(s[i]):A+=s[i]}return A}}const SS=e=>typeof e=="number"?0:$e.test(e)?$e.getAnimatableNone(e):e;function kS(e){const t=kC(e);return IC(e)(t.map(SS))}const rs={test:ES,parse:kC,createTransformer:IC,getAnimatableNone:kS};function Bd(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function IS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,A=0,i=0;if(!t)s=A=i=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;s=Bd(l,o,e+1/3),A=Bd(l,o,e),i=Bd(l,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(A*255),blue:Math.round(i*255),alpha:n}}function _c(e,t){return r=>r>0?t:e}const Te=(e,t,r)=>e+(t-e)*r,Cd=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},TS=[pf,Us,EA],DS=e=>TS.find(t=>t.test(e));function ix(e){const t=DS(e);if(!t)return!1;let r=t.parse(e);return t===EA&&(r=IS(r)),r}const ox=(e,t)=>{const r=ix(e),n=ix(t);if(!r||!n)return _c(e,t);const s={...r};return A=>(s.red=Cd(r.red,n.red,A),s.green=Cd(r.green,n.green,A),s.blue=Cd(r.blue,n.blue,A),s.alpha=Te(r.alpha,n.alpha,A),Us.transform(s))},xf=new Set(["none","hidden"]);function LS(e,t){return xf.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function PS(e,t){return r=>Te(e,t,r)}function Hg(e){return typeof e=="number"?PS:typeof e=="string"?Dg(e)?_c:$e.test(e)?ox:RS:Array.isArray(e)?TC:typeof e=="object"?$e.test(e)?ox:HS:_c}function TC(e,t){const r=[...e],n=r.length,s=e.map((A,i)=>Hg(A)(A,t[i]));return A=>{for(let i=0;i<n;i++)r[i]=s[i](A);return r}}function HS(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Hg(e[s])(e[s],t[s]));return s=>{for(const A in n)r[A]=n[A](s);return r}}function OS(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const A=t.types[s],i=e.indexes[A][n[A]],o=e.values[i]??0;r[s]=o,n[A]++}return r}const RS=(e,t)=>{const r=rs.createTransformer(t),n=Ri(e),s=Ri(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?xf.has(e)&&!s.values.length||xf.has(t)&&!n.values.length?LS(e,t):uo(TC(OS(n,s),s.values),r):_c(e,t)};function DC(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Te(e,t,r):Hg(e)(e,t)}const MS=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Fe.update(t,r),stop:()=>ts(t),now:()=>st.isProcessing?st.timestamp:kt.now()}},LC=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let A=0;A<s;A++)n+=Math.round(e(A/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},jc=2e4;function Og(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<jc;)t+=r,n=e.next(t);return t>=jc?1/0:t}function zS(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(Og(n),jc);return{type:"keyframes",ease:A=>n.next(s*A).value/t,duration:or(s)}}const KS=5;function PC(e,t,r){const n=Math.max(t-KS,0);return pC(r-e(n),t-n)}const He={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_d=.001;function VS({duration:e=He.duration,bounce:t=He.bounce,velocity:r=He.velocity,mass:n=He.mass}){let s,A,i=1-t;i=mn(He.minDamping,He.maxDamping,i),e=mn(He.minDuration,He.maxDuration,or(e)),i<1?(s=u=>{const c=u*i,d=c*e,h=c-r,m=yf(u,i),p=Math.exp(-d);return _d-h/m*p},A=u=>{const d=u*i*e,h=d*r+r,m=Math.pow(i,2)*Math.pow(u,2)*e,p=Math.exp(-d),y=yf(Math.pow(u,2),i);return(-s(u)+_d>0?-1:1)*((h-m)*p)/y}):(s=u=>{const c=Math.exp(-u*e),d=(u-r)*e+1;return-_d+c*d},A=u=>{const c=Math.exp(-u*e),d=(r-u)*(e*e);return c*d});const o=5/e,l=GS(s,A,o);if(e=zr(e),isNaN(l))return{stiffness:He.stiffness,damping:He.damping,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const $S=12;function GS(e,t,r){let n=r;for(let s=1;s<$S;s++)n=n-e(n)/t(n);return n}function yf(e,t){return e*Math.sqrt(1-t*t)}const WS=["duration","bounce"],qS=["stiffness","damping","mass"];function lx(e,t){return t.some(r=>e[r]!==void 0)}function JS(e){let t={velocity:He.velocity,stiffness:He.stiffness,damping:He.damping,mass:He.mass,isResolvedFromDuration:!1,...e};if(!lx(e,qS)&&lx(e,WS))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,A=2*mn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:He.mass,stiffness:s,damping:A}}else{const r=VS(e);t={...t,...r,mass:He.mass},t.isResolvedFromDuration=!0}return t}function Nc(e=He.visualDuration,t=He.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const A=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:A},{stiffness:l,damping:u,mass:c,duration:d,velocity:h,isResolvedFromDuration:m}=JS({...r,velocity:-or(r.velocity||0)}),p=h||0,y=u/(2*Math.sqrt(l*c)),w=i-A,g=or(Math.sqrt(l/c)),f=Math.abs(w)<5;n||(n=f?He.restSpeed.granular:He.restSpeed.default),s||(s=f?He.restDelta.granular:He.restDelta.default);let x;if(y<1){const _=yf(g,y);x=C=>{const N=Math.exp(-y*g*C);return i-N*((p+y*g*w)/_*Math.sin(_*C)+w*Math.cos(_*C))}}else if(y===1)x=_=>i-Math.exp(-g*_)*(w+(p+g*w)*_);else{const _=g*Math.sqrt(y*y-1);x=C=>{const N=Math.exp(-y*g*C),j=Math.min(_*C,300);return i-N*((p+y*g*w)*Math.sinh(j)+_*w*Math.cosh(j))/_}}const b={calculatedDuration:m&&d||null,next:_=>{const C=x(_);if(m)o.done=_>=d;else{let N=_===0?p:0;y<1&&(N=_===0?zr(p):PC(x,_,C));const j=Math.abs(N)<=n,F=Math.abs(i-C)<=s;o.done=j&&F}return o.value=o.done?i:C,o},toString:()=>{const _=Math.min(Og(b),jc),C=LC(N=>b.next(_*N).value,_,30);return _+"ms "+C},toTransition:()=>{}};return b}Nc.applyToOptions=e=>{const t=zS(e,100,Nc);return e.ease=t.ease,e.duration=zr(t.duration),e.type="keyframes",e};function wf({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:A=500,modifyTarget:i,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],h={done:!1,value:d},m=j=>o!==void 0&&j<o||l!==void 0&&j>l,p=j=>o===void 0?l:l===void 0||Math.abs(o-j)<Math.abs(l-j)?o:l;let y=r*t;const w=d+y,g=i===void 0?w:i(w);g!==w&&(y=g-d);const f=j=>-y*Math.exp(-j/n),x=j=>g+f(j),b=j=>{const F=f(j),D=x(j);h.done=Math.abs(F)<=u,h.value=h.done?g:D};let _,C;const N=j=>{m(h.value)&&(_=j,C=Nc({keyframes:[h.value,p(h.value)],velocity:PC(x,j,h.value),damping:s,stiffness:A,restDelta:u,restSpeed:c}))};return N(0),{calculatedDuration:null,next:j=>{let F=!1;return!C&&_===void 0&&(F=!0,b(j),N(j)),_!==void 0&&j>=_?C.next(j-_):(!F&&b(j),h)}}}function XS(e,t,r){const n=[],s=r||gn.mix||DC,A=e.length-1;for(let i=0;i<A;i++){let o=s(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||dr:t;o=uo(l,o)}n.push(o)}return n}function YS(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const A=e.length;if(Ug(A===t.length),A===1)return()=>t[0];if(A===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[A-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=XS(t,n,s),l=o.length,u=c=>{if(i&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const h=Hi(e[d],e[d+1],c);return o[d](h)};return r?c=>u(mn(e[0],e[A-1],c)):u}function ZS(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Hi(0,t,n);e.push(Te(r,1,s))}}function e4(e){const t=[0];return ZS(t,e.length-1),t}function t4(e,t){return e.map(r=>r*t)}function r4(e,t){return e.map(()=>t||jC).splice(0,e.length-1)}function oi({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=hS(n)?n.map(sx):sx(n),A={done:!1,value:t[0]},i=t4(r&&r.length===t.length?r:e4(t),e),o=YS(i,t,{ease:Array.isArray(s)?s:r4(t,s)});return{calculatedDuration:e,next:l=>(A.value=o(l),A.done=l>=e,A)}}const n4=e=>e!==null;function Rg(e,{repeat:t,repeatType:r="loop"},n,s=1){const A=e.filter(n4),o=s<0||t&&r!=="loop"&&t%2===1?0:A.length-1;return!o||n===void 0?A[o]:n}const s4={decay:wf,inertia:wf,tween:oi,keyframes:oi,spring:Nc};function HC(e){typeof e.type=="string"&&(e.type=s4[e.type])}class Mg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const A4=e=>e/100;class zg extends Mg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==kt.now()&&this.tick(kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;HC(t);const{type:r=oi,repeat:n=0,repeatDelay:s=0,repeatType:A,velocity:i=0}=t;let{keyframes:o}=t;const l=r||oi;l!==oi&&typeof o[0]!="number"&&(this.mixKeyframes=uo(A4,DC(o[0],o[1])),o=[0,100]);const u=l({...t,keyframes:o});A==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=Og(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:A,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:h,repeatDelay:m,type:p,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),f=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,b=n;if(d){const j=Math.min(this.currentTime,s)/o;let F=Math.floor(j),D=j%1;!D&&j>=1&&(D=1),D===1&&F--,F=Math.min(F,d+1),!!(F%2)&&(h==="reverse"?(D=1-D,m&&(D-=m/o)):h==="mirror"&&(b=i)),x=mn(0,1,D)*o}const _=f?{done:!1,value:c[0]}:b.next(x);A&&(_.value=A(_.value));let{done:C}=_;!f&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&p!==wf&&(_.value=Rg(c,this.options,w,this.speed)),y&&y(_.value),N&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return or(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+or(t)}get time(){return or(this.currentTime)}set time(t){var r;t=zr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(kt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=or(this.currentTime))}play(){var s,A;if(this.isStopped)return;const{driver:t=MS,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(A=(s=this.options).onPlay)==null||A.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function a4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fs=e=>e*180/Math.PI,vf=e=>{const t=Fs(Math.atan2(e[1],e[0]));return bf(t)},i4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vf,rotateZ:vf,skewX:e=>Fs(Math.atan(e[1])),skewY:e=>Fs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},bf=e=>(e=e%360,e<0&&(e+=360),e),cx=vf,ux=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),o4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ux,scaleY:dx,scale:e=>(ux(e)+dx(e))/2,rotateX:e=>bf(Fs(Math.atan2(e[6],e[5]))),rotateY:e=>bf(Fs(Math.atan2(-e[2],e[0]))),rotateZ:cx,rotate:cx,skewX:e=>Fs(Math.atan(e[4])),skewY:e=>Fs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Bf(e){return e.includes("scale")?1:0}function Cf(e,t){if(!e||e==="none")return Bf(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=o4,s=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=i4,s=o}if(!s)return Bf(t);const A=n[t],i=s[1].split(",").map(c4);return typeof A=="function"?A(i):i[A]}const l4=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Cf(r,t)};function c4(e){return parseFloat(e.trim())}const da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ha=new Set(da),hx=e=>e===ua||e===ue,u4=new Set(["x","y","z"]),d4=da.filter(e=>!u4.has(e));function h4(e){const t=[];return d4.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ts={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Cf(t,"x"),y:(e,{transform:t})=>Cf(t,"y")};Ts.translateX=Ts.x;Ts.translateY=Ts.y;const Ds=new Set;let _f=!1,jf=!1,Nf=!1;function OC(){if(jf){const e=Array.from(Ds).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=h4(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([A,i])=>{var o;(o=n.getValue(A))==null||o.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}jf=!1,_f=!1,Ds.forEach(e=>e.complete(Nf)),Ds.clear()}function RC(){Ds.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jf=!0)})}function f4(){Nf=!0,RC(),OC(),Nf=!1}class Kg{constructor(t,r,n,s,A,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=A,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Ds.add(this),_f||(_f=!0,Fe.read(RC),Fe.resolveKeyframes(OC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const A=s==null?void 0:s.get(),i=t[t.length-1];if(A!==void 0)t[0]=A;else if(n&&r){const o=n.readValue(r,i);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=i),s&&A===void 0&&s.set(t[0])}a4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ds.delete(this)}cancel(){this.state==="scheduled"&&(Ds.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const m4=e=>e.startsWith("--");function g4(e,t,r){m4(t)?e.style.setProperty(t,r):e.style[t]=r}const p4=Fg(()=>window.ScrollTimeline!==void 0),x4={};function y4(e,t){const r=Fg(e);return()=>x4[t]??r()}const MC=y4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ha=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,fx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ha([0,.65,.55,1]),circOut:Ha([.55,0,1,.45]),backIn:Ha([.31,.01,.66,-.59]),backOut:Ha([.33,1.53,.69,.99])};function zC(e,t){if(e)return typeof e=="function"?MC()?LC(e,t):"ease-out":NC(e)?Ha(e):Array.isArray(e)?e.map(r=>zC(r,t)||fx.easeOut):fx[e]}function w4(e,t,r,{delay:n=0,duration:s=300,repeat:A=0,repeatType:i="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[t]:r};l&&(c.offset=l);const d=zC(o,s);Array.isArray(d)&&(c.easing=d);const h={delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:A+1,direction:i==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(c,h)}function KC(e){return typeof e=="function"&&"applyToOptions"in e}function v4({type:e,...t}){return KC(e)&&MC()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class b4 extends Mg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:A,allowFlatten:i=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!A,this.allowFlatten=i,this.options=t,Ug(typeof t.type!="string");const u=v4(t);this.animation=w4(r,n,s,u,A),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!A){const c=Rg(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):g4(r,n,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return or(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+or(t)}get time(){return or(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&p4()?(this.animation.timeline=t,dr):r(this)}}const VC={anticipate:BC,backInOut:bC,circInOut:_C};function B4(e){return e in VC}function C4(e){typeof e.ease=="string"&&B4(e.ease)&&(e.ease=VC[e.ease])}const mx=10;class _4 extends b4{constructor(t){C4(t),HC(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:A,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new zg({...i,autoplay:!1}),l=zr(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-mx).value,o.sample(l).value,mx),o.stop()}}const gx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(rs.test(e)||e==="0")&&!e.startsWith("url("));function j4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function N4(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const A=e[e.length-1],i=gx(s,t),o=gx(A,t);return!i||!o?!1:j4(e)||(r==="spring"||KC(r))&&n}function Ef(e){e.duration=0,e.type="keyframes"}const E4=new Set(["opacity","clipPath","filter","transform"]),Q4=Fg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U4(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:A,type:i}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return Q4()&&r&&E4.has(r)&&(r!=="transform"||!u)&&!l&&!n&&s!=="mirror"&&A!==0&&i!=="inertia"}const F4=40;class S4 extends Mg{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:A=0,repeatType:i="loop",keyframes:o,name:l,motionValue:u,element:c,...d}){var p;super(),this.stop=()=>{var y,w;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=kt.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:A,repeatType:i,name:l,motionValue:u,element:c,...d},m=(c==null?void 0:c.KeyframeResolver)||Kg;this.keyframeResolver=new m(o,(y,w,g)=>this.onKeyframesResolved(y,w,h,!g),l,u,c),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:A,type:i,velocity:o,delay:l,isHandoff:u,onUpdate:c}=n;this.resolvedAt=kt.now(),N4(t,A,i,o)||((gn.instantAnimations||!l)&&(c==null||c(Rg(t,n,r))),t[0]=t[t.length-1],Ef(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>F4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&U4(h)?new _4({...h,element:h.motionValue.owner.current}):new zg(h);m.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),f4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const k4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I4(e){const t=k4.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function $C(e,t,r=1){const[n,s]=I4(e);if(!n)return;const A=window.getComputedStyle(t).getPropertyValue(n);if(A){const i=A.trim();return fC(i)?parseFloat(i):i}return Dg(s)?$C(s,t,r+1):s}function Vg(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const GC=new Set(["width","height","top","left","right","bottom",...da]),T4={test:e=>e==="auto",parse:e=>e},WC=e=>t=>t.test(e),qC=[ua,ue,Kr,jn,jS,_S,T4],px=e=>qC.find(WC(e));function D4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gC(e):!0}const L4=new Set(["brightness","contrast","saturate","opacity"]);function P4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Lg)||[];if(!n)return e;const s=r.replace(n,"");let A=L4.has(t)?1:0;return n!==r&&(A*=100),t+"("+A+s+")"}const H4=/\b([a-z-]*)\(.*?\)/gu,Qf={...rs,getAnimatableNone:e=>{const t=e.match(H4);return t?t.map(P4).join(" "):e}},xx={...ua,transform:Math.round},O4={rotate:jn,rotateX:jn,rotateY:jn,rotateZ:jn,scale:qo,scaleX:qo,scaleY:qo,scaleZ:qo,skew:jn,skewX:jn,skewY:jn,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Oi,originX:Ax,originY:Ax,originZ:ue},$g={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...O4,zIndex:xx,fillOpacity:Oi,strokeOpacity:Oi,numOctaves:xx},R4={...$g,color:$e,backgroundColor:$e,outlineColor:$e,fill:$e,stroke:$e,borderColor:$e,borderTopColor:$e,borderRightColor:$e,borderBottomColor:$e,borderLeftColor:$e,filter:Qf,WebkitFilter:Qf},JC=e=>R4[e];function XC(e,t){let r=JC(e);return r!==Qf&&(r=rs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const M4=new Set(["auto","none","0"]);function z4(e,t,r){let n=0,s;for(;n<e.length&&!s;){const A=e[n];typeof A=="string"&&!M4.has(A)&&Ri(A).values.length&&(s=e[n]),n++}if(s&&r)for(const A of t)e[A]=XC(r,s)}class K4 extends Kg{constructor(t,r,n,s,A){super(t,r,n,s,A,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Dg(u))){const c=$C(u,r.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!GC.has(n)||t.length!==2)return;const[s,A]=t,i=px(s),o=px(A);if(i!==o)if(hx(i)&&hx(o))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else Ts[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||D4(t[s]))&&n.push(s);n.length&&z4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ts[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const A=n.length-1,i=n[A];n[A]=Ts[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function V4(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const YC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ZC(e){return mC(e)&&"offsetHeight"in e}const yx=30,$4=e=>!isNaN(parseFloat(e));class G4{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var A;const s=kt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((A=this.events.change)==null||A.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=kt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Sg);const n=this.events[t].add(r);return t==="change"?()=>{n(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yx)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,yx);return pC(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function YA(e,t){return new G4(e,t)}const{schedule:Gg}=EC(queueMicrotask,!1),br={x:!1,y:!1};function e_(){return br.x||br.y}function W4(e){return e==="x"||e==="y"?br[e]?null:(br[e]=!0,()=>{br[e]=!1}):br.x||br.y?null:(br.x=br.y=!0,()=>{br.x=br.y=!1})}function t_(e,t){const r=V4(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function wx(e){return!(e.pointerType==="touch"||e_())}function q4(e,t,r={}){const[n,s,A]=t_(e,r),i=o=>{if(!wx(o))return;const{target:l}=o,u=t(l,o);if(typeof u!="function"||!l)return;const c=d=>{wx(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return n.forEach(o=>{o.addEventListener("pointerenter",i,s)}),A}const r_=(e,t)=>t?e===t?!0:r_(e,t.parentElement):!1,Wg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,J4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function X4(e){return J4.has(e.tagName)||e.tabIndex!==-1}const Pl=new WeakSet;function vx(e){return t=>{t.key==="Enter"&&e(t)}}function jd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Y4=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=vx(()=>{if(Pl.has(r))return;jd(r,"down");const s=vx(()=>{jd(r,"up")}),A=()=>jd(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",A,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function bx(e){return Wg(e)&&!e_()}function Z4(e,t,r={}){const[n,s,A]=t_(e,r),i=o=>{const l=o.currentTarget;if(!bx(o))return;Pl.add(l);const u=t(l,o),c=(m,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Pl.has(l)&&Pl.delete(l),bx(m)&&typeof u=="function"&&u(m,{success:p})},d=m=>{c(m,l===window||l===document||r.useGlobalTarget||r_(l,m.target))},h=m=>{c(m,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",h,s)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",i,s),ZC(o)&&(o.addEventListener("focus",u=>Y4(u,s)),!X4(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),A}function n_(e){return mC(e)&&"ownerSVGElement"in e}function ek(e){return n_(e)&&e.tagName==="svg"}const xt=e=>!!(e&&e.getVelocity),tk=[...qC,$e,rs],rk=e=>tk.find(WC(e)),qg=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Bx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nk(...e){return t=>{let r=!1;const n=e.map(s=>{const A=Bx(s,t);return!r&&typeof A=="function"&&(r=!0),A});if(r)return()=>{for(let s=0;s<n.length;s++){const A=n[s];typeof A=="function"?A():Bx(e[s],null)}}}}function sk(...e){return v.useCallback(nk(...e),e)}class Ak extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=ZC(n)&&n.offsetWidth||0,A=this.props.sizeRef.current;A.height=r.offsetHeight||0,A.width=r.offsetWidth||0,A.top=r.offsetTop,A.left=r.offsetLeft,A.right=s-A.width-A.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ak({children:e,isPresent:t,anchorX:r,root:n}){const s=v.useId(),A=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=v.useContext(qg),l=sk(A,e==null?void 0:e.ref);return v.useInsertionEffect(()=>{const{width:u,height:c,top:d,left:h,right:m}=i.current;if(t||!A.current||!u||!c)return;const p=r==="left"?`left: ${h}`:`right: ${m}`;A.current.dataset.motionPopId=s;const y=document.createElement("style");o&&(y.nonce=o);const w=n??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),a.jsx(Ak,{isPresent:t,childRef:A,sizeRef:i,children:v.cloneElement(e,{ref:l})})}const ik=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:A,mode:i,anchorX:o,root:l})=>{const u=jg(ok),c=v.useId();let d=!0,h=v.useMemo(()=>(d=!1,{id:c,initial:t,isPresent:r,custom:s,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return A&&d&&(h={...h}),v.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),v.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=a.jsx(ak,{isPresent:r,anchorX:o,root:l,children:e})),a.jsx(pu.Provider,{value:h,children:e})};function ok(){return new Map}function s_(e=!0){const t=v.useContext(pu);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,A=v.useId();v.useEffect(()=>{if(e)return s(A)},[e]);const i=v.useCallback(()=>e&&n&&n(A),[A,n,e]);return!r&&n?[!1,i]:[!0]}const Jo=e=>e.key||"";function Cx(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const Hl=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:A="sync",propagate:i=!1,anchorX:o="left",root:l})=>{const[u,c]=s_(i),d=v.useMemo(()=>Cx(e),[e]),h=i&&!u?[]:d.map(Jo),m=v.useRef(!0),p=v.useRef(d),y=jg(()=>new Map),[w,g]=v.useState(d),[f,x]=v.useState(d);hC(()=>{m.current=!1,p.current=d;for(let C=0;C<f.length;C++){const N=Jo(f[C]);h.includes(N)?y.delete(N):y.get(N)!==!0&&y.set(N,!1)}},[f,h.length,h.join("-")]);const b=[];if(d!==w){let C=[...d];for(let N=0;N<f.length;N++){const j=f[N],F=Jo(j);h.includes(F)||(C.splice(N,0,j),b.push(j))}return A==="wait"&&b.length&&(C=b),x(Cx(C)),g(d),null}const{forceRender:_}=v.useContext(_g);return a.jsx(a.Fragment,{children:f.map(C=>{const N=Jo(C),j=i&&!u?!1:d===f||h.includes(N),F=()=>{if(y.has(N))y.set(N,!0);else return;let D=!0;y.forEach(T=>{T||(D=!1)}),D&&(_==null||_(),x(p.current),i&&(c==null||c()),n&&n())};return a.jsx(ik,{isPresent:j,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:A,root:l,onExitComplete:j?void 0:F,anchorX:o,children:C},N)})})},A_=v.createContext({strict:!1}),_x={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ZA={};for(const e in _x)ZA[e]={isEnabled:t=>_x[e].some(r=>!!t[r])};function lk(e){for(const t in e)ZA[t]={...ZA[t],...e[t]}}const ck=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ec(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ck.has(e)}let a_=e=>!Ec(e);function uk(e){typeof e=="function"&&(a_=t=>t.startsWith("on")?!Ec(t):e(t))}try{uk(require("@emotion/is-prop-valid").default)}catch{}function dk(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(a_(s)||r===!0&&Ec(s)||!t&&!Ec(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const xu=v.createContext({});function yu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Mi(e){return typeof e=="string"||Array.isArray(e)}const Jg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xg=["initial",...Jg];function wu(e){return yu(e.animate)||Xg.some(t=>Mi(e[t]))}function i_(e){return!!(wu(e)||e.variants)}function hk(e,t){if(wu(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Mi(r)?r:void 0,animate:Mi(n)?n:void 0}}return e.inherit!==!1?t:{}}function fk(e){const{initial:t,animate:r}=hk(e,v.useContext(xu));return v.useMemo(()=>({initial:t,animate:r}),[jx(t),jx(r)])}function jx(e){return Array.isArray(e)?e.join(" "):e}const zi={};function mk(e){for(const t in e)zi[t]=e[t],Tg(t)&&(zi[t].isCSSVariable=!0)}function o_(e,{layout:t,layoutId:r}){return ha.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!zi[e]||e==="opacity")}const gk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pk=da.length;function xk(e,t,r){let n="",s=!0;for(let A=0;A<pk;A++){const i=da[A],o=e[i];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(i.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=YC(o,$g[i]);if(!l){s=!1;const c=gk[i]||i;n+=`${c}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Yg(e,t,r){const{style:n,vars:s,transformOrigin:A}=e;let i=!1,o=!1;for(const l in t){const u=t[l];if(ha.has(l)){i=!0;continue}else if(Tg(l)){s[l]=u;continue}else{const c=YC(u,$g[l]);l.startsWith("origin")?(o=!0,A[l]=c):n[l]=c}}if(t.transform||(i||r?n.transform=xk(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=A;n.transformOrigin=`${l} ${u} ${c}`}}const Zg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function l_(e,t,r){for(const n in t)!xt(t[n])&&!o_(n,r)&&(e[n]=t[n])}function yk({transformTemplate:e},t){return v.useMemo(()=>{const r=Zg();return Yg(r,t,e),Object.assign({},r.vars,r.style)},[t])}function wk(e,t){const r=e.style||{},n={};return l_(n,r,e),Object.assign(n,yk(e,t)),n}function vk(e,t){const r={},n=wk(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const bk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ck(e,t,r=1,n=0,s=!0){e.pathLength=1;const A=s?bk:Bk;e[A.offset]=ue.transform(-n);const i=ue.transform(t),o=ue.transform(r);e[A.array]=`${i} ${o}`}function c_(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:A=1,pathOffset:i=0,...o},l,u,c){if(Yg(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),s!==void 0&&Ck(d,s,A,i,!1)}const u_=()=>({...Zg(),attrs:{}}),d_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _k(e,t,r,n){const s=v.useMemo(()=>{const A=u_();return c_(A,t,d_(n),e.transformTemplate,e.style),{...A.attrs,style:{...A.style}}},[t]);if(e.style){const A={};l_(A,e.style,e),s.style={...A,...s.style}}return s}const jk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ep(e){return typeof e!="string"||e.includes("-")?!1:!!(jk.indexOf(e)>-1||/[A-Z]/u.test(e))}function Nk(e,t,r,{latestValues:n},s,A=!1){const o=(ep(e)?_k:vk)(t,n,s,e),l=dk(t,typeof e=="string",A),u=e!==v.Fragment?{...l,...o,ref:r}:{},{children:c}=t,d=v.useMemo(()=>xt(c)?c.get():c,[c]);return v.createElement(e,{...u,children:d})}function Nx(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function tp(e,t,r,n){if(typeof t=="function"){const[s,A]=Nx(n);t=t(r!==void 0?r:e.custom,s,A)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,A]=Nx(n);t=t(r!==void 0?r:e.custom,s,A)}return t}function Ol(e){return xt(e)?e.get():e}function Ek({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:Qk(r,n,s,e),renderState:t()}}function Qk(e,t,r,n){const s={},A=n(e,{});for(const h in A)s[h]=Ol(A[h]);let{initial:i,animate:o}=e;const l=wu(e),u=i_(e);t&&u&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let c=r?r.initial===!1:!1;c=c||i===!1;const d=c?o:i;if(d&&typeof d!="boolean"&&!yu(d)){const h=Array.isArray(d)?d:[d];for(let m=0;m<h.length;m++){const p=tp(e,h[m]);if(p){const{transitionEnd:y,transition:w,...g}=p;for(const f in g){let x=g[f];if(Array.isArray(x)){const b=c?x.length-1:0;x=x[b]}x!==null&&(s[f]=x)}for(const f in y)s[f]=y[f]}}}return s}const h_=e=>(t,r)=>{const n=v.useContext(xu),s=v.useContext(pu),A=()=>Ek(e,t,n,s);return r?A():jg(A)};function rp(e,t,r){var A;const{style:n}=e,s={};for(const i in n)(xt(n[i])||t.style&&xt(t.style[i])||o_(i,e)||((A=r==null?void 0:r.getValue(i))==null?void 0:A.liveStyle)!==void 0)&&(s[i]=n[i]);return s}const Uk=h_({scrapeMotionValuesFromProps:rp,createRenderState:Zg});function f_(e,t,r){const n=rp(e,t,r);for(const s in e)if(xt(e[s])||xt(t[s])){const A=da.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[A]=e[s]}return n}const Fk=h_({scrapeMotionValuesFromProps:f_,createRenderState:u_}),Sk=Symbol.for("motionComponentSymbol");function QA(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function kk(e,t,r){return v.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):QA(r)&&(r.current=n))},[t])}const np=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ik="framerAppearId",m_="data-"+np(Ik),g_=v.createContext({});function Tk(e,t,r,n,s){var y,w;const{visualElement:A}=v.useContext(xu),i=v.useContext(A_),o=v.useContext(pu),l=v.useContext(qg).reducedMotion,u=v.useRef(null);n=n||i.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:A,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=v.useContext(g_);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&Dk(u.current,r,s,d);const h=v.useRef(!1);v.useInsertionEffect(()=>{c&&h.current&&c.update(r,o)});const m=r[m_],p=v.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return hC(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1),c.enteringChildren=void 0)}),c}function Dk(e,t,r,n){const{layoutId:s,layout:A,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:p_(e.parent)),e.projection.setOptions({layoutId:s,layout:A,alwaysMeasureLayout:!!i||o&&QA(o),visualElement:e,animationType:typeof A=="string"?A:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}function p_(e){if(e)return e.options.allowProjection!==!1?e.projection:p_(e.parent)}function Nd(e,{forwardMotionProps:t=!1}={},r,n){r&&lk(r);const s=ep(e)?Fk:Uk;function A(o,l){let u;const c={...v.useContext(qg),...o,layoutId:Lk(o)},{isStatic:d}=c,h=fk(o),m=s(o,d);if(!d&&Ng){Pk();const p=Hk(c);u=p.MeasureLayout,h.visualElement=Tk(e,m,c,n,p.ProjectionNode)}return a.jsxs(xu.Provider,{value:h,children:[u&&h.visualElement?a.jsx(u,{visualElement:h.visualElement,...c}):null,Nk(e,o,kk(m,h.visualElement,l),m,d,t)]})}A.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=v.forwardRef(A);return i[Sk]=e,i}function Lk({layoutId:e}){const t=v.useContext(_g).id;return t&&e!==void 0?t+"-"+e:e}function Pk(e,t){v.useContext(A_).strict}function Hk(e){const{drag:t,layout:r}=ZA;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Ok(e,t){if(typeof Proxy>"u")return Nd;const r=new Map,n=(A,i)=>Nd(A,i,e,t),s=(A,i)=>n(A,i);return new Proxy(s,{get:(A,i)=>i==="create"?n:(r.has(i)||r.set(i,Nd(i,void 0,e,t)),r.get(i))})}function x_({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Rk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Mk(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ed(e){return e===void 0||e===1}function Uf({scale:e,scaleX:t,scaleY:r}){return!Ed(e)||!Ed(t)||!Ed(r)}function vs(e){return Uf(e)||y_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function y_(e){return Ex(e.x)||Ex(e.y)}function Ex(e){return e&&e!=="0%"}function Qc(e,t,r){const n=e-r,s=t*n;return r+s}function Qx(e,t,r,n,s){return s!==void 0&&(e=Qc(e,s,n)),Qc(e,r,n)+t}function Ff(e,t=0,r=1,n,s){e.min=Qx(e.min,t,r,n,s),e.max=Qx(e.max,t,r,n,s)}function w_(e,{x:t,y:r}){Ff(e.x,t.translate,t.scale,t.originPoint),Ff(e.y,r.translate,r.scale,r.originPoint)}const Ux=.999999999999,Fx=1.0000000000001;function zk(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let A,i;for(let o=0;o<s;o++){A=r[o],i=A.projectionDelta;const{visualElement:l}=A.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&A.options.layoutScroll&&A.scroll&&A!==A.root&&FA(e,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,w_(e,i)),n&&vs(A.latestValues)&&FA(e,A.latestValues))}t.x<Fx&&t.x>Ux&&(t.x=1),t.y<Fx&&t.y>Ux&&(t.y=1)}function UA(e,t){e.min=e.min+t,e.max=e.max+t}function Sx(e,t,r,n,s=.5){const A=Te(e.min,e.max,s);Ff(e,t,r,A,n)}function FA(e,t){Sx(e.x,t.x,t.scaleX,t.scale,t.originX),Sx(e.y,t.y,t.scaleY,t.scale,t.originY)}function v_(e,t){return x_(Mk(e.getBoundingClientRect(),t))}function Kk(e,t,r){const n=v_(e,r),{scroll:s}=t;return s&&(UA(n.x,s.offset.x),UA(n.y,s.offset.y)),n}const kx=()=>({translate:0,scale:1,origin:0,originPoint:0}),SA=()=>({x:kx(),y:kx()}),Ix=()=>({min:0,max:0}),Me=()=>({x:Ix(),y:Ix()}),Sf={current:null},b_={current:!1};function Vk(){if(b_.current=!0,!!Ng)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sf.current=e.matches;e.addEventListener("change",t),t()}else Sf.current=!1}const $k=new WeakMap;function Gk(e,t,r){for(const n in t){const s=t[n],A=r[n];if(xt(s))e.addValue(n,s);else if(xt(A))e.addValue(n,YA(s,{owner:e}));else if(A!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,YA(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Tx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wk{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:A,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=kt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Fe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!A,this.isControllingVariants=wu(r),this.isVariantNode=i_(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in d){const m=d[h];l[h]!==void 0&&xt(m)&&m.set(l[h])}}mount(t){var r;this.current=t,$k.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),b_.current||Vk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sf.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ha.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let A;window.MotionCheckAppearSync&&(A=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),A&&A(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ZA){const r=ZA[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const A=this.features[t];A.isMounted?A.update():(A.mount(),A.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Tx.length;n++){const s=Tx[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const A="on"+s,i=t[A];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Gk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=YA(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(fC(n)||gC(n))?n=parseFloat(n):!rk(n)&&rs.test(r)&&(n=XC(t,r)),this.setBaseTarget(t,xt(n)?n.get():n)),xt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var A;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=tp(this.props,r,(A=this.presenceContext)==null?void 0:A.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!xt(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Sg),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Gg.render(this.render)}}class B_ extends Wk{constructor(){super(...arguments),this.KeyframeResolver=K4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function C_(e,{style:t,vars:r},n,s){const A=e.style;let i;for(i in t)A[i]=t[i];s==null||s.applyProjectionStyles(A,n);for(i in r)A.setProperty(i,r[i])}function qk(e){return window.getComputedStyle(e)}class Jk extends B_{constructor(){super(...arguments),this.type="html",this.renderInstance=C_}readValueFromInstance(t,r){var n;if(ha.has(r))return(n=this.projection)!=null&&n.isProjecting?Bf(r):l4(t,r);{const s=qk(t),A=(Tg(r)?s.getPropertyValue(r):s[r])||0;return typeof A=="string"?A.trim():A}}measureInstanceViewportBox(t,{transformPagePoint:r}){return v_(t,r)}build(t,r,n){Yg(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return rp(t,r,n)}}const __=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xk(e,t,r,n){C_(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(__.has(s)?s:np(s),t.attrs[s])}class Yk extends B_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Me}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ha.has(r)){const n=JC(r);return n&&n.default||0}return r=__.has(r)?r:np(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return f_(t,r,n)}build(t,r,n){c_(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){Xk(t,r,n,s)}mount(t){this.isSVGTag=d_(t.tagName),super.mount(t)}}const Zk=(e,t)=>ep(e)?new Yk(t):new Jk(t,{allowProjection:e!==v.Fragment});function RA(e,t,r){const n=e.getProps();return tp(n,t,r!==void 0?r:n.custom,e)}const kf=e=>Array.isArray(e);function eI(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,YA(r))}function tI(e){return kf(e)?e[e.length-1]||0:e}function rI(e,t){const r=RA(e,t);let{transitionEnd:n={},transition:s={},...A}=r||{};A={...A,...n};for(const i in A){const o=tI(A[i]);eI(e,i,o)}}function nI(e){return!!(xt(e)&&e.add)}function If(e,t){const r=e.getValue("willChange");if(nI(r))return r.add(t);if(!r&&gn.WillChange){const n=new gn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function j_(e){return e.props[m_]}const sI=e=>e!==null;function AI(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(sI),A=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[A]}const aI={type:"spring",stiffness:500,damping:25,restSpeed:10},iI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),oI={type:"keyframes",duration:.8},lI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cI=(e,{keyframes:t})=>t.length>2?oI:ha.has(e)?e.startsWith("scale")?iI(t[1]):aI:lI;function uI({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:A,repeatType:i,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const sp=(e,t,r,n={},s,A)=>i=>{const o=Vg(n,e)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-zr(l);const c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:A?void 0:s};uI(o)||Object.assign(c,cI(e,c)),c.duration&&(c.duration=zr(c.duration)),c.repeatDelay&&(c.repeatDelay=zr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Ef(c),c.delay===0&&(d=!0)),(gn.instantAnimations||gn.skipAnimations)&&(d=!0,Ef(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!A&&t.get()!==void 0){const h=AI(c.keyframes,o);if(h!==void 0){Fe.update(()=>{c.onUpdate(h),c.onComplete()});return}}return o.isSync?new zg(c):new S4(c)};function dI({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function N_(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:A=e.getDefaultTransition(),transitionEnd:i,...o}=t;n&&(A=n);const l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const c in o){const d=e.getValue(c,e.latestValues[c]??null),h=o[c];if(h===void 0||u&&dI(u,c))continue;const m={delay:r,...Vg(A||{},c)},p=d.get();if(p!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=j_(e);if(g){const f=window.MotionHandoffAnimation(g,c,Fe);f!==null&&(m.startTime=f,y=!0)}}If(e,c),d.start(sp(c,d,h,e.shouldReduceMotion&&GC.has(c)?{type:!1}:m,e,y));const w=d.animation;w&&l.push(w)}return i&&Promise.all(l).then(()=>{Fe.update(()=>{i&&rI(e,i)})}),l}function E_(e,t,r,n=0,s=1){const A=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),i=e.size,o=(i-1)*n;return typeof r=="function"?r(A,i):s===1?A*n:o-A*n}function Tf(e,t,r={}){var l;const n=RA(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const A=n?()=>Promise.all(N_(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=s;return hI(e,t,u,c,d,h,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,c]=o==="beforeChildren"?[A,i]:[i,A];return u().then(()=>c())}else return Promise.all([A(),i(r.delay)])}function hI(e,t,r=0,n=0,s=0,A=1,i){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(Tf(l,t,{...i,delay:r+(typeof n=="function"?0:n)+E_(e.variantChildren,l,n,s,A)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function fI(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(A=>Tf(e,A,r));n=Promise.all(s)}else if(typeof t=="string")n=Tf(e,t,r);else{const s=typeof t=="function"?RA(e,t,r.custom):t;n=Promise.all(N_(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Q_(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const mI=Xg.length;function U_(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?U_(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<mI;r++){const n=Xg[r],s=e.props[n];(Mi(s)||s===!1)&&(t[n]=s)}return t}const gI=[...Jg].reverse(),pI=Jg.length;function xI(e){return t=>Promise.all(t.map(({animation:r,options:n})=>fI(e,r,n)))}function yI(e){let t=xI(e),r=Dx(),n=!0;const s=l=>(u,c)=>{var h;const d=RA(e,c,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:m,transitionEnd:p,...y}=d;u={...u,...y,...p}}return u};function A(l){t=l(e)}function i(l){const{props:u}=e,c=U_(e.parent)||{},d=[],h=new Set;let m={},p=1/0;for(let w=0;w<pI;w++){const g=gI[w],f=r[g],x=u[g]!==void 0?u[g]:c[g],b=Mi(x),_=g===l?f.isActive:null;_===!1&&(p=w);let C=x===c[g]&&x!==u[g]&&b;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),f.protectedKeys={...m},!f.isActive&&_===null||!x&&!f.prevProp||yu(x)||typeof x=="boolean")continue;const N=wI(f.prevProp,x);let j=N||g===l&&f.isActive&&!C&&b||w>p&&b,F=!1;const D=Array.isArray(x)?x:[x];let T=D.reduce(s(g),{});_===!1&&(T={});const{prevResolvedValues:G={}}=f,I={...G,...T},K=te=>{j=!0,h.has(te)&&(F=!0,h.delete(te)),f.needsAnimating[te]=!0;const k=e.getValue(te);k&&(k.liveStyle=!1)};for(const te in I){const k=T[te],M=G[te];if(m.hasOwnProperty(te))continue;let $=!1;kf(k)&&kf(M)?$=!Q_(k,M):$=k!==M,$?k!=null?K(te):h.add(te):k!==void 0&&h.has(te)?K(te):f.protectedKeys[te]=!0}f.prevProp=x,f.prevResolvedValues=T,f.isActive&&(m={...m,...T}),n&&e.blockInitialAnimation&&(j=!1);const W=C&&N;j&&(!W||F)&&d.push(...D.map(te=>{const k={type:g};if(typeof te=="string"&&n&&!W&&e.manuallyAnimateOnMount&&e.parent){const{parent:M}=e,$=RA(M,te);if(M.enteringChildren&&$){const{delayChildren:B}=$.transition||{};k.delay=E_(M.enteringChildren,e,B)}}return{animation:te,options:k}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const g=RA(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(w.transition=g.transition)}h.forEach(g=>{const f=e.getBaseTarget(g),x=e.getValue(g);x&&(x.liveStyle=!0),w[g]=f??null}),d.push({animation:w})}let y=!!d.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(d):Promise.resolve()}function o(l,u){var d;if(r[l].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,u)}),r[l].isActive=u;const c=i(l);for(const h in r)r[h].protectedKeys={};return c}return{animateChanges:i,setActive:o,setAnimateFunction:A,getState:()=>r,reset:()=>{r=Dx()}}}function wI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Q_(t,e):!1}function gs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dx(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}class us{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vI extends us{constructor(t){super(t),t.animationState||(t.animationState=yI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();yu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let bI=0;class BI extends us{constructor(){super(...arguments),this.id=bI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const CI={animation:{Feature:vI},exit:{Feature:BI}};function Ki(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function mo(e){return{point:{x:e.pageX,y:e.pageY}}}const _I=e=>t=>Wg(t)&&e(t,mo(t));function li(e,t,r,n){return Ki(e,t,_I(r),n)}const F_=1e-4,jI=1-F_,NI=1+F_,S_=.01,EI=0-S_,QI=0+S_;function Ct(e){return e.max-e.min}function UI(e,t,r){return Math.abs(e-t)<=r}function Lx(e,t,r,n=.5){e.origin=n,e.originPoint=Te(t.min,t.max,e.origin),e.scale=Ct(r)/Ct(t),e.translate=Te(r.min,r.max,e.origin)-e.originPoint,(e.scale>=jI&&e.scale<=NI||isNaN(e.scale))&&(e.scale=1),(e.translate>=EI&&e.translate<=QI||isNaN(e.translate))&&(e.translate=0)}function ci(e,t,r,n){Lx(e.x,t.x,r.x,n?n.originX:void 0),Lx(e.y,t.y,r.y,n?n.originY:void 0)}function Px(e,t,r){e.min=r.min+t.min,e.max=e.min+Ct(t)}function FI(e,t,r){Px(e.x,t.x,r.x),Px(e.y,t.y,r.y)}function Hx(e,t,r){e.min=t.min-r.min,e.max=e.min+Ct(t)}function ui(e,t,r){Hx(e.x,t.x,r.x),Hx(e.y,t.y,r.y)}function rr(e){return[e("x"),e("y")]}const k_=({current:e})=>e?e.ownerDocument.defaultView:null,Ox=(e,t)=>Math.abs(e-t);function SI(e,t){const r=Ox(e.x,t.x),n=Ox(e.y,t.y);return Math.sqrt(r**2+n**2)}class I_{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:A=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ud(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=SI(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:y}=h,{timestamp:w}=st;this.history.push({...y,timestamp:w});const{onStart:g,onMove:f}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),f&&f(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Qd(m,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ud(h.type==="pointercancel"?this.lastMoveEventInfo:Qd(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,g),y&&y(h,g)},!Wg(t))return;this.dragSnapToOrigin=A,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=s||window;const o=mo(t),l=Qd(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=st;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=r;d&&d(t,Ud(l,this.history)),this.removeListeners=uo(li(this.contextWindow,"pointermove",this.handlePointerMove),li(this.contextWindow,"pointerup",this.handlePointerUp),li(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ts(this.updatePoint)}}function Qd(e,t){return t?{point:t(e.point)}:e}function Rx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ud({point:e},t){return{point:e,delta:Rx(e,T_(t)),offset:Rx(e,kI(t)),velocity:II(t,.1)}}function kI(e){return e[0]}function T_(e){return e[e.length-1]}function II(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=T_(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>zr(t)));)r--;if(!n)return{x:0,y:0};const A=or(s.timestamp-n.timestamp);if(A===0)return{x:0,y:0};const i={x:(s.x-n.x)/A,y:(s.y-n.y)/A};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function TI(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Te(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Te(r,e,n.max):Math.min(e,r)),e}function Mx(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function DI(e,{top:t,left:r,bottom:n,right:s}){return{x:Mx(e.x,r,s),y:Mx(e.y,t,n)}}function zx(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function LI(e,t){return{x:zx(e.x,t.x),y:zx(e.y,t.y)}}function PI(e,t){let r=.5;const n=Ct(e),s=Ct(t);return s>n?r=Hi(t.min,t.max-n,e.min):n>s&&(r=Hi(e.min,e.max-s,t.min)),mn(0,1,r)}function HI(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Df=.35;function OI(e=Df){return e===!1?e=0:e===!0&&(e=Df),{x:Kx(e,"left","right"),y:Kx(e,"top","bottom")}}function Kx(e,t,r){return{min:Vx(e,t),max:Vx(e,r)}}function Vx(e,t){return typeof e=="number"?e:e[t]||0}const RI=new WeakMap;class MI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Me(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const A=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(mo(d).point)},i=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W4(m),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rr(g=>{let f=this.getAxisMotionValue(g).get()||0;if(Kr.test(f)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[g];b&&(f=Ct(b)*(parseFloat(f)/100))}}this.originPoint[g]=f}),y&&Fe.postRender(()=>y(d,h)),If(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(p&&this.currentDirection===null){this.currentDirection=zI(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),w&&w(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>rr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new I_(t,{onSessionStart:A,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:k_(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,A=this.isDragging;if(this.cancel(),!A||!s||!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Fe.postRender(()=>o(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Xo(t,s,this.currentDirection))return;const A=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=TI(i,this.constraints[t],this.elastic[t])),A.set(i)}resolveConstraints(){var A;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(A=this.visualElement.projection)==null?void 0:A.layout,s=this.constraints;t&&QA(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=DI(n.layoutBox,t):this.constraints=!1,this.elastic=OI(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&rr(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=HI(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!QA(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const A=Kk(n,s.root,this.visualElement.getTransformPagePoint());let i=LI(s.layout.layoutBox,A);if(r){const o=r(Rk(i));this.hasMutatedConstraints=!!o,o&&(i=x_(o))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:A,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=rr(c=>{if(!Xo(c,r,this.currentDirection))return;let d=l&&l[c]||{};i&&(d={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,p={type:"inertia",velocity:n?t[c]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...A,...d};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return If(this.visualElement,t),n.start(sp(t,n,0,r,this.visualElement,!1))}stopAnimation(){rr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){rr(r=>{const{drag:n}=this.getProps();if(!Xo(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,A=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:o}=s.layout.layoutBox[r];A.set(t[r]-Te(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!QA(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rr(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const l=o.get();s[i]=PI({min:l,max:l},this.constraints[i])}});const{transformTemplate:A}=this.visualElement.getProps();this.visualElement.current.style.transform=A?A({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),rr(i=>{if(!Xo(i,t,null))return;const o=this.getAxisMotionValue(i),{min:l,max:u}=this.constraints[i];o.set(Te(l,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;RI.set(this.visualElement,this);const t=this.visualElement.current,r=li(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();QA(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,A=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Fe.read(n);const i=Ki(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(rr(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{i(),r(),A(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:A=!1,dragElastic:i=Df,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:A,dragElastic:i,dragMomentum:o}}}function Xo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function zI(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class KI extends us{constructor(t){super(t),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new MI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const $x=e=>(t,r)=>{e&&Fe.postRender(()=>e(t,r))};class VI extends us{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(t){this.session=new I_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:$x(t),onStart:$x(r),onMove:n,onEnd:(A,i)=>{delete this.session,s&&Fe.postRender(()=>s(A,i))}}}mount(){this.removePointerDownListener=li(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ca={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;const r=Gx(e,t.target.x),n=Gx(e,t.target.y);return`${r}% ${n}%`}},$I={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=rs.parse(e);if(s.length>5)return n;const A=rs.createTransformer(e),i=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;s[0+i]/=o,s[1+i]/=l;const u=Te(o,l,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),A(s)}};let Fd=!1;class GI extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:A}=t;mk(WI),A&&(r.group&&r.group.add(A),n&&n.register&&s&&n.register(A),Fd&&A.root.didUpdate(),A.addEventListener("animationComplete",()=>{this.safeToRemove()}),A.setOptions({...A.options,onExitComplete:()=>this.safeToRemove()})),Rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:A}=this.props,{projection:i}=n;return i&&(i.isPresent=A,Fd=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==A?i.willUpdate():this.safeToRemove(),t.isPresent!==A&&(A?i.promote():i.relegate()||Fe.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;Fd=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function D_(e){const[t,r]=s_(),n=v.useContext(_g);return a.jsx(GI,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(g_),isPresent:t,safeToRemove:r})}const WI={borderRadius:{...Ca,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ca,borderTopRightRadius:Ca,borderBottomLeftRadius:Ca,borderBottomRightRadius:Ca,boxShadow:$I};function qI(e,t,r){const n=xt(e)?e:YA(e);return n.start(sp("",n,t,r)),n.animation}const JI=(e,t)=>e.depth-t.depth;class XI{constructor(){this.children=[],this.isDirty=!1}add(t){Eg(this.children,t),this.isDirty=!0}remove(t){Qg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JI),this.isDirty=!1,this.children.forEach(t)}}function YI(e,t){const r=kt.now(),n=({timestamp:s})=>{const A=s-r;A>=t&&(ts(n),e(A-t))};return Fe.setup(n,!0),()=>ts(n)}const L_=["TopLeft","TopRight","BottomLeft","BottomRight"],ZI=L_.length,Wx=e=>typeof e=="string"?parseFloat(e):e,qx=e=>typeof e=="number"||ue.test(e);function eT(e,t,r,n,s,A){s?(e.opacity=Te(0,r.opacity??1,tT(n)),e.opacityExit=Te(t.opacity??1,0,rT(n))):A&&(e.opacity=Te(t.opacity??1,r.opacity??1,n));for(let i=0;i<ZI;i++){const o=`border${L_[i]}Radius`;let l=Jx(t,o),u=Jx(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||qx(l)===qx(u)?(e[o]=Math.max(Te(Wx(l),Wx(u),n),0),(Kr.test(u)||Kr.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=Te(t.rotate||0,r.rotate||0,n))}function Jx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tT=P_(0,.5,CC),rT=P_(.5,.95,dr);function P_(e,t,r){return n=>n<e?0:n>t?1:r(Hi(e,t,n))}function Xx(e,t){e.min=t.min,e.max=t.max}function er(e,t){Xx(e.x,t.x),Xx(e.y,t.y)}function Yx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zx(e,t,r,n,s){return e-=t,e=Qc(e,1/r,n),s!==void 0&&(e=Qc(e,1/s,n)),e}function nT(e,t=0,r=1,n=.5,s,A=e,i=e){if(Kr.test(t)&&(t=parseFloat(t),t=Te(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=Te(A.min,A.max,n);e===A&&(o-=t),e.min=Zx(e.min,t,r,o,s),e.max=Zx(e.max,t,r,o,s)}function ey(e,t,[r,n,s],A,i){nT(e,t[r],t[n],t[s],t.scale,A,i)}const sT=["x","scaleX","originX"],AT=["y","scaleY","originY"];function ty(e,t,r,n){ey(e.x,t,sT,r?r.x:void 0,n?n.x:void 0),ey(e.y,t,AT,r?r.y:void 0,n?n.y:void 0)}function ry(e){return e.translate===0&&e.scale===1}function H_(e){return ry(e.x)&&ry(e.y)}function ny(e,t){return e.min===t.min&&e.max===t.max}function aT(e,t){return ny(e.x,t.x)&&ny(e.y,t.y)}function sy(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function O_(e,t){return sy(e.x,t.x)&&sy(e.y,t.y)}function Ay(e){return Ct(e.x)/Ct(e.y)}function ay(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iT{constructor(){this.members=[]}add(t){Eg(this.members,t),t.scheduleRender()}remove(t){if(Qg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const A=this.members[s];if(A.isPresent!==!1){n=A;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oT(e,t,r){let n="";const s=e.x.translate/t.x,A=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||A||i)&&(n=`translate3d(${s}px, ${A}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Sd=["","X","Y","Z"],lT=1e3;let cT=0;function kd(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function R_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=j_(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:A}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Fe,!(s||A))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&R_(n)}function M_({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},o=t==null?void 0:t()){this.id=cT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hT),this.nodes.forEach(pT),this.nodes.forEach(xT),this.nodes.forEach(fT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new XI)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Sg),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const l=this.eventHandlers.get(i);l&&l.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=n_(i)&&!ek(i),this.instance=i;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let c,d=0;const h=()=>this.root.updateBlockedByResize=!1;Fe.read(()=>{d=window.innerWidth}),e(i,()=>{const m=window.innerWidth;m!==d&&(d=m,this.root.updateBlockedByResize=!0,c&&c(),c=YI(h,250),Rl.hasAnimatedSinceResize&&(Rl.hasAnimatedSinceResize=!1,this.nodes.forEach(ly)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||BT,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),g=!this.targetLayout||!O_(this.targetLayout,m),f=!d&&h;if(this.options.layoutRoot||this.resumeFrom||f||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...Vg(p,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(c,f)}else d||ly(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yT),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&R_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gT),this.nodes.forEach(uT),this.nodes.forEach(dT)):this.nodes.forEach(oy),this.clearAllSnapshots();const o=kt.now();st.delta=mn(0,1e3/60,o-st.timestamp),st.timestamp=o,st.isProcessing=!0,vd.update.process(st),vd.preRender.process(st),vd.render.process(st),st.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mT),this.sharedNodes.forEach(wT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ct(this.snapshot.measuredBox.x)&&!Ct(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!H_(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;i&&this.instance&&(o||vs(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return i&&(l=this.removeTransform(l)),CT(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return Me();const o=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(_T))){const{scroll:c}=this.root;c&&(UA(o.x,c.offset.x),UA(o.y,c.offset.y))}return o}removeElementScroll(i){var l;const o=Me();if(er(o,i),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:h}=c;c!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&er(o,i),UA(o.x,d.offset.x),UA(o.y,d.offset.y))}return o}applyTransform(i,o=!1){const l=Me();er(l,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&FA(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),vs(c.latestValues)&&FA(l,c.latestValues)}return vs(this.latestValues)&&FA(l,this.latestValues),l}removeTransform(i){const o=Me();er(o,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!vs(u.latestValues))continue;Uf(u.latestValues)&&u.updateSnapshot();const c=Me(),d=u.measurePageBox();er(c,d),ty(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return vs(this.latestValues)&&ty(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==st.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=st.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),ui(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Me(),this.targetWithTransforms=Me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):er(this.target,this.layout.layoutBox),w_(this.target,this.targetDelta)):er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),ui(this.relativeTargetOrigin,this.target,m.target),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uf(this.parent.latestValues)||y_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const i=this.getLead(),o=!!this.resumingFrom||this!==i;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===st.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;er(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;zk(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Me());const{target:m}=i;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yx(this.prevProjectionDelta.x,this.projectionDelta.x),Yx(this.prevProjectionDelta.y,this.projectionDelta.y)),ci(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!ay(this.projectionDelta.x,this.prevProjectionDelta.x)||!ay(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=SA(),this.projectionDelta=SA(),this.projectionDeltaWithTransform=SA()}setAnimationOrigin(i,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=SA();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Me(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,y=m!==p,w=this.getStack(),g=!w||w.members.length<=1,f=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(bT));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const _=b/1e3;cy(d.x,i.x,_),cy(d.y,i.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ui(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vT(this.relativeTarget,this.relativeTargetOrigin,h,_),x&&aT(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Me()),er(x,this.relativeTarget)),y&&(this.animationValues=c,eT(c,u,this.latestValues,_,f,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{Rl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=YA(0)),this.currentAnimation=qI(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),i.onUpdate&&i.onUpdate(c)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=i;if(!(!o||!l||!u)){if(this!==i&&this.layout&&u&&z_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Me();const d=Ct(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+d;const h=Ct(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}er(o,l),FA(o,c),ci(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new iT),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var o;const{layoutId:i}=this.options;return i?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:i}=this.options;return i?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&kd("z",i,u,this.animationValues);for(let c=0;c<Sd.length;c++)kd(`rotate${Sd[c]}`,i,u,this.animationValues),kd(`skew${Sd[c]}`,i,u,this.animationValues);i.render();for(const c in u)i.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Ol(o==null?void 0:o.pointerEvents)||"",i.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Ol(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vs(this.latestValues)&&(i.transform=l?l({},""):"none",this.hasProjected=!1);return}i.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=oT(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),i.transform=d;const{x:h,y:m}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?i.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:i.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in zi){if(c[p]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:g}=zi[p],f=d==="none"?c[p]:y(c[p],u);if(w){const x=w.length;for(let b=0;b<x;b++)i[w[b]]=f}else g?this.options.visualElement.renderState.vars[p]=f:i[p]=f}this.options.layoutId&&(i.pointerEvents=u===this?Ol(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(iy),this.root.sharedNodes.clear()}}}function uT(e){e.updateLayout()}function dT(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:A}=e.options,i=t.source!==e.layout.source;A==="size"?rr(d=>{const h=i?t.measuredBox[d]:t.layoutBox[d],m=Ct(h);h.min=n[d].min,h.max=h.min+m}):z_(A,t.layoutBox,n)&&rr(d=>{const h=i?t.measuredBox[d]:t.layoutBox[d],m=Ct(n[d]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const o=SA();ci(o,n,t.layoutBox);const l=SA();i?ci(l,e.applyTransform(s,!0),t.measuredBox):ci(l,n,t.layoutBox);const u=!H_(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const p=Me();ui(p,t.layoutBox,h.layoutBox);const y=Me();ui(y,n,m.layoutBox),O_(p,y)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function hT(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mT(e){e.clearSnapshot()}function iy(e){e.clearMeasurements()}function oy(e){e.isLayoutDirty=!1}function gT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ly(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pT(e){e.resolveTargetDelta()}function xT(e){e.calcProjection()}function yT(e){e.resetSkewAndRotation()}function wT(e){e.removeLeadSnapshot()}function cy(e,t,r){e.translate=Te(t.translate,0,r),e.scale=Te(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function uy(e,t,r,n){e.min=Te(t.min,r.min,n),e.max=Te(t.max,r.max,n)}function vT(e,t,r,n){uy(e.x,t.x,r.x,n),uy(e.y,t.y,r.y,n)}function bT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const BT={duration:.45,ease:[.4,0,.1,1]},dy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hy=dy("applewebkit/")&&!dy("chrome/")?Math.round:dr;function fy(e){e.min=hy(e.min),e.max=hy(e.max)}function CT(e){fy(e.x),fy(e.y)}function z_(e,t,r){return e==="position"||e==="preserve-aspect"&&!UI(Ay(t),Ay(r),.2)}function _T(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const jT=M_({attachResizeListener:(e,t)=>Ki(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Id={current:void 0},K_=M_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Id.current){const e=new jT({});e.mount(window),e.setOptions({layoutScroll:!0}),Id.current=e}return Id.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NT={pan:{Feature:VI},drag:{Feature:KI,ProjectionNode:K_,MeasureLayout:D_}};function my(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,A=n[s];A&&Fe.postRender(()=>A(t,mo(t)))}class ET extends us{mount(){const{current:t}=this.node;t&&(this.unmount=q4(t,(r,n)=>(my(this.node,n,"Start"),s=>my(this.node,s,"End"))))}unmount(){}}class QT extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uo(Ki(this.node.current,"focus",()=>this.onFocus()),Ki(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gy(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),A=n[s];A&&Fe.postRender(()=>A(t,mo(t)))}class UT extends us{mount(){const{current:t}=this.node;t&&(this.unmount=Z4(t,(r,n)=>(gy(this.node,n,"Start"),(s,{success:A})=>gy(this.node,s,A?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lf=new WeakMap,Td=new WeakMap,FT=e=>{const t=Lf.get(e.target);t&&t(e)},ST=e=>{e.forEach(FT)};function kT({root:e,...t}){const r=e||document;Td.has(r)||Td.set(r,{});const n=Td.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(ST,{root:e,...t})),n[s]}function IT(e,t,r){const n=kT(t);return Lf.set(e,r),n.observe(e),()=>{Lf.delete(e),n.unobserve(e)}}const TT={some:0,all:1};class DT extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:A}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:TT[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,A&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return IT(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(LT(t,r))&&this.startObserver()}unmount(){}}function LT({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const PT={inView:{Feature:DT},tap:{Feature:UT},focus:{Feature:QT},hover:{Feature:ET}},HT={layout:{ProjectionNode:K_,MeasureLayout:D_}},OT={...CI,...PT,...NT,...HT},ge=Ok(OT,Zk);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:A=2,absoluteStrokeWidth:i,className:o="",children:l,...u},c)=>v.createElement("svg",{ref:c,...RT,width:s,height:s,stroke:n,strokeWidth:i?Number(A)*24/Number(s):A,className:["lucide",`lucide-${MT(e)}`,o].join(" "),...u},[...t.map(([d,h])=>v.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=le("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=le("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=le("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=le("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=le("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=le("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=le("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=le("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=le("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=le("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),AD=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,A]=v.useState(null),[i,o]=v.useState(null),[l,u]=v.useState("gu");v.useEffect(()=>{const f=()=>t(window.scrollY>20);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const c=f=>({gu:{appName:"  ",slogan:"   ,   ",subSlogan:"     ",login:"",products:"",howToUse:"  ",viewProducts:" ",highQuality:" ",qualityDesc:"MS   ",fastService:" ",serviceDesc:"24  ",fairRent:" ",rentDesc:" ",allSizes:" ",sizesDesc:"9   ",productsAndPrices:"  ",ourPlates:" ",allSizesOnePrice:" ,    - 1.5  ",pricePerDay:"",sameRentAllPlates:"    ",videoGuide:" ",howToUsePlates:"   ",watchVideo:"  ",step1:" 1",selectSize:"   ",step2:" 2",properArrangement:"  ",step3:" 3",safeUsage:"  ",quickLinks:" ",aboutUs:" ",contactUs:" ",privacyPolicy:" ",terms:"  ",howItWorks:"    ",features:"",whyChooseUs:"   ",testimonials:" ",faq:"  "},en:{appName:"Neelkanth Plate Depot",slogan:"Strengthen Your Construction with Our Plates",subSlogan:"Reliable Service with Digital Rental Management",login:"Login",products:"Products",howToUse:"How to Use",viewProducts:"View Products",highQuality:"High Quality",qualityDesc:"Premium MS Steel Plates",fastService:"Fast Service",serviceDesc:"Delivery in 24 hours",fairRent:"Fair Rent",rentDesc:"Transparent Pricing",allSizes:"All Sizes",sizesDesc:"9 Different Sizes Available",productsAndPrices:"Products & Prices",ourPlates:"Our Plates",allSizesOnePrice:"All Sizes, One Price - 1.5 per day",pricePerDay:"day",sameRentAllPlates:"Same rent for all plates",videoGuide:"Video Guide",howToUsePlates:"How to Use Plates",watchVideo:"Watch and Learn",step1:"Step 1",selectSize:"Select Right Size",step2:"Step 2",properArrangement:"Proper Arrangement",step3:"Step 3",safeUsage:"Safe Usage",quickLinks:"Quick Links",aboutUs:"About Us",contactUs:"Contact Us",privacyPolicy:"Privacy Policy",terms:"Terms & Conditions",howItWorks:"How It Works",features:"Features",whyChooseUs:"Why Choose Us",testimonials:"Testimonials",faq:"FAQ"}})[l][f]||f,d=[{name:"2 X 3",size:"2 X 3 "},{name:"21 X 3",size:"21 X 3 "},{name:"18 X 3",size:"18 X 3 "},{name:"15 X 3",size:"15 X 3 "},{name:"12 X 3",size:"12 X 3 "},{name:"9 X 3",size:"9 X 3 "},{name:"",size:""},{name:"2 X 2",size:"2 X 2 "},{name:"2 ",size:"2 "}],h=[{icon:J_,title:l==="gu"?" ":"High Quality",description:l==="gu"?"MS   ":"Premium MS Steel Plates"},{icon:Fc,title:l==="gu"?" ":"Fast Service",description:l==="gu"?"24  ":"Delivery in 24 hours"},{icon:X_,title:l==="gu"?" ":"Fair Rent",description:l==="gu"?" ":"Transparent Pricing"},{icon:It,title:l==="gu"?" ":"All Sizes",description:l==="gu"?"9   ":"9 Different Sizes Available"}],m=[{number:"5000+",label:l==="gu"?" ":"Plates Available"},{number:"500+",label:l==="gu"?" ":"Happy Clients"},{number:"10+",label:l==="gu"?" ":"Years Experience"},{number:"24/7",label:l==="gu"?" ":"Service Available"}],p=[{number:"01",title:l==="gu"?" ":"Client Registration",description:l==="gu"?"  ,    ":"Simple registration process, start immediately",features:[l==="gu"?" ":"Digital Record",l==="gu"?" ID":"Unique ID",l==="gu"?" ":"Complete Details"]},{number:"02",title:l==="gu"?"   ()":"Rent Plates (Udhar)",description:l==="gu"?"      ":"Select required plates and get delivery",features:[l==="gu"?" ":"Fast Delivery",l==="gu"?" ":"Digital Challan",l==="gu"?" ":"Stock Tracking"]},{number:"03",title:l==="gu"?"   ()":"Return Plates (Jama)",description:l==="gu"?"      ":"Return plates when work is complete",features:[l==="gu"?" ":"Easy Return",l==="gu"?" ":"Auto Update",l==="gu"?" ":"Balance Calculation"]},{number:"04",title:l==="gu"?"  ":"Billing & Payment",description:l==="gu"?"    ":"Accurate bill and flexible payment",features:[l==="gu"?" ":"Auto Calculation",l==="gu"?" ":"Digital Invoice",l==="gu"?" ":"Flexible Payment"]}],y=[{icon:lt,title:l==="gu"?" ":"Challan Management",description:l==="gu"?"   ,   ":"Udhar and Jama challans, complete digital record",details:[l==="gu"?"  ":"Quick challan generation",l==="gu"?"JPEG ":"JPEG download",l==="gu"?"  ":"Multiple size support"]},{icon:$T,title:l==="gu"?" ":"Stock Tracking",description:l==="gu"?"-    ":"Real-time stock updates and availability",details:[l==="gu"?" ":"Live inventory",l==="gu"?"- ":"Size-wise tracking",l==="gu"?" ":"Auto update"]},{icon:Gi,title:l==="gu"?"  ()":"Client Ledger",description:l==="gu"?"    ":"Complete transaction history and balance",details:[l==="gu"?" ":"Complete history",l==="gu"?" ":"Running balance",l==="gu"?" ":"Download reports"]},{icon:zT,title:l==="gu"?" ":"Billing System",description:l==="gu"?"    ":"Automatic rent calculation and invoice",details:[l==="gu"?" ":"Auto calculation",l==="gu"?" ":"Extra costs",l==="gu"?" ":"Discount management"]}],w=[{name:l==="gu"?" ":"Rajesh Patel",company:"ABC Construction, ",text:l==="gu"?"   .      .       .":"Very useful system. Everything is digital so no confusion. Billing is also accurate and transparent.",rating:5},{name:l==="gu"?" ":"Mahesh Shah",company:"XYZ Builders, ",text:l==="gu"?"    . 24      .    .":"Service is very fast. Plates are delivered within 24 hours. Price is also reasonable.",rating:5},{name:l==="gu"?" ":"Amit Verma",company:"PQR Developers, ",text:l==="gu"?"      .       .":"Digital record keeping facility is very good. Can view history anytime.",rating:5}],g=[{q:l==="gu"?"    ?":"What is the minimum rental period?",a:l==="gu"?" 30    .      30   .":"Minimum rental period is 30 days. For less than 30 days, 30 days charge will apply."},{q:l==="gu"?"   ?":"What if plates get damaged?",a:l==="gu"?"  100-500     .      .":"Depending on damage, 100-500 per plate will be charged. No charge for minor scratches."},{q:l==="gu"?"   ?":"How is delivery done?",a:l==="gu"?"      .     500-1000   .":"We deliver to your site. Transport charge of 500-1000 based on distance."},{q:l==="gu"?"   ?":"How to make payment?",a:l==="gu"?",  , UPI,  -     .      .":"Cash, Bank Transfer, UPI, Cheque - all payment methods accepted. Partial payment also possible."},{q:l==="gu"?"  ?":"When will the bill come?",a:l==="gu"?"           .      .":"Bill will be generated when you return plates or at month end. Digital invoice can be downloaded immediately."},{q:l==="gu"?"     ?":"How to check stock availability?",a:l==="gu"?"    WhatsApp .   -   .":"Call us or WhatsApp us. Our system shows real-time stock availability."}];return a.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[a.jsx(ge.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:`fixed top-4 left-4 right-4 z-50 transition-all duration-500 ${e?"bg-white/90 backdrop-blur-xl shadow-lg border border-gray-200/50":"bg-white/70 backdrop-blur-md border border-white/20"} rounded-2xl`,children:a.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(ge.div,{className:"flex items-center gap-3 cursor-pointer",whileHover:{scale:1.05},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-orange-500 to-red-600 blur-lg opacity-60"}),a.jsx("div",{className:"relative flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-600",children:a.jsx(It,{className:"w-5 h-5 text-white"})})]}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:c("appName")})]}),a.jsxs("div",{className:"items-center hidden gap-8 md:flex",children:[a.jsx("a",{href:"#products",className:"text-sm font-medium text-gray-700 hover:text-orange-600",children:c("products")}),a.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-gray-700 hover:text-orange-600",children:c("howItWorks")}),a.jsx("a",{href:"#features",className:"text-sm font-medium text-gray-700 hover:text-orange-600",children:c("features")}),a.jsx("a",{href:"#faq",className:"text-sm font-medium text-gray-700 hover:text-orange-600",children:c("faq")}),a.jsx("button",{onClick:()=>u(l==="gu"?"en":"gu"),className:"px-3 py-1.5 text-sm font-medium border rounded-lg hover:bg-gray-50",children:l==="gu"?"English":""}),a.jsx(ge.button,{onClick:()=>window.location.href="/login",className:"px-5 py-2.5 text-sm font-semibold text-white rounded-xl bg-gradient-to-r from-orange-500 to-red-600",whileHover:{scale:1.05},children:c("login")})]}),a.jsxs("div",{className:"flex items-center gap-3 md:hidden",children:[a.jsx("button",{onClick:()=>u(l==="gu"?"en":"gu"),className:"px-3 py-1.5 text-sm font-medium border rounded-lg",children:l==="gu"?"EN":""}),a.jsx("button",{onClick:()=>n(!r),children:r?a.jsx(Bt,{className:"w-6 h-6"}):a.jsx(q_,{className:"w-6 h-6"})})]})]}),a.jsx(Hl,{children:r&&a.jsx(ge.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden border-t border-gray-200 md:hidden",children:a.jsxs("div",{className:"px-4 py-3 space-y-3",children:[a.jsx("a",{href:"#products",className:"block text-sm font-medium",onClick:()=>n(!1),children:c("products")}),a.jsx("a",{href:"#how-it-works",className:"block text-sm font-medium",onClick:()=>n(!1),children:c("howItWorks")}),a.jsx("a",{href:"#features",className:"block text-sm font-medium",onClick:()=>n(!1),children:c("features")}),a.jsx("a",{href:"#faq",className:"block text-sm font-medium",onClick:()=>n(!1),children:c("faq")}),a.jsx("button",{onClick:()=>window.location.href="/login",className:"w-full px-5 py-2.5 text-sm font-semibold text-white rounded-xl bg-gradient-to-r from-orange-500 to-red-600",children:c("login")})]})})})]})}),a.jsxs("section",{className:"relative pt-32 pb-20 overflow-hidden sm:pt-40 sm:pb-24",children:[a.jsx("div",{className:"relative px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs(ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsx("h1",{className:"mb-4 text-5xl font-extrabold text-gray-900 sm:text-7xl",children:c("appName")}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[a.jsx("div",{className:"w-16 h-1 rounded bg-gradient-to-r from-orange-500 to-red-600"}),a.jsx(xy,{className:"w-6 h-6 text-orange-500"}),a.jsx("div",{className:"w-16 h-1 rounded bg-gradient-to-l from-orange-500 to-red-600"})]})]}),a.jsxs(ge.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-3xl mx-auto mb-12 text-xl font-medium text-gray-600 sm:text-2xl",children:['"',c("slogan"),'"',a.jsx("br",{}),a.jsx("span",{className:"text-lg text-gray-500",children:c("subSlogan")})]}),a.jsxs(ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col items-center justify-center gap-4 mb-16 sm:flex-row",children:[a.jsx("button",{onClick:()=>{var f;return(f=document.getElementById("products"))==null?void 0:f.scrollIntoView({behavior:"smooth"})},className:"px-8 py-4 text-lg font-semibold text-white rounded-2xl bg-gradient-to-r from-orange-500 to-red-600 hover:shadow-2xl",children:a.jsxs("span",{className:"flex items-center gap-2",children:[c("viewProducts"),a.jsx(Pf,{className:"w-5 h-5"})]})}),a.jsxs("button",{onClick:()=>{var f;return(f=document.getElementById("how-it-works"))==null?void 0:f.scrollIntoView({behavior:"smooth"})},className:"flex items-center gap-2 px-8 py-4 text-lg font-semibold border-2 border-gray-300 rounded-2xl hover:bg-gray-50",children:[a.jsx(ZT,{className:"w-5 h-5"}),c("howToUse")]})]}),a.jsx(ge.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid max-w-4xl grid-cols-2 gap-4 mx-auto lg:grid-cols-4",children:h.map((f,x)=>a.jsxs(ge.div,{whileHover:{scale:1.05,y:-5},className:"p-6 bg-white border shadow-md rounded-2xl border-gray-200/50",children:[a.jsx("div",{className:"p-3 mx-auto mb-3 rounded-xl bg-orange-500/10 w-fit",children:a.jsx(f.icon,{className:"w-6 h-6 text-orange-600"})}),a.jsx("h3",{className:"mb-1 text-base font-bold text-gray-900",children:f.title}),a.jsx("p",{className:"text-sm text-gray-600",children:f.description})]},x))})]})}),a.jsx(ge.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.8},className:"px-4 mx-auto mt-20 max-w-7xl sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-4",children:m.map((f,x)=>a.jsxs(ge.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.9+x*.1},className:"p-6 text-center bg-white border shadow-lg rounded-2xl border-orange-200/50",children:[a.jsx("div",{className:"mb-2 text-3xl font-extrabold text-orange-600 sm:text-4xl",children:f.number}),a.jsx("div",{className:"text-sm font-medium text-gray-600",children:f.label})]},x))})})]}),a.jsx("section",{id:"how-it-works",className:"py-20 bg-white sm:py-24",children:a.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[a.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-16 text-center",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 mb-6 border rounded-full bg-blue-50/50 border-blue-200/50",children:[a.jsx(Fc,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:c("howItWorks")})]}),a.jsx("h2",{className:"mb-4 text-4xl font-extrabold text-gray-900 sm:text-5xl",children:l==="gu"?"      ":"How Our System Works"}),a.jsx("p",{className:"max-w-2xl mx-auto text-xl text-gray-600",children:l==="gu"?"4       ":"Get plates for your construction in 4 simple steps"})]}),a.jsx("div",{className:"grid gap-8 lg:grid-cols-2",children:p.map((f,x)=>a.jsxs(ge.div,{initial:{opacity:0,x:x%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:x*.2},className:"relative p-8 bg-white border-2 shadow-lg rounded-2xl border-gray-200/50 hover:shadow-xl",children:[a.jsx("div",{className:"absolute top-8 left-8",children:a.jsx("div",{className:"flex items-center justify-center w-16 h-16 text-2xl font-bold text-white rounded-full bg-gradient-to-br from-orange-500 to-red-600",children:f.number})}),a.jsxs("div",{className:"pl-24",children:[a.jsx("h3",{className:"mb-3 text-2xl font-bold text-gray-900",children:f.title}),a.jsx("p",{className:"mb-4 text-gray-600",children:f.description}),a.jsx("ul",{className:"space-y-2",children:f.features.map((b,_)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx(ss,{className:"w-4 h-4 text-green-600"}),b]},_))})]})]},x))})]})}),a.jsx("section",{id:"products",className:"py-20 bg-gradient-to-b from-white to-gray-50 sm:py-24",children:a.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[a.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12 text-center",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 mb-6 border rounded-full bg-orange-50/50 border-orange-200/50",children:[a.jsx(It,{className:"w-5 h-5 text-orange-600"}),a.jsx("span",{className:"text-sm font-semibold text-orange-600",children:c("productsAndPrices")})]}),a.jsx("h2",{className:"mb-4 text-4xl font-extrabold text-gray-900 sm:text-5xl",children:c("ourPlates")}),a.jsx("p",{className:"max-w-2xl mx-auto mb-8 text-xl text-gray-600",children:c("allSizesOnePrice")}),a.jsxs(ge.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"inline-flex items-center gap-3 px-8 py-4 mb-12 border-2 border-orange-300 shadow-lg bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 text-2xl font-bold text-white rounded-full bg-gradient-to-br from-orange-500 to-red-600",children:""}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"text-3xl font-extrabold text-gray-900",children:["1.5 / ",c("pricePerDay")]}),a.jsx("div",{className:"text-sm text-gray-600",children:c("sameRentAllPlates")})]})]})]}),a.jsx("div",{className:"grid max-w-4xl grid-cols-2 gap-4 mx-auto sm:grid-cols-3 lg:grid-cols-3",children:d.map((f,x)=>a.jsx(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:x*.1},whileHover:{scale:1.05,y:-5},className:"relative p-6 overflow-hidden bg-white border shadow-md rounded-2xl border-gray-200/50 hover:shadow-xl",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 text-2xl font-bold text-white rounded-xl bg-gradient-to-br from-orange-500 to-red-600",children:f.name.includes("X")?f.name.split("X")[0].trim():f.name.charAt(0)}),a.jsx("h3",{className:"mb-2 text-xl font-bold text-gray-900",children:f.size}),a.jsxs("div",{className:"inline-flex items-baseline gap-1 px-4 py-2 rounded-lg bg-orange-50",children:[a.jsx("span",{className:"text-2xl font-bold text-orange-600",children:"1.5"}),a.jsx("span",{className:"text-sm text-gray-600",children:"/"})]})]})},x))}),a.jsx(ge.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"max-w-3xl mx-auto mt-12",children:a.jsx("div",{className:"p-6 border rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200/50",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(ss,{className:"flex-shrink-0 w-6 h-6 mt-1 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"mb-2 text-lg font-bold text-gray-900",children:l==="gu"?" ":"Special Note"}),a.jsx("p",{className:"text-gray-700",children:l==="gu"?a.jsxs(a.Fragment,{children:["     MS   ",a.jsx("br",{}),"   : 30 ",a.jsx("br",{}),"     ",a.jsx("br",{})," : 500-1000 ( )"]}):a.jsxs(a.Fragment,{children:[" All plates made of high quality MS Steel",a.jsx("br",{})," Minimum rental period: 30 days",a.jsx("br",{})," Special discount on bulk orders",a.jsx("br",{})," Transport: 500-1000 (based on distance)"]})})]})]})})})]})}),a.jsx("section",{id:"features",className:"py-20 bg-white sm:py-24",children:a.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[a.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-16 text-center",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 mb-6 border rounded-full bg-purple-50/50 border-purple-200/50",children:[a.jsx(xy,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"text-sm font-semibold text-purple-600",children:c("features")})]}),a.jsx("h2",{className:"mb-4 text-4xl font-extrabold text-gray-900 sm:text-5xl",children:l==="gu"?" ":"System Features"}),a.jsx("p",{className:"max-w-2xl mx-auto text-xl text-gray-600",children:l==="gu"?"     ":"Complete digital solution for your business"})]}),a.jsx("div",{className:"grid gap-8 lg:grid-cols-2",children:y.map((f,x)=>a.jsx(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:x*.1},onClick:()=>A(s===x?null:x),className:"p-8 transition-all bg-white border-2 shadow-lg cursor-pointer rounded-2xl border-gray-200/50 hover:shadow-xl hover:border-orange-300",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-orange-500/10 to-red-500/10",children:a.jsx(f.icon,{className:"w-8 h-8 text-orange-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:f.title}),a.jsx(an,{className:`w-5 h-5 transition-transform ${s===x?"rotate-180":""}`})]}),a.jsx("p",{className:"mb-4 text-gray-600",children:f.description}),a.jsx(Hl,{children:s===x&&a.jsx(ge.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-2 overflow-hidden",children:f.details.map((b,_)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx(Uc,{className:"w-4 h-4 text-orange-600"}),b]},_))})})]})]})},x))})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-b from-white to-gray-50 sm:py-24",children:a.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[a.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-16 text-center",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 mb-6 border rounded-full bg-green-50/50 border-green-200/50",children:[a.jsx(eD,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm font-semibold text-green-600",children:c("testimonials")})]}),a.jsx("h2",{className:"mb-4 text-4xl font-extrabold text-gray-900 sm:text-5xl",children:l==="gu"?"   ":"What Clients Say"})]}),a.jsx("div",{className:"grid gap-8 lg:grid-cols-3",children:w.map((f,x)=>a.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:x*.2},className:"p-8 bg-white border shadow-lg rounded-2xl border-gray-200/50",children:[a.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(f.rating)].map((b,_)=>a.jsx(rD,{className:"w-5 h-5 text-yellow-400 fill-current"},_))}),a.jsx("p",{className:"mb-6 text-gray-700",children:f.text}),a.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[a.jsx("div",{className:"font-bold text-gray-900",children:f.name}),a.jsx("div",{className:"text-sm text-gray-600",children:f.company})]})]},x))})]})}),a.jsx("section",{id:"faq",className:"py-20 bg-white sm:py-24",children:a.jsxs("div",{className:"max-w-4xl px-4 mx-auto sm:px-6 lg:px-8",children:[a.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-16 text-center",children:[a.jsx("h2",{className:"mb-4 text-4xl font-extrabold text-gray-900 sm:text-5xl",children:c("faq")}),a.jsx("p",{className:"text-xl text-gray-600",children:l==="gu"?"  ":"Answers to Common Questions"})]}),a.jsx("div",{className:"space-y-4",children:g.map((f,x)=>a.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:x*.1},className:"overflow-hidden border-2 shadow-md rounded-2xl border-gray-200/50",children:[a.jsxs("button",{onClick:()=>o(i===x?null:x),className:"flex items-center justify-between w-full p-6 text-left transition-colors hover:bg-gray-50",children:[a.jsx("span",{className:"text-lg font-bold text-gray-900",children:f.q}),a.jsx(an,{className:`w-5 h-5 transition-transform flex-shrink-0 ml-4 ${i===x?"rotate-180":""}`})]}),a.jsx(Hl,{children:i===x&&a.jsx(ge.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsx("div",{className:"px-6 pb-6 text-gray-700",children:f.a})})})]},x))})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-br from-orange-500 to-red-600",children:a.jsx("div",{className:"max-w-4xl px-4 mx-auto text-center sm:px-6 lg:px-8",children:a.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[a.jsx("h2",{className:"mb-6 text-4xl font-extrabold text-white sm:text-5xl",children:l==="gu"?"   ?":"Ready to Get Started?"}),a.jsx("p",{className:"mb-8 text-xl text-white/90",children:l==="gu"?"        ":"Login today and digitize your business"}),a.jsxs("button",{onClick:()=>window.location.href="/login",className:"px-8 py-4 text-lg font-semibold text-orange-600 transition-transform bg-white rounded-2xl hover:scale-105",children:[c("login")," ",a.jsx(Pf,{className:"inline w-5 h-5 ml-2"})]})]})})}),a.jsx("footer",{className:"py-12 bg-gray-900 border-t border-gray-800",children:a.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid gap-8 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-600",children:a.jsx(It,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold text-white",children:c("appName")})]}),a.jsx("p",{className:"mb-4 text-sm text-gray-400",children:l==="gu"?"       ":"Reliable plate rental service for your construction projects"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4 text-sm font-bold text-white uppercase",children:c("quickLinks")}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#products",className:"text-sm text-gray-400 hover:text-white",children:c("products")})}),a.jsx("li",{children:a.jsx("a",{href:"#how-it-works",className:"text-sm text-gray-400 hover:text-white",children:c("howItWorks")})}),a.jsx("li",{children:a.jsx("a",{href:"#features",className:"text-sm text-gray-400 hover:text-white",children:c("features")})}),a.jsx("li",{children:a.jsx("a",{href:"#faq",className:"text-sm text-gray-400 hover:text-white",children:c("faq")})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4 text-sm font-bold text-white uppercase",children:c("contactUs")}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(hr,{className:"flex-shrink-0 w-5 h-5 mt-0.5 text-orange-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:"+91 98765 43210"}),a.jsx("p",{className:"text-xs text-gray-500",children:l==="gu"?" - ":"Mon - Sat"})]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(W_,{className:"flex-shrink-0 w-5 h-5 mt-0.5 text-orange-400"}),a.jsx("p",{className:"text-sm text-gray-400",children:"info@neelkanthplate.com"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(yt,{className:"flex-shrink-0 w-5 h-5 mt-0.5 text-orange-400"}),a.jsx("p",{className:"text-sm text-gray-400",children:l==="gu"?", ":"Ahmedabad, Gujarat"})]})]})]})]}),a.jsx("div",{className:"pt-8 mt-8 border-t border-gray-800",children:a.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[a.jsxs("p",{className:"text-sm text-gray-400",children:[" 2025 ",c("appName"),". All rights reserved."]}),a.jsxs("div",{className:"flex gap-6 text-sm text-gray-400",children:[a.jsx("a",{href:"#",className:"hover:text-white",children:c("privacyPolicy")}),a.jsx("a",{href:"#",className:"hover:text-white",children:c("terms")})]})]})})]})})]})},Y_=()=>{const{language:e,setLanguage:t}=be();return a.jsxs(ge.button,{onClick:()=>t(e==="gu"?"en":"gu"),className:"relative group flex items-center gap-1.5 md:gap-2 px-2 md:px-3 py-1.5 text-sm font-medium text-blue-400 rounded-lg transition-all hover:text-blue-300 bg-blue-500/10 hover:bg-blue-500/20",whileTap:{scale:.95},children:[a.jsx(GT,{className:"w-4 h-4 text-blue-400 group-hover:text-blue-300 transition-colors"}),a.jsxs("span",{className:"relative",children:[a.jsxs("span",{className:"hidden md:block",children:[a.jsx("span",{className:`transition-opacity duration-200 ${e==="gu"?"opacity-100":"opacity-0 absolute inset-0"}`,children:"English"}),a.jsx("span",{className:`transition-opacity duration-200 ${e==="en"?"opacity-100":"opacity-0 absolute inset-0"}`,children:""})]}),a.jsxs("span",{className:"block md:hidden",children:[a.jsx("span",{className:`transition-opacity duration-200 ${e==="gu"?"opacity-100":"opacity-0 absolute inset-0"}`,children:"EN"}),a.jsx("span",{className:`transition-opacity duration-200 ${e==="en"?"opacity-100":"opacity-0 absolute inset-0"}`,children:""})]})]}),a.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-r from-orange-500/0 via-orange-500/5 to-red-500/0 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg blur-sm"})]})};let aD={data:""},iD=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||aD},oD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lD=/\/\*[^]*?\*\/|  +/g,yy=/\n+/g,Tn=(e,t)=>{let r="",n="",s="";for(let A in e){let i=e[A];A[0]=="@"?A[1]=="i"?r=A+" "+i+";":n+=A[1]=="f"?Tn(i,A):A+"{"+Tn(i,A[1]=="k"?"":t)+"}":typeof i=="object"?n+=Tn(i,t?t.replace(/([^,])+/g,o=>A.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):A):i!=null&&(A=/^--/.test(A)?A:A.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Tn.p?Tn.p(A,i):A+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},qr={},Z_=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Z_(e[r]);return t}return e},cD=(e,t,r,n,s)=>{let A=Z_(e),i=qr[A]||(qr[A]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(A));if(!qr[i]){let l=A!==e?e:(u=>{let c,d,h=[{}];for(;c=oD.exec(u.replace(lD,""));)c[4]?h.shift():c[3]?(d=c[3].replace(yy," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][c[1]]=c[2].replace(yy," ").trim();return h[0]})(e);qr[i]=Tn(s?{["@keyframes "+i]:l}:l,r?"":"."+i)}let o=r&&qr.g?qr.g:null;return r&&(qr.g=qr[i]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(qr[i],t,n,o),i},uD=(e,t,r)=>e.reduce((n,s,A)=>{let i=t[A];if(i&&i.call){let o=i(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;i=l?"."+l:o&&typeof o=="object"?o.props?"":Tn(o,""):o===!1?"":o}return n+s+(i??"")},"");function Bu(e){let t=this||{},r=e.call?e(t.p):e;return cD(r.unshift?r.raw?uD(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,iD(t.target),t.g,t.o,t.k)}let e1,Of,Rf;Bu.bind({g:1});let pn=Bu.bind({k:1});function dD(e,t,r,n){Tn.p=t,e1=e,Of=r,Rf=n}function hs(e,t){let r=this||{};return function(){let n=arguments;function s(A,i){let o=Object.assign({},A),l=o.className||s.className;r.p=Object.assign({theme:Of&&Of()},o),r.o=/ *go\d+/.test(l),o.className=Bu.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),Rf&&u[0]&&Rf(o),e1(u,o)}return s}}var hD=e=>typeof e=="function",kc=(e,t)=>hD(e)?e(t):e,fD=(()=>{let e=0;return()=>(++e).toString()})(),t1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),mD=20,Ap="default",r1=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return r1(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let A=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+A}))}}},Ml=[],n1={toasts:[],pausedAt:void 0,settings:{toastLimit:mD}},Or={},s1=(e,t=Ap)=>{Or[t]=r1(Or[t]||n1,e),Ml.forEach(([r,n])=>{r===t&&n(Or[t])})},A1=e=>Object.keys(Or).forEach(t=>s1(e,t)),gD=e=>Object.keys(Or).find(t=>Or[t].toasts.some(r=>r.id===e)),Cu=(e=Ap)=>t=>{s1(t,e)},pD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},xD=(e={},t=Ap)=>{let[r,n]=v.useState(Or[t]||n1),s=v.useRef(Or[t]);v.useEffect(()=>(s.current!==Or[t]&&n(Or[t]),Ml.push([t,n]),()=>{let i=Ml.findIndex(([o])=>o===t);i>-1&&Ml.splice(i,1)}),[t]);let A=r.toasts.map(i=>{var o,l,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||pD[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...r,toasts:A}},yD=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||fD()}),po=e=>(t,r)=>{let n=yD(t,e,r);return Cu(n.toasterId||gD(n.id))({type:2,toast:n}),n.id},Xe=(e,t)=>po("blank")(e,t);Xe.error=po("error");Xe.success=po("success");Xe.loading=po("loading");Xe.custom=po("custom");Xe.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Cu(t)(r):A1(r)};Xe.dismissAll=e=>Xe.dismiss(void 0,e);Xe.remove=(e,t)=>{let r={type:4,toastId:e};t?Cu(t)(r):A1(r)};Xe.removeAll=e=>Xe.remove(void 0,e);Xe.promise=(e,t,r)=>{let n=Xe.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let A=t.success?kc(t.success,s):void 0;return A?Xe.success(A,{id:n,...r,...r==null?void 0:r.success}):Xe.dismiss(n),s}).catch(s=>{let A=t.error?kc(t.error,s):void 0;A?Xe.error(A,{id:n,...r,...r==null?void 0:r.error}):Xe.dismiss(n)}),e};var wD=1e3,vD=(e,t="default")=>{let{toasts:r,pausedAt:n}=xD(e,t),s=v.useRef(new Map).current,A=v.useCallback((d,h=wD)=>{if(s.has(d))return;let m=setTimeout(()=>{s.delete(d),i({type:4,toastId:d})},h);s.set(d,m)},[]);v.useEffect(()=>{if(n)return;let d=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(d-m.createdAt);if(p<0){m.visible&&Xe.dismiss(m.id);return}return setTimeout(()=>Xe.dismiss(m.id,t),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let i=v.useCallback(Cu(t),[t]),o=v.useCallback(()=>{i({type:5,time:Date.now()})},[i]),l=v.useCallback((d,h)=>{i({type:1,toast:{id:d,height:h}})},[i]),u=v.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),c=v.useCallback((d,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:y}=h||{},w=r.filter(x=>(x.position||y)===(d.position||y)&&x.height),g=w.findIndex(x=>x.id===d.id),f=w.filter((x,b)=>b<g&&x.visible).length;return w.filter(x=>x.visible).slice(...m?[f+1]:[0,f]).reduce((x,b)=>x+(b.height||0)+p,0)},[r]);return v.useEffect(()=>{r.forEach(d=>{if(d.dismissed)A(d.id,d.removeDelay);else{let h=s.get(d.id);h&&(clearTimeout(h),s.delete(d.id))}})},[r,A]),{toasts:r,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:c}}},bD=pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,BD=pn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CD=pn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_D=hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${BD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${CD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jD=pn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ND=hs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${jD} 1s linear infinite;
`,ED=pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,QD=pn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,UD=hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ED} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${QD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,FD=hs("div")`
  position: absolute;
`,SD=hs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kD=pn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ID=hs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,TD=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?v.createElement(ID,null,t):t:r==="blank"?null:v.createElement(SD,null,v.createElement(ND,{...n}),r!=="loading"&&v.createElement(FD,null,r==="error"?v.createElement(_D,{...n}):v.createElement(UD,{...n})))},DD=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,LD=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,PD="0%{opacity:0;} 100%{opacity:1;}",HD="0%{opacity:1;} 100%{opacity:0;}",OD=hs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,RD=hs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MD=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=t1()?[PD,HD]:[DD(r),LD(r)];return{animation:t?`${pn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},zD=v.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?MD(e.position||t||"top-center",e.visible):{opacity:0},A=v.createElement(TD,{toast:e}),i=v.createElement(RD,{...e.ariaProps},kc(e.message,e));return v.createElement(OD,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:A,message:i}):v.createElement(v.Fragment,null,A,i))});dD(v.createElement);var KD=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let A=v.useCallback(i=>{if(i){let o=()=>{let l=i.getBoundingClientRect().height;n(e,l)};o(),new MutationObserver(o).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return v.createElement("div",{ref:A,className:t,style:r},s)},VD=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:t1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},$D=Bu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yo=16,Zt=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:A,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:u}=vD(r,A);return v.createElement("div",{"data-rht-toaster":A||"",style:{position:"fixed",zIndex:9999,top:Yo,left:Yo,right:Yo,bottom:Yo,pointerEvents:"none",...i},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let d=c.position||t,h=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),m=VD(d,h);return v.createElement(KD,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?$D:"",style:m},c.type==="custom"?kc(c.message,c):s?s(c):v.createElement(zD,{toast:c,position:d}))}))},R=Xe;const GD=()=>{const e=ut(),{login:t,isAuthenticated:r,loading:n}=mu(),{t:s,language:A}=be(),[i,o]=v.useState(""),[l,u]=v.useState(""),[c,d]=v.useState(!1),[h,m]=v.useState(""),[p,y]=v.useState(!1);qc.useEffect(()=>{!n&&r&&e("/dashboard")},[r,n,e]);const w=async g=>{g.preventDefault(),m(""),y(!0);const f=R.loading(A==="gu"?"    ...":"Signing in..."),x=await t(i,l);if(R.dismiss(f),x.success)R.success(s("greeting"),{icon:""}),e("/dashboard");else{const b=x.error||s("invalidCredentials");m(b),R.error(b)}y(!1)};return a.jsxs("div",{className:"relative flex items-center justify-center min-h-screen px-4 py-8 bg-gradient-to-br from-slate-50 to-slate-100 sm:px-6 lg:px-8",children:[a.jsx(Zt,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#fff",color:"#1f2937",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"}}}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 right-0 rounded-full w-72 h-72 bg-blue-100/40 blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 rounded-full w-72 h-72 bg-purple-100/40 blur-3xl"})]}),a.jsx("div",{className:"absolute z-10 top-4 right-4 sm:top-6 sm:right-6",children:a.jsx(Y_,{})}),a.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative z-10 w-full max-w-md",children:[a.jsxs(ge.div,{className:"mb-6 text-center sm:mb-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-4 rounded-2xl bg-gradient-to-br from-orange-500 to-red-600 sm:w-20 sm:h-20",children:a.jsx(JT,{className:"w-8 h-8 text-white sm:w-10 sm:h-10"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:s("appName")}),a.jsx("p",{className:"mt-2 text-sm text-gray-600 sm:text-base",children:s("login")})]}),"        ",a.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-6 bg-white shadow-xl sm:p-8 rounded-2xl",children:[a.jsxs("form",{onSubmit:w,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:s("username")}),a.jsxs("div",{className:"relative",children:[a.jsx(W_,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),a.jsx("input",{type:"email",value:i,onChange:g=>o(g.target.value),placeholder:s("username"),className:"w-full py-3 pl-10 pr-4 text-gray-900 placeholder-gray-400 transition-all border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",required:!0,disabled:p,autoComplete:"email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:s("password")}),a.jsxs("div",{className:"relative",children:[a.jsx(qT,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),a.jsx("input",{type:c?"text":"password",value:l,onChange:g=>u(g.target.value),placeholder:s("password"),className:"w-full py-3 pl-10 pr-12 text-gray-900 placeholder-gray-400 transition-all border border-gray-300 rounded-xl focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 focus:outline-none",required:!0,disabled:p,autoComplete:"current-password"}),a.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute text-gray-400 transition-colors transform -translate-y-1/2 right-3 top-1/2 hover:text-gray-600",tabIndex:-1,children:c?a.jsx(vu,{className:"w-5 h-5"}):a.jsx(Gs,{className:"w-5 h-5"})})]})]}),a.jsx(Hl,{children:h&&a.jsxs(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 p-3 border border-red-200 rounded-xl bg-red-50",children:[a.jsx(V_,{className:"flex-shrink-0 w-5 h-5 text-red-600"}),a.jsx("p",{className:"text-sm text-red-700",children:h})]})}),a.jsx(ge.button,{type:"submit",className:"flex items-center justify-center w-full gap-2 py-3 text-base font-semibold text-white transition-all rounded-xl bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed group",disabled:p,whileHover:{scale:1.01},whileTap:{scale:.99},children:p?a.jsxs(a.Fragment,{children:[a.jsx(ge.div,{className:"w-5 h-5 border-2 border-white rounded-full border-t-transparent",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),a.jsx("span",{children:A==="gu"?"    ...":"Signing in..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:s("login")}),a.jsx(Pf,{className:"w-5 h-5 transition-transform group-hover:translate-x-1"})]})})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 pt-6 mt-6 text-sm text-gray-500 border-t border-gray-200",children:[a.jsx(J_,{className:"w-4 h-4"}),a.jsx("span",{children:A==="gu"?"  ":"Secured with encryption"})]})]})]})]})},WD="/assets/logo-DsklS65S.png",xr=()=>{const e=ut(),t=pr(),{t:r}=be(),{logout:n}=mu(),[s,A]=v.useState(!1);v.useEffect(()=>{const d=document.querySelector("main");return d&&(d.style.paddingTop="72px"),()=>{d&&(d.style.paddingTop="")}},[]);const i=()=>{n(),e("/"),R.success("Logged out successfully")},o=[{path:"/dashboard",label:r("dashboard"),icon:WT,colorClass:"blue"},{path:"/clients",label:r("addClient"),icon:Pr,colorClass:"blue"},{path:"/udhar-challan",label:r("udharChallan"),icon:lt,colorClass:"red"},{path:"/jama-challan",label:r("jamaChallan"),icon:G_,colorClass:"green"},{path:"/stock",label:r("stockManagement"),icon:It,colorClass:"orange"},{path:"/challan-book",label:r("challanBook"),icon:$s,colorClass:"cyan"},{path:"/client-ledger",label:r("clientLedger"),icon:$_,colorClass:"slate"},{path:"/billing",label:r("billing"),icon:lt,colorClass:"blue"},{path:"/bill-book",label:r("billBook"),icon:$s,colorClass:"blue"}],l=d=>{const h={blue:"#2563eb",red:"#dc2626",green:"#16a34a",orange:"#f59e0b",cyan:"#0891b2",slate:"#475569"};return h[d]||h.blue},u=()=>{const d=t.pathname,h=o.find(m=>m.path===d);return d==="/stock-history"?r("stockHistory"):(h==null?void 0:h.label)||r("appName")},c=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4",style:{height:"80px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center p-2 overflow-hidden transition-colors w-14 h-14 rounded-xl bg-white/10 hover:bg-white/20",children:a.jsx("img",{src:WD,alt:"Company Logo",className:"object-contain w-full h-full",style:{maxWidth:"100%",maxHeight:"100%"}})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-white",children:r("appName")}),a.jsx("p",{className:"text-xs",style:{color:"#9ca3af"},children:r("Rental_Management")})]})]})}),a.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:a.jsx("div",{className:"space-y-1",children:o.map(({path:d,label:h,icon:m,colorClass:p})=>{const y=t.pathname===d,w=l(p);return a.jsxs("button",{onClick:()=>{e(d),A(!1)},className:"flex items-center w-full gap-3 px-5 py-3 font-medium transition-all",style:{fontSize:"16px",color:y?"#60a5fa":"#9ca3af",backgroundColor:y?"rgba(37, 99, 235, 0.1)":"transparent",borderLeft:y?`4px solid ${w}`:"4px solid transparent",borderRadius:"0"},onMouseEnter:g=>{y||(g.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)",g.currentTarget.style.color="white")},onMouseLeave:g=>{y||(g.currentTarget.style.backgroundColor="transparent",g.currentTarget.style.color="#9ca3af")},children:[a.jsx(m,{size:20}),a.jsx("span",{className:"flex-1 text-left",children:h})]},d)})})}),a.jsxs("div",{className:"p-4 space-y-3",style:{borderTop:"1px solid rgba(255,255,255,0.1)"},children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(Y_,{})}),a.jsxs("button",{onClick:i,className:"flex items-center justify-center w-full gap-2 px-4 py-2 transition-colors duration-150 rounded-lg bg-red-500/10 hover:bg-red-500/20",style:{minHeight:"44px",color:"#f87171"},children:[a.jsx(XT,{size:20}),a.jsx("span",{className:"font-medium",children:r("logout")})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsx("nav",{className:"fixed top-0 left-0 z-50 flex-col hidden h-screen lg:flex",style:{width:"250px",backgroundColor:"#1f2937"},children:a.jsx(c,{})}),a.jsxs("div",{className:"fixed left-0 right-0 z-50 flex items-center px-4 bg-white border-b shadow-sm lg:hidden",style:{height:"56px",borderColor:"#e5e7eb",top:"8px",margin:"0 8px",borderRadius:"8px"},children:[a.jsx("button",{onClick:()=>A(!s),className:"p-2 -ml-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",style:{color:"#2563eb"},children:s?a.jsx(Bt,{size:24}):a.jsx(q_,{size:24})}),a.jsx("h1",{className:"mx-auto font-bold",style:{fontSize:"16px",color:"#1f2937"},children:u()})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>A(!1)}),a.jsx("nav",{className:"fixed top-0 left-0 z-50 flex flex-col h-screen lg:hidden",style:{width:"280px",backgroundColor:"#1f2937",boxShadow:"4px 0 6px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},children:a.jsx(c,{})})]})]})},a1=6048e5,qD=864e5,i1=6e4,o1=36e5,wy=Symbol.for("constructDateFrom");function $r(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&wy in e?e[wy](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ot(e,t){return $r(t||e,e)}function _u(e,t,r){const n=Ot(e,r==null?void 0:r.in);return isNaN(t)?$r(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let JD={};function ju(){return JD}function Wi(e,t){var o,l,u,c;const r=ju(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=Ot(e,t==null?void 0:t.in),A=s.getDay(),i=(A<n?7:0)+A-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Ic(e,t){return Wi(e,{...t,weekStartsOn:1})}function l1(e,t){const r=Ot(e,t==null?void 0:t.in),n=r.getFullYear(),s=$r(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const A=Ic(s),i=$r(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ic(i);return r.getTime()>=A.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function vy(e){const t=Ot(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function c1(e,...t){const r=$r.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function by(e,t){const r=Ot(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function u1(e,t,r){const[n,s]=c1(r==null?void 0:r.in,e,t),A=by(n),i=by(s),o=+A-vy(A),l=+i-vy(i);return Math.round((o-l)/qD)}function XD(e,t){const r=l1(e,t),n=$r(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ic(n)}function YD(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ZD(e){return!(!YD(e)&&typeof e!="number"||isNaN(+Ot(e)))}function qi(e,t,r){const[n,s]=c1(r==null?void 0:r.in,e,t),A=By(n,s),i=Math.abs(u1(n,s));n.setDate(n.getDate()-A*i);const o=+(By(n,s)===-A),l=A*(i-o);return l===0?0:l}function By(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function eL(e,t){const r=Ot(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const tL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rL=(e,t,r)=>{let n;const s=tL[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ld(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aL={date:Ld({formats:nL,defaultWidth:"full"}),time:Ld({formats:sL,defaultWidth:"full"}),dateTime:Ld({formats:AL,defaultWidth:"full"})},iL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oL=(e,t,r,n)=>iL[e];function _a(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[i]}const A=e.argumentCallback?e.argumentCallback(t):t;return s[A]}}const lL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mL=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gL={ordinalNumber:mL,era:_a({values:lL,defaultWidth:"wide"}),quarter:_a({values:cL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_a({values:uL,defaultWidth:"wide"}),day:_a({values:dL,defaultWidth:"wide"}),dayPeriod:_a({values:hL,defaultWidth:"wide",formattingValues:fL,defaultFormattingWidth:"wide"})};function ja(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],A=t.match(s);if(!A)return null;const i=A[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?xL(o,d=>d.test(i)):pL(o,d=>d.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=t.slice(i.length);return{value:u,rest:c}}}function pL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function xL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yL(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],A=t.match(e.parsePattern);if(!A)return null;let i=e.valueCallback?e.valueCallback(A[0]):A[0];i=r.valueCallback?r.valueCallback(i):i;const o=t.slice(s.length);return{value:i,rest:o}}}const wL=/^(\d+)(th|st|nd|rd)?/i,vL=/\d+/i,bL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BL={any:[/^b/i,/^(a|c)/i]},CL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_L={any:[/1/i,/2/i,/3/i,/4/i]},jL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SL={ordinalNumber:yL({matchPattern:wL,parsePattern:vL,valueCallback:e=>parseInt(e,10)}),era:ja({matchPatterns:bL,defaultMatchWidth:"wide",parsePatterns:BL,defaultParseWidth:"any"}),quarter:ja({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:_L,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ja({matchPatterns:jL,defaultMatchWidth:"wide",parsePatterns:NL,defaultParseWidth:"any"}),day:ja({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:QL,defaultParseWidth:"any"}),dayPeriod:ja({matchPatterns:UL,defaultMatchWidth:"any",parsePatterns:FL,defaultParseWidth:"any"})},kL={code:"en-US",formatDistance:rL,formatLong:aL,formatRelative:oL,localize:gL,match:SL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IL(e,t){const r=Ot(e,t==null?void 0:t.in);return u1(r,eL(r))+1}function TL(e,t){const r=Ot(e,t==null?void 0:t.in),n=+Ic(r)-+XD(r);return Math.round(n/a1)+1}function d1(e,t){var c,d,h,m;const r=Ot(e,t==null?void 0:t.in),n=r.getFullYear(),s=ju(),A=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=$r((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,A),i.setHours(0,0,0,0);const o=Wi(i,t),l=$r((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,A),l.setHours(0,0,0,0);const u=Wi(l,t);return+r>=+o?n+1:+r>=+u?n:n-1}function DL(e,t){var o,l,u,c;const r=ju(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=d1(e,t),A=$r((t==null?void 0:t.in)||e,0);return A.setFullYear(s,0,n),A.setHours(0,0,0,0),Wi(A,t)}function LL(e,t){const r=Ot(e,t==null?void 0:t.in),n=+Wi(r,t)-+DL(r,t);return Math.round(n/a1)+1}function we(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Bn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return we(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):we(r+1,2)},d(e,t){return we(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return we(e.getHours()%12||12,t.length)},H(e,t){return we(e.getHours(),t.length)},m(e,t){return we(e.getMinutes(),t.length)},s(e,t){return we(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return we(s,t.length)}},nA={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cy={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Bn.y(e,t)},Y:function(e,t,r,n){const s=d1(e,n),A=s>0?s:1-s;if(t==="YY"){const i=A%100;return we(i,2)}return t==="Yo"?r.ordinalNumber(A,{unit:"year"}):we(A,t.length)},R:function(e,t){const r=l1(e);return we(r,t.length)},u:function(e,t){const r=e.getFullYear();return we(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return we(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return we(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Bn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return we(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=LL(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):we(s,t.length)},I:function(e,t,r){const n=TL(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):we(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Bn.d(e,t)},D:function(e,t,r){const n=IL(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):we(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),A=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(A);case"ee":return we(A,2);case"eo":return r.ordinalNumber(A,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),A=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(A);case"cc":return we(A,t.length);case"co":return r.ordinalNumber(A,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return we(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=nA.noon:n===0?s=nA.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=nA.evening:n>=12?s=nA.afternoon:n>=4?s=nA.morning:s=nA.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Bn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Bn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):we(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):we(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Bn.s(e,t)},S:function(e,t){return Bn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return jy(n);case"XXXX":case"XX":return bs(n);case"XXXXX":case"XXX":default:return bs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return jy(n);case"xxxx":case"xx":return bs(n);case"xxxxx":case"xxx":default:return bs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_y(n,":");case"OOOO":default:return"GMT"+bs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_y(n,":");case"zzzz":default:return"GMT"+bs(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return we(n,t.length)},T:function(e,t,r){return we(+e,t.length)}};function _y(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),A=n%60;return A===0?r+String(s):r+String(s)+t+we(A,2)}function jy(e,t){return e%60===0?(e>0?"-":"+")+we(Math.abs(e)/60,2):bs(e,t)}function bs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=we(Math.trunc(n/60),2),A=we(n%60,2);return r+s+t+A}const Ny=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},h1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},PL=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Ny(e,t);let A;switch(n){case"P":A=t.dateTime({width:"short"});break;case"PP":A=t.dateTime({width:"medium"});break;case"PPP":A=t.dateTime({width:"long"});break;case"PPPP":default:A=t.dateTime({width:"full"});break}return A.replace("{{date}}",Ny(n,t)).replace("{{time}}",h1(s,t))},HL={p:h1,P:PL},OL=/^D+$/,RL=/^Y+$/,ML=["D","DD","YY","YYYY"];function zL(e){return OL.test(e)}function KL(e){return RL.test(e)}function VL(e,t,r){const n=$L(e,t,r);if(console.warn(n),ML.includes(e))throw new RangeError(n)}function $L(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qL=/^'([^]*?)'?$/,JL=/''/g,XL=/[a-zA-Z]/;function xe(e,t,r){var c,d,h,m;const n=ju(),s=n.locale??kL,A=n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,o=Ot(e,r==null?void 0:r.in);if(!ZD(o))throw new RangeError("Invalid time value");let l=t.match(WL).map(p=>{const y=p[0];if(y==="p"||y==="P"){const w=HL[y];return w(p,s.formatLong)}return p}).join("").match(GL).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:YL(p)};if(Cy[y])return{isToken:!0,value:p};if(y.match(XL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:A,weekStartsOn:i,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const y=p.value;(KL(y)||zL(y))&&VL(y,t,String(e));const w=Cy[y[0]];return w(o,y,s.localize,u)}).join("")}function YL(e){const t=e.match(qL);return t?t[1].replace(JL,"'"):e}function Tc(e,t,r){return _u(e,-1,r)}function Tt(e,t){const r=()=>$r(t==null?void 0:t.in,NaN),s=r5(e);let A;if(s.date){const u=n5(s.date,2);A=s5(u.restDateString,u.year)}if(!A||isNaN(+A))return r();const i=+A;let o=0,l;if(s.time&&(o=A5(s.time),isNaN(o)))return r();if(s.timezone){if(l=a5(s.timezone),isNaN(l))return r()}else{const u=new Date(i+o),c=Ot(0,t==null?void 0:t.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return Ot(i+o+l,t==null?void 0:t.in)}const Zo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,e5=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,t5=/^([+-])(\d{2})(?::?(\d{2}))?$/;function r5(e){const t={},r=e.split(Zo.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Zo.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Zo.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Zo.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function n5(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,A=n[2]?parseInt(n[2]):null;return{year:A===null?s:A*100,restDateString:e.slice((n[1]||n[2]).length)}}function s5(e,t){if(t===null)return new Date(NaN);const r=e.match(ZL);if(!r)return new Date(NaN);const n=!!r[4],s=Na(r[1]),A=Na(r[2])-1,i=Na(r[3]),o=Na(r[4]),l=Na(r[5])-1;if(n)return u5(t,o,l)?i5(t,o,l):new Date(NaN);{const u=new Date(0);return!l5(t,A,i)||!c5(t,s)?new Date(NaN):(u.setUTCFullYear(t,A,Math.max(s,i)),u)}}function Na(e){return e?parseInt(e):1}function A5(e){const t=e.match(e5);if(!t)return NaN;const r=Pd(t[1]),n=Pd(t[2]),s=Pd(t[3]);return d5(r,n,s)?r*o1+n*i1+s*1e3:NaN}function Pd(e){return e&&parseFloat(e.replace(",","."))||0}function a5(e){if(e==="Z")return 0;const t=e.match(t5);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return h5(n,s)?r*(n*o1+s*i1):NaN}function i5(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,A=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+A),n}const o5=[31,null,31,30,31,30,31,31,30,31,30,31];function f1(e){return e%400===0||e%4===0&&e%100!==0}function l5(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(o5[t]||(f1(e)?29:28))}function c5(e,t){return t>=1&&t<=(f1(e)?366:365)}function u5(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function d5(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function h5(e,t){return t>=0&&t<=59}const Ps={size_1_qty:0,size_2_qty:0,size_3_qty:0,size_4_qty:0,size_5_qty:0,size_6_qty:0,size_7_qty:0,size_8_qty:0,size_9_qty:0,size_1_borrowed:0,size_2_borrowed:0,size_3_borrowed:0,size_4_borrowed:0,size_5_borrowed:0,size_6_borrowed:0,size_7_borrowed:0,size_8_borrowed:0,size_9_borrowed:0,size_1_note:null,size_2_note:null,size_3_note:null,size_4_note:null,size_5_note:null,size_6_note:null,size_7_note:null,size_8_note:null,size_9_note:null,main_note:null},Ji=async e=>{let t=X.from("udhar_challans").select(`
      udhar_challan_number,
      udhar_date,
      driver_name,
      alternative_site,
      secondary_phone_number,
      client_id,
      client:clients!udhar_challans_client_id_fkey (
        id,
        client_nic_name,
        client_name,
        site,
        primary_phone_number
      ),
      items:udhar_items!udhar_items_udhar_challan_number_fkey (
        size_1_qty,
        size_2_qty,
        size_3_qty,
        size_4_qty,
        size_5_qty,
        size_6_qty,
        size_7_qty,
        size_8_qty,
        size_9_qty,
        size_1_borrowed,
        size_2_borrowed,
        size_3_borrowed,
        size_4_borrowed,
        size_5_borrowed,
        size_6_borrowed,
        size_7_borrowed,
        size_8_borrowed,
        size_9_borrowed,
        size_1_note,
        size_2_note,
        size_3_note,
        size_4_note,
        size_5_note,
        size_6_note,
        size_7_note,
        size_8_note,
        size_9_note,
        main_note
      )
    `).order("udhar_date",{ascending:!0});e&&(t=t.eq("client_id",e));const{data:r,error:n}=await t;return n?(console.error("Error fetching udhar challans:",n),[]):(r||[]).map(A=>{var l,u,c,d;const i=A.items,o=Array.isArray(i)?i[0]||Ps:i||Ps;return{challanNumber:A.udhar_challan_number,date:A.udhar_date,type:"udhar",driverName:A.driver_name,clientNicName:((l=A.client)==null?void 0:l.client_nic_name)||"",clientFullName:((u=A.client)==null?void 0:u.client_name)||"",clientId:A.client_id,site:A.alternative_site||((c=A.client)==null?void 0:c.site)||"",isAlternativeSite:!!A.alternative_site,phone:A.secondary_phone_number||((d=A.client)==null?void 0:d.primary_phone_number)||"",isSecondaryPhone:!!A.secondary_phone_number,items:o}})},Xi=async e=>{let t=X.from("jama_challans").select(`
      jama_challan_number,
      jama_date,
      driver_name,
      alternative_site,
      secondary_phone_number,
      client_id,
      client:clients!jama_challans_client_id_fkey (
        id,
        client_nic_name,
        client_name,
        site,
        primary_phone_number
      ),
      items:jama_items!jama_items_jama_challan_number_fkey (
        size_1_qty,
        size_2_qty,
        size_3_qty,
        size_4_qty,
        size_5_qty,
        size_6_qty,
        size_7_qty,
        size_8_qty,
        size_9_qty,
        size_1_borrowed,
        size_2_borrowed,
        size_3_borrowed,
        size_4_borrowed,
        size_5_borrowed,
        size_6_borrowed,
        size_7_borrowed,
        size_8_borrowed,
        size_9_borrowed,
        size_1_note,
        size_2_note,
        size_3_note,
        size_4_note,
        size_5_note,
        size_6_note,
        size_7_note,
        size_8_note,
        size_9_note,
        main_note
      )
    `).order("jama_date",{ascending:!0});e&&(t=t.eq("client_id",e));const{data:r,error:n}=await t;return n?(console.error("Error fetching jama challans:",n),[]):(r||[]).map(A=>{var l,u,c,d;const i=A.items,o=Array.isArray(i)?i[0]||Ps:i||Ps;return{challanNumber:A.jama_challan_number,date:A.jama_date,type:"jama",driverName:A.driver_name,clientNicName:((l=A.client)==null?void 0:l.client_nic_name)||"",clientFullName:((u=A.client)==null?void 0:u.client_name)||"",clientId:A.client_id,site:A.alternative_site||((c=A.client)==null?void 0:c.site)||"",isAlternativeSite:!!A.alternative_site,phone:A.secondary_phone_number||((d=A.client)==null?void 0:d.primary_phone_number)||"",isSecondaryPhone:!!A.secondary_phone_number,items:o}})},m1=async e=>{const t=e.toISOString().split("T")[0],[r,n,s]=await Promise.all([X.from("udhar_challans").select(`
        udhar_challan_number,
        udhar_date,
        driver_name,
        alternative_site,
        secondary_phone_number,
        client_id,
        client:clients!udhar_challans_client_id_fkey (
          id,
          client_nic_name,
          client_name,
          site,
          primary_phone_number
        ),
        items:udhar_items!udhar_items_udhar_challan_number_fkey (
          size_1_qty, size_2_qty, size_3_qty, size_4_qty, size_5_qty,
          size_6_qty, size_7_qty, size_8_qty, size_9_qty,
          size_1_borrowed, size_2_borrowed, size_3_borrowed,
          size_4_borrowed, size_5_borrowed, size_6_borrowed,
          size_7_borrowed, size_8_borrowed, size_9_borrowed,
          size_1_note, size_2_note, size_3_note,
          size_4_note, size_5_note, size_6_note,
          size_7_note, size_8_note, size_9_note,
          main_note
        )
      `).eq("udhar_date",t).order("udhar_challan_number",{ascending:!1}),X.from("jama_challans").select(`
        jama_challan_number,
        jama_date,
        driver_name,
        alternative_site,
        secondary_phone_number,
        client_id,
        client:clients!jama_challans_client_id_fkey (
          id,
          client_nic_name,
          client_name,
          site,
          primary_phone_number
        ),
        items:jama_items!jama_items_jama_challan_number_fkey (
          size_1_qty, size_2_qty, size_3_qty, size_4_qty, size_5_qty,
          size_6_qty, size_7_qty, size_8_qty, size_9_qty,
          size_1_borrowed, size_2_borrowed, size_3_borrowed,
          size_4_borrowed, size_5_borrowed, size_6_borrowed,
          size_7_borrowed, size_8_borrowed, size_9_borrowed,
          size_1_note, size_2_note, size_3_note,
          size_4_note, size_5_note, size_6_note,
          size_7_note, size_8_note, size_9_note,
          main_note
        )
      `).eq("jama_date",t).order("jama_challan_number",{ascending:!1}),X.from("bills").select(`
        bill_number,
        billing_date,
        total_rent_amount,
        total_extra_cost,
        client_id,
        client:clients (
          client_nic_name,
          client_name,
          site,
          primary_phone_number
        )
      `).eq("billing_date",t).order("created_at",{ascending:!1})]),A=(c,d)=>{var p,y,w,g;const h=c.items,m=Array.isArray(h)?h[0]||Ps:h||Ps;return{challanNumber:d==="udhar"?c.udhar_challan_number:c.jama_challan_number,date:d==="udhar"?c.udhar_date:c.jama_date,type:d,driverName:c.driver_name,clientNicName:((p=c.client)==null?void 0:p.client_nic_name)||"",clientFullName:((y=c.client)==null?void 0:y.client_name)||"",clientId:c.client_id,site:c.alternative_site||((w=c.client)==null?void 0:w.site)||"",isAlternativeSite:!!c.alternative_site,phone:c.secondary_phone_number||((g=c.client)==null?void 0:g.primary_phone_number)||"",isSecondaryPhone:!!c.secondary_phone_number,items:m,totalItems:zl(m)}},i=c=>{var d,h,m,p;return{challanNumber:c.bill_number,date:c.billing_date,type:"bill",driverName:"",clientNicName:((d=c.client)==null?void 0:d.client_nic_name)||"",clientFullName:((h=c.client)==null?void 0:h.client_name)||"",clientId:c.client_id,site:((m=c.client)==null?void 0:m.site)||"",isAlternativeSite:!1,phone:((p=c.client)==null?void 0:p.primary_phone_number)||"",isSecondaryPhone:!1,items:Ps,totalItems:0,amount:(c.total_rent_amount||0)+(c.total_extra_cost||0)}},o=(r.data||[]).map(c=>A(c,"udhar")),l=(n.data||[]).map(c=>A(c,"jama"));return[...(s.data||[]).map(c=>i(c)),...o,...l].sort((c,d)=>d.challanNumber.localeCompare(c.challanNumber))},Ey=new Map,f5=5*60*1e3,Mf=async e=>{const t=Ey.get(e);if(t&&Date.now()-t.timestamp<f5)return t.data;const[r,n]=await Promise.all([Ji(e),Xi(e)]),s=[...r,...n].sort((A,i)=>new Date(A.date).getTime()-new Date(i.date).getTime());return Ey.set(e,{data:s,timestamp:Date.now()}),s},zl=e=>{let t=0;for(let r=1;r<=9;r++)t+=(e[`size_${r}_qty`]||0)+(e[`size_${r}_borrowed`]||0);return t},at=["2 X 3","21 X 3","18 X 3","15 X 3","12 X 3","9 X 3","","2 X 2","2 "],g1=({items:e,onChange:t,outstandingBalances:r,borrowedOutstanding:n,hideColumns:s=!1,stockData:A=[],showAvailable:i=!1})=>{const{t:o}=be(),l=(c,d)=>{c.includes("note")?t({...e,[c]:d}):t(typeof d=="string"&&d===""?{...e,[c]:0}:{...e,[c]:d})},u=Array.from({length:9},(c,d)=>d+1);return a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"hidden overflow-x-auto lg:block",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:o("size")}),r&&a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:o("outstanding")}),i&&a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:o("available")}),a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:o("quantity")}),r&&!s&&a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:o("borrowedOutstanding")}),!s&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:o("borrowed")}),a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:o("notes")})]})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(c=>{var d,h;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 text-sm font-bold text-center text-gray-900 whitespace-nowrap",children:at[c-1]}),r&&a.jsx("td",{className:"px-4 py-4 text-center whitespace-nowrap",children:a.jsx("div",{className:`px-3 py-2 text-sm font-semibold rounded-lg inline-block ${r[c]>0?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:r[c]||0})}),i&&a.jsx("td",{className:"px-4 py-4 text-center whitespace-nowrap",children:a.jsx("div",{className:`px-3 py-2 text-sm font-semibold rounded-lg inline-block ${((d=A.find(m=>m.size===c))==null?void 0:d.available_stock)===0?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:((h=A.find(m=>m.size===c))==null?void 0:h.available_stock)||0})}),a.jsx("td",{className:"px-4 py-4 text-center whitespace-nowrap",children:a.jsx("input",{type:"number",min:"0",value:e[`size_${c}_qty`]||"",onChange:m=>l(`size_${c}_qty`,m.target.value===""?0:parseInt(m.target.value)),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),r&&!s&&a.jsx("td",{className:"px-4 py-4 text-center whitespace-nowrap",children:a.jsx("div",{className:`px-3 py-2 text-sm font-semibold rounded-lg inline-block ${n&&n[c]>0?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:n&&n[c]||0})}),!s&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-4 py-4 text-center whitespace-nowrap",children:a.jsx("input",{type:"number",min:"0",value:e[`size_${c}_borrowed`]||"",onChange:m=>l(`size_${c}_borrowed`,m.target.value===""?0:parseInt(m.target.value)),className:"w-24 px-3 py-2 text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("input",{type:"text",value:e[`size_${c}_note`],onChange:m=>l(`size_${c}_note`,m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]})]},c)})})]})}),a.jsx("div",{className:"lg:hidden",children:a.jsx("div",{className:"-mx-3 overflow-x-auto sm:-mx-4",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsx("div",{className:"overflow-hidden",children:a.jsxs("table",{className:"min-w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[a.jsx("th",{className:"sticky left-0 z-10 px-1 py-1.5 text-[10px] font-bold text-center text-gray-700 bg-gray-100 border-r-2 border-gray-300 w-12 sm:px-2 sm:text-xs",children:o("size")}),r&&a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[70px] sm:min-w-[80px]",children:o("outstanding")}),i&&a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[70px] sm:min-w-[80px]",children:o("available")}),a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[70px] sm:min-w-[80px]",children:o("quantity")}),r&&!s&&a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[70px] sm:min-w-[80px]",children:o("borrowedOutstanding")}),!s&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[70px] sm:min-w-[80px]",children:o("borrowed")}),a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 min-w-[120px] sm:min-w-[150px]",children:o("notes")})]})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[u.map((c,d)=>{var h,m;return a.jsxs("tr",{className:d%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:"sticky left-0 z-10 px-1 py-1.5 text-[10px] font-bold text-center text-gray-900 border-r-2 border-gray-300 sm:px-2 sm:text-sm bg-inherit",children:at[c-1]}),r&&a.jsx("td",{className:"px-1 py-1.5 text-center border-r border-gray-200",children:a.jsx("div",{className:`px-1.5 py-1 text-xs sm:text-sm font-semibold rounded whitespace-nowrap ${r[c]>0?"bg-red-100 text-red-700":"bg-gray-200 text-gray-600"}`,children:r[c]||0})}),i&&a.jsx("td",{className:"px-1 py-1.5 text-center border-r border-gray-200",children:a.jsx("div",{className:`px-1.5 py-1 text-xs sm:text-sm font-semibold rounded whitespace-nowrap ${((h=A.find(p=>p.size===c))==null?void 0:h.available_stock)===0?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:((m=A.find(p=>p.size===c))==null?void 0:m.available_stock)||0})}),a.jsx("td",{className:"px-1 py-1.5 border-r border-gray-200",children:a.jsx("input",{type:"number",min:"0",inputMode:"numeric",value:e[`size_${c}_qty`]||"",onChange:p=>l(`size_${c}_qty`,p.target.value===""?0:parseInt(p.target.value)),className:"w-full px-2 py-2 text-[13px] sm:text-sm text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[40px] sm:min-h-[44px] touch-manipulation active:scale-[0.97]"})}),r&&!s&&a.jsx("td",{className:"px-1 py-1.5 text-center border-r border-gray-200",children:a.jsx("div",{className:`px-1.5 py-1 text-xs sm:text-sm font-semibold rounded whitespace-nowrap ${n&&n[c]>0?"bg-orange-100 text-orange-700":"bg-gray-200 text-gray-600"}`,children:n&&n[c]||0})}),!s&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-1 py-1.5 border-r border-gray-200",children:a.jsx("input",{type:"number",min:"0",inputMode:"numeric",value:e[`size_${c}_borrowed`]||"",onChange:p=>l(`size_${c}_borrowed`,p.target.value===""?0:parseInt(p.target.value)),className:"w-full px-2 py-2 text-[13px] sm:text-sm text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[40px] sm:min-h-[44px] touch-manipulation active:scale-[0.97]"})}),a.jsx("td",{className:"px-1 py-1.5",children:a.jsx("input",{type:"text",value:e[`size_${c}_note`],onChange:p=>l(`size_${c}_note`,p.target.value),className:"w-full px-2 py-2 text-[13px] sm:text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[40px] sm:min-h-[44px] touch-manipulation active:scale-[0.97]",placeholder:o("optionalNote")})})]})]},c)}),a.jsxs("tr",{className:"bg-gray-100 border-t-2 border-gray-300",children:[a.jsx("td",{className:"sticky left-0 z-10 px-1 py-3 text-xs font-bold text-center text-gray-900 border-r-2 border-gray-300 sm:text-sm bg-inherit",children:""}),r&&a.jsx("td",{className:"px-1 py-3 text-center border-r border-gray-200",children:"-"}),i&&a.jsx("td",{className:"px-1 py-3 text-center border-r border-gray-200",children:"-"}),a.jsx("td",{className:"px-1 py-3 text-xs font-bold text-center border-r border-gray-200 sm:text-sm",children:a.jsxs("div",{className:"px-3 py-1.5 bg-blue-100 rounded-lg text-blue-800",children:[u.reduce((c,d)=>c+(e[`size_${d}_qty`]||0)+(e[`size_${d}_borrowed`]||0),0)," ",""]})}),r&&!s&&a.jsx("td",{className:"px-1 py-3 text-center border-r border-gray-200",children:"-"}),!s&&a.jsx(a.Fragment,{children:a.jsx("td",{className:"px-1 py-3 text-xs font-bold text-center border-r border-gray-200 sm:text-sm",children:a.jsxs("div",{className:"px-2 py-1 rounded-lg bg-orange-50",children:[u.reduce((c,d)=>c+(e[`size_${d}_borrowed`]||0),0)," ",""]})})})]})]})]})})})})}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1.5 sm:mb-2 text-xs sm:text-sm font-semibold text-gray-700",children:o("mainNote")}),a.jsx("textarea",{value:e.main_note,onChange:c=>l("main_note",c.target.value),rows:3,placeholder:o("optionalGeneralNotes"),className:"w-full px-2.5 py-2 sm:px-3 sm:py-2.5 text-xs sm:text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})},p1=({challan:e,type:t,isOpen:r,onClose:n,onDownload:s})=>{const{t:A}=be();return!r||!e?null:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 flex items-center justify-between px-3 md:px-6 py-2 md:py-4 bg-white border-b border-gray-200",children:[a.jsx("h2",{className:"text-sm md:text-2xl font-bold text-gray-900",children:A(t==="udhar"?"udharChallan":"jamaChallan")}),a.jsx("button",{onClick:n,className:"text-gray-400 transition-colors hover:text-gray-600",children:a.jsx(Bt,{size:20,className:"md:w-6 md:h-6"})})]}),a.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-gray-50",children:[a.jsx("h3",{className:"mb-2 text-xs md:text-lg font-semibold text-gray-900",children:A("challanInfo")}),a.jsxs("div",{className:"md:hidden flex gap-4 text-[10px]",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-600",children:A("challanNumber")}),a.jsx("p",{className:"font-medium text-gray-900",children:e.challanNumber})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-600",children:A("date")}),a.jsx("p",{className:"font-medium text-gray-900",children:xe(new Date(e.date),"dd/MM/yyyy")})]})]}),a.jsxs("div",{className:"hidden gap-2 md:gap-4 md:grid md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] md:text-sm text-gray-600",children:A("challanNumber")}),a.jsx("p",{className:"text-xs md:text-base font-medium text-gray-900",children:e.challanNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] md:text-sm text-gray-600",children:A("date")}),a.jsx("p",{className:"text-xs md:text-base font-medium text-gray-900",children:xe(new Date(e.date),"dd/MM/yyyy")})]})]})]}),a.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-blue-50",children:[a.jsx("h3",{className:"mb-2 text-xs md:text-lg font-semibold text-gray-900",children:A("clientInfo")}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] md:text-sm text-gray-600",children:A("clientNicName")}),a.jsx("p",{className:"text-xs md:text-base font-medium text-gray-900",children:e.clientNicName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] md:text-sm text-gray-600",children:A("clientName")}),a.jsx("p",{className:"text-xs md:text-base font-medium text-gray-900",children:e.clientFullName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] md:text-sm text-gray-600",children:A("site")}),a.jsxs("p",{className:"text-xs md:text-base font-medium text-gray-900",children:[e.site,e.isAlternativeSite&&a.jsx("span",{className:"px-1.5 py-0.5 ml-1 text-[9px] md:text-xs text-blue-800 bg-blue-200 rounded",children:A("alternative")})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] md:text-sm text-gray-600",children:A("phone")}),a.jsxs("p",{className:"text-xs md:text-base font-medium text-gray-900",children:[e.phone,e.isSecondaryPhone&&a.jsx("span",{className:"px-1.5 py-0.5 ml-1 text-[9px] md:text-xs text-blue-800 bg-blue-200 rounded",children:A("alternative")})]})]}),e.driverName&&a.jsxs("div",{className:"col-span-2 md:col-span-1",children:[a.jsx("p",{className:"text-[10px] md:text-sm text-gray-600",children:A("driver")}),a.jsx("p",{className:"text-xs md:text-base font-medium text-gray-900",children:e.driverName})]})]})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-white border border-gray-200 rounded-lg",children:[a.jsx("h3",{className:"mb-2 md:mb-3 text-xs md:text-lg font-semibold text-gray-900",children:A("items")}),a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"sticky left-0 z-10 px-2 py-2 text-[10px] sm:text-xs font-medium text-left text-gray-500 uppercase bg-gray-50 sm:px-4",children:A("size")}),a.jsx("th",{className:"px-2 py-2 text-[10px] sm:text-xs font-medium text-center text-gray-500 uppercase sm:px-4",children:A("quantity")}),a.jsx("th",{className:"px-2 py-2 text-[10px] sm:text-xs font-medium text-center text-gray-500 uppercase sm:px-4",children:A("borrowedStock")}),a.jsx("th",{className:"px-2 py-2 text-[10px] sm:text-xs font-medium text-left text-gray-500 uppercase sm:px-4",children:A("note")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[1,2,3,4,5,6,7,8,9].map(i=>{const o=e.items[`size_${i}_qty`]||0,l=e.items[`size_${i}_borrowed`]||0,u=e.items[`size_${i}_note`]||"";return o===0&&l===0&&!u?null:a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"sticky left-0 z-10 px-2 py-2 text-[11px] sm:text-sm font-medium text-gray-900 whitespace-nowrap bg-inherit sm:px-4",children:at[i-1]}),a.jsx("td",{className:"px-2 py-2 text-[11px] sm:text-sm text-gray-900 whitespace-nowrap text-center sm:px-4",children:a.jsx("span",{className:"inline-block min-w-[40px] px-2 py-1 bg-blue-50 rounded",children:o})}),a.jsx("td",{className:"px-2 py-2 text-[11px] sm:text-sm text-gray-900 whitespace-nowrap text-center sm:px-4",children:a.jsx("span",{className:"inline-block min-w-[40px] px-2 py-1 bg-orange-50 rounded",children:l})}),a.jsx("td",{className:"px-2 py-2 text-[11px] sm:text-sm text-gray-600 sm:px-4",children:u||"-"})]},i)})})]})}),a.jsx("div",{className:"md:hidden overflow-x-auto -mx-4 sm:-mx-0",children:a.jsxs("table",{className:"w-full text-xs border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[a.jsx("th",{className:"sticky left-0 z-10 px-2 py-1.5 text-[10px] font-semibold text-left text-gray-700 bg-gray-100 border-r border-gray-300",children:A("size")}),a.jsx("th",{className:"px-2 py-1.5 text-[10px] font-semibold text-center text-gray-700 border-r border-gray-300",children:A("quantity")}),a.jsx("th",{className:"px-2 py-1.5 text-[10px] font-semibold text-center text-gray-700 border-r border-gray-300",children:A("borrowedStock")}),a.jsx("th",{className:"px-2 py-1.5 text-[10px] font-semibold text-left text-gray-700",children:A("note")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[1,2,3,4,5,6,7,8,9].map(i=>{const o=e.items[`size_${i}_qty`]||0,l=e.items[`size_${i}_borrowed`]||0,u=e.items[`size_${i}_note`]||"";return o===0&&l===0&&!u?null:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"sticky left-0 z-10 px-2 py-1.5 text-[10px] font-medium text-gray-900 whitespace-nowrap bg-inherit border-r border-gray-200",children:at[i-1]}),a.jsx("td",{className:"px-2 py-1.5 text-[10px] text-center text-gray-900 whitespace-nowrap border-r border-gray-200",children:a.jsx("span",{className:"inline-block min-w-[28px] px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-[9px] font-semibold",children:o})}),a.jsx("td",{className:"px-2 py-1.5 text-[10px] text-center text-gray-900 whitespace-nowrap border-r border-gray-200",children:a.jsx("span",{className:"inline-block min-w-[28px] px-1.5 py-0.5 bg-orange-100 text-orange-800 rounded text-[9px] font-semibold",children:l})}),a.jsx("td",{className:"px-2 py-1.5 text-[9px] text-gray-600 max-w-[100px] truncate",children:u||"-"})]},i)})})]})}),e.items.main_note&&a.jsxs("div",{className:"p-3 mt-4 border border-yellow-200 rounded bg-yellow-50",children:[a.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:[A("mainNote"),":"]}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.items.main_note})]}),a.jsx("div",{className:"mt-2 md:mt-4 text-right",children:a.jsxs("p",{className:"text-xs md:text-lg font-semibold text-gray-900",children:[A("totalItems"),": ",e.totalItems," ",A("pieces")]})})]})]}),a.jsxs("div",{className:"sticky bottom-0 flex justify-end gap-2 md:gap-3 px-3 md:px-6 py-2 md:py-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("button",{onClick:()=>s(e),className:"flex items-center gap-1 md:gap-2 px-2 md:px-4 py-1 md:py-2 text-xs md:text-sm text-white transition-colors bg-blue-600 rounded-lg hover:bg-blue-700",children:[a.jsx(Vr,{size:16,className:"md:w-5 md:h-5"}),A("downloadJPEG")]}),a.jsx("button",{onClick:n,className:"px-2 md:px-4 py-1 md:py-2 text-xs md:text-sm text-gray-800 transition-colors bg-gray-200 rounded-lg hover:bg-gray-300",children:A("close")})]})]})})};function m5(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),s=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(s),t&&(n.href=t),s.href=e,s.href}const g5=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Jn(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let sA=null;function x1(e={}){return sA||(e.includeStyleProperties?(sA=e.includeStyleProperties,sA):(sA=Jn(window.getComputedStyle(document.documentElement)),sA))}function Dc(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function p5(e){const t=Dc(e,"border-left-width"),r=Dc(e,"border-right-width");return e.clientWidth+t+r}function x5(e){const t=Dc(e,"border-top-width"),r=Dc(e,"border-bottom-width");return e.clientHeight+t+r}function y1(e,t={}){const r=t.width||p5(e),n=t.height||x5(e);return{width:r,height:n}}function y5(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Rt=16384;function w5(e){(e.width>Rt||e.height>Rt)&&(e.width>Rt&&e.height>Rt?e.width>e.height?(e.height*=Rt/e.width,e.width=Rt):(e.width*=Rt/e.height,e.height=Rt):e.width>Rt?(e.height*=Rt/e.width,e.width=Rt):(e.width*=Rt/e.height,e.height=Rt))}function Lc(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function v5(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function b5(e,t,r){const n="http://www.w3.org/2000/svg",s=document.createElementNS(n,"svg"),A=document.createElementNS(n,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${r}`),s.setAttribute("viewBox",`0 0 ${t} ${r}`),A.setAttribute("width","100%"),A.setAttribute("height","100%"),A.setAttribute("x","0"),A.setAttribute("y","0"),A.setAttribute("externalResourcesRequired","true"),s.appendChild(A),A.appendChild(e),v5(s)}const Ht=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||Ht(r,t)};function B5(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function C5(e,t){return x1(t).map(r=>{const n=e.getPropertyValue(r),s=e.getPropertyPriority(r);return`${r}: ${n}${s?" !important":""};`}).join(" ")}function _5(e,t,r,n){const s=`.${e}:${t}`,A=r.cssText?B5(r):C5(r,n);return document.createTextNode(`${s}{${A}}`)}function Qy(e,t,r,n){const s=window.getComputedStyle(e,r),A=s.getPropertyValue("content");if(A===""||A==="none")return;const i=g5();try{t.className=`${t.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild(_5(i,r,s,n)),t.appendChild(o)}function j5(e,t,r){Qy(e,t,":before",r),Qy(e,t,":after",r)}const Uy="application/font-woff",Fy="image/jpeg",N5={woff:Uy,woff2:Uy,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Fy,jpeg:Fy,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function E5(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function ap(e){const t=E5(e).toLowerCase();return N5[t]||""}function Q5(e){return e.split(/,/)[1]}function zf(e){return e.search(/^(data:)/)!==-1}function U5(e,t){return`data:${t};base64,${e}`}async function w1(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const s=await n.blob();return new Promise((A,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{A(r({res:n,result:o.result}))}catch(l){i(l)}},o.readAsDataURL(s)})}const Hd={};function F5(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function ip(e,t,r){const n=F5(e,t,r.includeQueryParams);if(Hd[n]!=null)return Hd[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let s;try{const A=await w1(e,r.fetchRequestInit,({res:i,result:o})=>(t||(t=i.headers.get("Content-Type")||""),Q5(o)));s=U5(A,t)}catch(A){s=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;A&&(i=typeof A=="string"?A:A.message),i&&console.warn(i)}return Hd[n]=s,s}async function S5(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Lc(t)}async function k5(e,t){if(e.currentSrc){const A=document.createElement("canvas"),i=A.getContext("2d");A.width=e.clientWidth,A.height=e.clientHeight,i==null||i.drawImage(e,0,0,A.width,A.height);const o=A.toDataURL();return Lc(o)}const r=e.poster,n=ap(r),s=await ip(r,n,t);return Lc(s)}async function I5(e,t){var r;try{if(!((r=e==null?void 0:e.contentDocument)===null||r===void 0)&&r.body)return await Nu(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function T5(e,t){return Ht(e,HTMLCanvasElement)?S5(e):Ht(e,HTMLVideoElement)?k5(e,t):Ht(e,HTMLIFrameElement)?I5(e,t):e.cloneNode(v1(e))}const D5=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",v1=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function L5(e,t,r){var n,s;if(v1(t))return t;let A=[];return D5(e)&&e.assignedNodes?A=Jn(e.assignedNodes()):Ht(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?A=Jn(e.contentDocument.body.childNodes):A=Jn(((s=e.shadowRoot)!==null&&s!==void 0?s:e).childNodes),A.length===0||Ht(e,HTMLVideoElement)||await A.reduce((i,o)=>i.then(()=>Nu(o,r)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function P5(e,t,r){const n=t.style;if(!n)return;const s=window.getComputedStyle(e);s.cssText?(n.cssText=s.cssText,n.transformOrigin=s.transformOrigin):x1(r).forEach(A=>{let i=s.getPropertyValue(A);A==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),Ht(e,HTMLIFrameElement)&&A==="display"&&i==="inline"&&(i="block"),A==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(A,i,s.getPropertyPriority(A))})}function H5(e,t){Ht(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ht(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function O5(e,t){if(Ht(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(s=>e.value===s.getAttribute("value"));n&&n.setAttribute("selected","")}}function R5(e,t,r){return Ht(t,Element)&&(P5(e,t,r),j5(e,t,r),H5(e,t),O5(e,t)),t}async function M5(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let A=0;A<r.length;A++){const o=r[A].getAttribute("xlink:href");if(o){const l=e.querySelector(o),u=document.querySelector(o);!l&&u&&!n[o]&&(n[o]=await Nu(u,t,!0))}}const s=Object.values(n);if(s.length){const A="http://www.w3.org/1999/xhtml",i=document.createElementNS(A,"svg");i.setAttribute("xmlns",A),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(A,"defs");i.appendChild(o);for(let l=0;l<s.length;l++)o.appendChild(s[l]);e.appendChild(i)}return e}async function Nu(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>T5(n,t)).then(n=>L5(e,n,t)).then(n=>R5(e,n,t)).then(n=>M5(n,t))}const b1=/url\((['"]?)([^'"]+?)\1\)/g,z5=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,K5=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function V5(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function $5(e){const t=[];return e.replace(b1,(r,n,s)=>(t.push(s),r)),t.filter(r=>!zf(r))}async function G5(e,t,r,n,s){try{const A=r?m5(t,r):t,i=ap(t);let o;return s||(o=await ip(A,i,n)),e.replace(V5(t),`$1${o}$3`)}catch{}return e}function W5(e,{preferredFontFormat:t}){return t?e.replace(K5,r=>{for(;;){const[n,,s]=z5.exec(r)||[];if(!s)return"";if(s===t)return`src: ${n};`}}):e}function B1(e){return e.search(b1)!==-1}async function C1(e,t,r){if(!B1(e))return e;const n=W5(e,r);return $5(n).reduce((A,i)=>A.then(o=>G5(o,i,t,r)),Promise.resolve(n))}async function AA(e,t,r){var n;const s=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(s){const A=await C1(s,null,r);return t.style.setProperty(e,A,t.style.getPropertyPriority(e)),!0}return!1}async function q5(e,t){await AA("background",e,t)||await AA("background-image",e,t),await AA("mask",e,t)||await AA("-webkit-mask",e,t)||await AA("mask-image",e,t)||await AA("-webkit-mask-image",e,t)}async function J5(e,t){const r=Ht(e,HTMLImageElement);if(!(r&&!zf(e.src))&&!(Ht(e,SVGImageElement)&&!zf(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,s=await ip(n,ap(n),t);await new Promise((A,i)=>{e.onload=A,e.onerror=t.onImageErrorHandler?(...l)=>{try{A(t.onImageErrorHandler(...l))}catch(u){i(u)}}:i;const o=e;o.decode&&(o.decode=A),o.loading==="lazy"&&(o.loading="eager"),r?(e.srcset="",e.src=s):e.href.baseVal=s})}async function X5(e,t){const n=Jn(e.childNodes).map(s=>_1(s,t));await Promise.all(n).then(()=>e)}async function _1(e,t){Ht(e,Element)&&(await q5(e,t),await J5(e,t),await X5(e,t))}function Y5(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(s=>{r[s]=n[s]}),e}const Sy={};async function ky(e){let t=Sy[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},Sy[e]=t,t}async function Iy(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,A=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),w1(o,t.fetchRequestInit,({result:l})=>(r=r.replace(i,`url(${l})`),[i,l]))});return Promise.all(A).then(()=>r)}function Ty(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=s.exec(n);if(l===null)break;t.push(l[0])}n=n.replace(s,"");const A=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let l=A.exec(n);if(l===null){if(l=o.exec(n),l===null)break;A.lastIndex=o.lastIndex}else o.lastIndex=A.lastIndex;t.push(l[0])}return t}async function Z5(e,t){const r=[],n=[];return e.forEach(s=>{if("cssRules"in s)try{Jn(s.cssRules||[]).forEach((A,i)=>{if(A.type===CSSRule.IMPORT_RULE){let o=i+1;const l=A.href,u=ky(l).then(c=>Iy(c,t)).then(c=>Ty(c).forEach(d=>{try{s.insertRule(d,d.startsWith("@import")?o+=1:s.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:d,error:h})}})).catch(c=>{console.error("Error loading remote css",c.toString())});n.push(u)}})}catch(A){const i=e.find(o=>o.href==null)||document.styleSheets[0];s.href!=null&&n.push(ky(s.href).then(o=>Iy(o,t)).then(o=>Ty(o).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",A)}}),Promise.all(n).then(()=>(e.forEach(s=>{if("cssRules"in s)try{Jn(s.cssRules||[]).forEach(A=>{r.push(A)})}catch(A){console.error(`Error while reading CSS rules from ${s.href}`,A)}}),r))}function eP(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>B1(t.style.getPropertyValue("src")))}async function tP(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=Jn(e.ownerDocument.styleSheets),n=await Z5(r,t);return eP(n)}function j1(e){return e.trim().replace(/["']/g,"")}function rP(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(A=>{t.add(j1(A))}),Array.from(n.children).forEach(A=>{A instanceof HTMLElement&&r(A)})}return r(e),t}async function nP(e,t){const r=await tP(e,t),n=rP(e);return(await Promise.all(r.filter(A=>n.has(j1(A.style.fontFamily))).map(A=>{const i=A.parentStyleSheet?A.parentStyleSheet.href:null;return C1(A.cssText,i,t)}))).join(`
`)}async function sP(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await nP(e,t);if(r){const n=document.createElement("style"),s=document.createTextNode(r);n.appendChild(s),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function AP(e,t={}){const{width:r,height:n}=y1(e,t),s=await Nu(e,t,!0);return await sP(s,t),await _1(s,t),Y5(s,t),await b5(s,r,n)}async function N1(e,t={}){const{width:r,height:n}=y1(e,t),s=await AP(e,t),A=await Lc(s),i=document.createElement("canvas"),o=i.getContext("2d"),l=t.pixelRatio||y5(),u=t.canvasWidth||r,c=t.canvasHeight||n;return i.width=u*l,i.height=c*l,t.skipAutoScale||w5(i),i.style.width=`${u}`,i.style.height=`${c}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(A,0,0,i.width,i.height),i}async function aP(e,t={}){return(await N1(e,t)).toDataURL()}async function iP(e,t={}){return(await N1(e,t)).toDataURL("image/jpeg",t.quality||1)}const xo=async(e,t,r,n=1200,s=1697)=>{await new Promise(i=>setTimeout(i,500));const A=document.getElementById("receipt-template");if(!A)throw new Error("Receipt template not found");try{const i=await iP(A,{quality:.98,width:n,height:s,style:{transform:"scale(1)",transformOrigin:"top left"},pixelRatio:2,cacheBust:!0}),o=document.createElement("a");o.download=`${e}_${t}_${r.replace(/\//g,"-")}.jpg`,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(i){throw console.error("Error generating JPEG:",i),i}},oP="/assets/UdharReceiptTemplate_11zon-B5Xx526R.jpg",lP="/assets/JamaReceiptTemplate_11zon-lykZRuv_.jpg",As=({challanType:e,challanNumber:t,date:r,clientName:n,clientSortName:s,site:A,phone:i,driverName:o,items:l})=>{const u=p=>p?p.toString():"",c=(p,y)=>({left:`${p}px`,top:`${y}px`}),d={challanNumber:{x:230,y:380},date:{x:880,y:380},clientName:{x:200,y:464},clientSortName:{x:938,y:464},driverId:{x:850,y:1150},site:{x:200,y:514},phone:{x:200,y:560},itemsStart:{x:320,y:700,increment:63.5},borrowedStockStart:{x:550},notesStart:{x:640},grandTotal:{x:320,y:1270},mainNotes:{x:150,y:1534}},h=at.reduce((p,y,w)=>{const g=w+1,f=l==null?void 0:l[`size_${g}_qty`],x=l==null?void 0:l[`size_${g}_borrowed`],b=l==null?void 0:l[`size_${g}_note`],_=(f||0)+(x||0);return{...p,[y]:{pattern:u(_),borrowedStock:u(x),note:b||""}}},{}),m=Object.values(h).map(p=>parseInt(p.pattern)||0).reduce((p,y)=>p+y,0);return a.jsx("div",{className:"flex justify-center bg-gray-100",style:{minHeight:"100vh",padding:"10px"},children:a.jsxs("div",{id:"receipt-template",className:"bg-white",style:{width:"1200px",height:"1697px",position:"relative",boxSizing:"border-box",backgroundImage:`url(${e==="udhar"?oP:lP})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[a.jsx("div",{style:{position:"absolute",...c(d.challanNumber.x,d.challanNumber.y),fontSize:"28px",fontWeight:"720",color:"#000000"},children:t}),a.jsx("div",{style:{position:"absolute",...c(d.date.x,d.date.y),left:`${d.date.x}px`,fontSize:"28px",fontWeight:"720",color:"#000000"},children:r}),a.jsx("div",{style:{position:"absolute",...c(d.clientName.x,d.clientName.y),fontSize:"31px",fontWeight:"720",color:"#000000",maxWidth:"650px"},children:n}),s&&a.jsx("div",{style:{position:"absolute",...c(d.clientSortName.x,d.clientSortName.y),fontSize:"31px",fontWeight:"720",color:"#000000"},children:s}),a.jsx("div",{style:{position:"absolute",...c(d.driverId.x,d.driverId.y),left:`${d.driverId.x}px`,fontSize:"28px",fontWeight:"620",color:"#000000",maxWidth:"250px"},children:o||""}),a.jsx("div",{style:{position:"absolute",...c(d.site.x,d.site.y),fontSize:"31px",fontWeight:"720",color:"#000000",maxWidth:"1000px"},children:A}),a.jsx("div",{style:{position:"absolute",...c(d.phone.x,d.phone.y),fontSize:"31px",fontWeight:"720",color:"#000000"},children:i}),Object.entries(h).map(([p,y],w)=>{const g=d.itemsStart.y+w*d.itemsStart.increment;return a.jsxs(qc.Fragment,{children:[a.jsx("div",{style:{position:"absolute",...c(d.itemsStart.x,g),fontSize:"32px",fontWeight:"750",color:"#000000",textAlign:"center",width:"120px"},children:y.pattern}),y.borrowedStock&&a.jsx("div",{style:{position:"absolute",...c(y.note?d.borrowedStockStart.x-30:d.borrowedStockStart.x,g),fontSize:"28px",fontWeight:"750",color:"#000000",textAlign:"center",width:"120px"},children:y.borrowedStock}),y.note&&a.jsx("div",{style:{position:"absolute",...c(y.borrowedStock?d.notesStart.x-30:d.notesStart.x,g),fontSize:"23px",fontWeight:"700",color:"#666666",textAlign:"left",width:"200px"},children:y.note})]},p)}),a.jsx("div",{style:{position:"absolute",...c(d.grandTotal.x,d.grandTotal.y),fontSize:"34px",fontWeight:"750",color:"#000000",textAlign:"center",width:"120px"},children:m}),a.jsx("div",{style:{position:"absolute",...c(d.grandTotal.x+330,d.mainNotes.y-48),fontSize:"26px",fontWeight:"750",color:"#000000",textAlign:"center",width:"120px"},children:m}),l.main_note&&a.jsx("div",{style:{position:"absolute",...c(d.mainNotes.x,d.mainNotes.y),fontSize:"30px",fontWeight:"600",color:"#000000",maxWidth:"800px"},children:l.main_note})]})})},cP=()=>{const{t:e}=be(),t=ut(),[r,n]=v.useState([]),[s,A]=v.useState(!0),[i,o]=v.useState(new Date),[l,u]=v.useState(null),[c,d]=v.useState(!1),h=()=>{const f=new Date(i);f.setDate(f.getDate()-1),o(f)},m=()=>{const f=new Date(i);f.setDate(f.getDate()+1),o(f)};v.useEffect(()=>{(async()=>{A(!0);try{const x=await m1(i);n(x)}catch(x){console.error("Error loading daily challans:",x)}finally{A(!1)}})()},[i]);const p=f=>{u(f),d(!0)},y=f=>({...f,size_1_note:f.size_1_note||"",size_2_note:f.size_2_note||"",size_3_note:f.size_3_note||"",size_4_note:f.size_4_note||"",size_5_note:f.size_5_note||"",size_6_note:f.size_6_note||"",size_7_note:f.size_7_note||"",size_8_note:f.size_8_note||"",size_9_note:f.size_9_note||"",main_note:f.main_note||""}),w=async f=>{const x=R.loading("Generating JPEG...");try{const b=document.createElement("div");b.style.position="absolute",b.style.left="-9999px",document.body.appendChild(b);const C=(await wn(()=>Promise.resolve().then(()=>og),void 0)).createRoot(b);await new Promise(N=>{C.render(a.jsx(As,{challanType:f.type,challanNumber:f.challanNumber,date:new Date(f.date).toLocaleDateString("en-GB"),clientName:f.clientFullName,clientSortName:f.clientNicName,site:f.site,phone:f.phone,driverName:f.driverName||"",items:y(f.items)})),setTimeout(N,100)}),await xo(f.type,f.challanNumber,new Date(f.date).toLocaleDateString("en-GB")),C.unmount(),document.body.removeChild(b),R.dismiss(x),R.success(e("challanDownloadSuccess"))}catch(b){R.dismiss(x),console.error("Error generating JPEG:",b),R.error(e("challanDownloadError"))}},g=f=>{const x=new Date;return f.getDate()===x.getDate()&&f.getMonth()===x.getMonth()&&f.getFullYear()===x.getFullYear()};return s?a.jsxs("div",{className:"p-3 mb-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 sm:mb-5 lg:p-6 sm:rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-40 h-6 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded animate-pulse"})]}),a.jsx("div",{className:"space-y-3",children:[1,2].map(f=>a.jsxs("div",{className:"p-3 border rounded-lg animate-pulse",children:[a.jsx("div",{className:"w-24 h-5 mb-2 bg-gray-200 rounded"}),a.jsx("div",{className:"w-3/4 h-4 bg-gray-200 rounded"})]},f))})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3 sm:mb-5 lg:mb-8",children:[a.jsxs("div",{className:"flex flex-col gap-2 mb-2.5 sm:flex-row sm:items-center sm:justify-between sm:mb-4 lg:mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between w-full sm:justify-start sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[a.jsx(ns,{className:"w-4 h-4 text-gray-700 sm:w-5 sm:h-5 lg:w-6 lg:h-6"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900 sm:text-xl md:text-2xl",children:g(i)?e("todayActivity")||"Today's Activity":(e("activityOn")||"Activity:")+` ${i.toLocaleDateString()}`})]}),a.jsxs("div",{className:"flex items-center gap-0.5 sm:hidden",children:[a.jsx("input",{type:"date",value:i.toISOString().split("T")[0],onChange:f=>o(new Date(f.target.value)),className:"px-2 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsxs("div",{className:"flex flex-row gap-0.5",children:[a.jsx("button",{onClick:h,className:"p-1 text-gray-600 bg-white border border-gray-300 rounded-l-lg shadow-sm hover:bg-gray-50","aria-label":"Previous day",children:a.jsx(an,{className:"w-3 h-3"})}),a.jsx("button",{onClick:m,className:"p-1 text-gray-600 bg-white border border-gray-300 rounded-r-lg shadow-sm hover:bg-gray-50","aria-label":"Next day",children:a.jsx(Ls,{className:"w-3 h-3"})})]})]})]}),a.jsx("div",{className:"flex items-center justify-between w-full sm:w-auto gap-3",children:a.jsxs("div",{className:"hidden sm:flex sm:items-center sm:gap-0.5",children:[a.jsx("input",{type:"date",value:i.toISOString().split("T")[0],onChange:f=>o(new Date(f.target.value)),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsxs("div",{className:"flex flex-row gap-0.5",children:[a.jsx("button",{onClick:h,className:"p-1 text-gray-600 bg-white border border-gray-300 rounded-l-lg shadow-sm hover:bg-gray-50","aria-label":"Previous day",children:a.jsx(an,{className:"w-4 h-4"})}),a.jsx("button",{onClick:m,className:"p-1 text-gray-600 bg-white border border-gray-300 rounded-r-lg shadow-sm hover:bg-gray-50","aria-label":"Next day",children:a.jsx(Ls,{className:"w-4 h-4"})})]})]})})]}),r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg",children:[a.jsx(ns,{className:"w-12 h-12 mb-3 text-gray-300"}),a.jsx("p",{className:"text-base font-medium text-gray-500",children:e("noActivityFound")||"No activity found based on current active filter"}),!g(i)&&a.jsx("button",{onClick:()=>o(new Date),className:"mt-2 text-xs font-semibold text-blue-600 hover:underline",children:"Show Today"})]}):a.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:r.map(f=>a.jsxs("div",{onClick:()=>f.type==="bill"?t("/bill-book"):p(f),className:`relative overflow-hidden p-3 border shadow-sm rounded-lg transition-all active:scale-[0.98] touch-manipulation cursor-pointer ${f.type==="udhar"?"bg-red-50 border-red-100":f.type==="jama"?"bg-green-50 border-green-100":"bg-blue-50 border-blue-100"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded-md font-bold text-xs text-white shadow-sm ${f.type==="udhar"?"bg-gradient-to-r from-red-600 to-red-500":f.type==="jama"?"bg-gradient-to-r from-green-600 to-green-500":"bg-gradient-to-r from-blue-600 to-blue-500"}`,children:["#",f.challanNumber]}),a.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider ${f.type==="udhar"?"text-red-600":f.type==="jama"?"text-green-600":"text-blue-600"}`,children:f.type==="udhar"?e("udhar"):f.type==="jama"?e("jama"):e("bill")||"Bill"})]}),f.type==="bill"?a.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-bold border bg-white text-blue-700 border-blue-100",children:[a.jsx(Hf,{className:"w-3 h-3"}),"",(f.amount||0).toLocaleString("en-IN")]}):a.jsxs("span",{className:`inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${f.type==="udhar"?"bg-white text-red-700 border-red-100":"bg-white text-green-700 border-green-100"}`,children:[a.jsx(It,{className:"w-3 h-3"}),f.totalItems]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("span",{className:"text-base font-bold text-gray-900 line-clamp-1 flex-1",children:f.clientNicName}),a.jsxs("div",{className:"flex items-center gap-1 text-gray-500 shrink-0 ml-2 pt-1",children:[a.jsx(yt,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs font-medium truncate max-w-[100px]",children:f.site})]})]}),a.jsx("span",{className:"text-xs text-gray-500 line-clamp-1",children:f.clientFullName})]})]},`${f.type}-${f.challanNumber}`))})]}),a.jsx(p1,{challan:l,type:(l==null?void 0:l.type)||"udhar",isOpen:c,onClose:()=>d(!1),onDownload:w})]})},uP=()=>{const{t:e}=be(),[t,r]=v.useState([]),[n,s]=v.useState(!0),[A,i]=v.useState(new Date),[o,l]=v.useState(new Set),[u,c]=v.useState(!1),d=["2 X 3","21 X 3","18 X 3","15 X 3","12 X 3","9 X 3","","2 X 2","2 "],h=b=>d[b-1]||`Size ${b}`,m=()=>{const b=new Date(A);b.setDate(b.getDate()-1),i(b)},p=()=>{const b=new Date(A);b.setDate(b.getDate()+1),i(b)},y=()=>{const b=Array(9).fill(0).map((_,C)=>({size:C+1,udhar:0,jama:0,closing:0}));return t.forEach(_=>{var N,j;const C=_.type==="udhar";for(let F=1;F<=9;F++){const D=(((N=_.items)==null?void 0:N[`size_${F}_qty`])||0)+(((j=_.items)==null?void 0:j[`size_${F}_borrowed`])||0);C?b[F-1].udhar+=D:b[F-1].jama+=D}}),b.forEach(_=>{_.closing=_.jama-_.udhar}),b.filter(_=>_.closing!==0||_.udhar>0||_.jama>0)},w=()=>{let b=0,_=0;return t.forEach(C=>{const N=zl(C.items);C.type==="udhar"?b+=N:_+=N}),{totalUdhar:b,totalJama:_}},g=()=>{try{let b="Type,Challan No,Client Name,Site,Phone,Total Qty,";for(let D=1;D<=9;D++)b+=`${h(D)},`;b+=`
`,t.forEach(D=>{var k,M,$,B;const T=D.type==="udhar",G=T?"UDHAR":"JAMA",I=zl(D.items),K=(D.clientFullName||"").replace(/,/g," "),W=(((k=D.client)==null?void 0:k.site)||"").replace(/,/g," "),ie=(((M=D.client)==null?void 0:M.primary_phone_number)||"").replace(/,/g," ");let te=`${G},${D.challanNumber},"${K}","${W}","${ie}",${T?"+":"-"}${I},`;for(let E=1;E<=9;E++){const S=((($=D.items)==null?void 0:$[`size_${E}_qty`])||0)+(((B=D.items)==null?void 0:B[`size_${E}_borrowed`])||0);te+=`${S},`}b+=te+`
`}),b+=`
`,b+=`SUMMARY
`;const _=w();b+=`Total Udhar,${_.totalUdhar}
`,b+=`Total Jama,${_.totalJama}
`,b+=`Net Change,${_.totalJama-_.totalUdhar}
`;const C=new Blob([b],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),j=URL.createObjectURL(C),F=A.toISOString().split("T")[0];N.setAttribute("href",j),N.setAttribute("download",`journal_${F}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N),R.success("CSV downloaded!")}catch(b){console.error("Error generating CSV:",b),R.error("Failed to download CSV")}};v.useEffect(()=>{(async()=>{s(!0);try{const N=(await m1(A)).filter(j=>j.type==="udhar"||j.type==="jama").sort((j,F)=>j.type==="udhar"&&F.type==="jama"?-1:j.type==="jama"&&F.type==="udhar"?1:0);r(N)}catch(_){console.error("Error loading journal challans:",_)}finally{s(!1)}})()},[A]);const f=b=>{const _=new Set(o);_.has(b)?_.delete(b):_.add(b),l(_)},x=b=>{const _=[];for(let C=1;C<=9;C++){const N=b[`size_${C}_qty`]||0,j=b[`size_${C}_borrowed`]||0,F=N+j;F>0&&_.push({size:C,qty:N,borrowed:j,total:F})}return _};return n?a.jsxs("div",{className:"p-3 mb-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 sm:mb-5 lg:p-6 sm:rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-3 sm:mb-4",children:[a.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded animate-pulse sm:w-6 sm:h-6"}),a.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded animate-pulse"})]}),a.jsx("div",{className:"space-y-2",children:[1,2,3].map(b=>a.jsx("div",{className:"h-12 bg-gray-100 rounded animate-pulse"},b))})]}):a.jsxs("div",{className:"p-3 mb-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 sm:mb-5 lg:p-6 sm:rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3 sm:mb-4 lg:mb-5",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[a.jsx($s,{className:"w-4 h-4 text-gray-700 sm:w-5 sm:h-5 lg:w-6 lg:h-6"}),a.jsx("h2",{className:"text-base font-bold text-gray-900 sm:text-lg lg:text-2xl",children:e("journal")})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[a.jsx("input",{type:"date",value:A.toISOString().split("T")[0],onChange:b=>i(new Date(b.target.value)),className:"px-2 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm sm:px-3 sm:py-1.5 sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsxs("div",{className:"flex flex-row gap-0.5",children:[a.jsx("button",{onClick:m,className:"p-1 text-gray-600 bg-white border border-gray-300 rounded-l-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Previous day",children:a.jsx(an,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),a.jsx("button",{onClick:p,className:"p-1 text-gray-600 bg-white border border-gray-300 rounded-r-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Next day",children:a.jsx(Ls,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]}),t.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg",children:[a.jsx(ns,{className:"w-10 h-10 mb-3 text-gray-300"}),a.jsx("p",{className:"text-sm font-medium text-gray-500",children:e("noJournalEntries")})]}):a.jsx("div",{className:"overflow-x-auto -mx-3 sm:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider sm:px-3 sm:py-3 sm:text-sm",children:e("totalStock")}),a.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider sm:px-3 sm:py-3 sm:text-sm",children:e("challanNumber")}),a.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider sm:px-3 sm:py-3 sm:text-sm",children:e("client")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(b=>{const _=zl(b.items),C=b.type==="udhar",N=`${b.type}-${b.challanNumber}`,j=o.has(N),F=x(b.items);return a.jsxs(qc.Fragment,{children:[a.jsxs("tr",{onClick:()=>f(N),className:`transition-colors cursor-pointer ${C?"bg-red-50 hover:bg-red-100":"bg-green-50 hover:bg-green-100"}`,children:[a.jsx("td",{className:"px-2 py-2 sm:px-3 sm:py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-bold sm:text-sm ${C?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:[C?"+":"-",_]}),j?a.jsx(Ls,{className:"w-4 h-4 text-gray-500"}):a.jsx(an,{className:"w-4 h-4 text-gray-500"})]})}),a.jsx("td",{className:"px-2 py-2 sm:px-3 sm:py-3",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:`text-sm font-bold sm:text-base ${C?"text-red-700":"text-green-700"}`,children:["#",b.challanNumber]}),a.jsx("span",{className:`text-[10px] font-medium uppercase tracking-wide sm:text-xs ${C?"text-red-600":"text-green-600"}`,children:e(C?"udhar":"jama")})]})}),a.jsx("td",{className:"px-2 py-2 sm:px-3 sm:py-3",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-bold text-gray-900 sm:text-base line-clamp-1",children:b.clientNicName}),a.jsx("span",{className:"text-xs text-gray-600 sm:text-sm line-clamp-1",children:b.clientFullName})]})})]}),j&&a.jsx("tr",{className:C?"bg-red-100":"bg-green-100",children:a.jsx("td",{colSpan:3,className:"px-2 py-3 sm:px-4 sm:py-4",children:a.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 lg:grid-cols-4",children:F.map(D=>a.jsxs("div",{className:"p-2 bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-700 sm:text-sm",children:h(D.size)}),a.jsx("span",{className:`text-xs font-bold sm:text-sm ${C?"text-red-600":"text-green-600"}`,children:D.total})]}),D.borrowed>0&&a.jsxs("div",{className:"mt-1 text-[10px] text-gray-500 sm:text-xs",children:[e("mainStock"),": ",D.qty," | ",e("borrowed"),": ",D.borrowed]})]},D.size))})})})]},N)})})]})})}),t.length>0&&a.jsxs("div",{className:"mt-4 space-y-3 sm:mt-6",children:[a.jsxs("div",{className:"overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg border border-gray-200",children:[a.jsxs("button",{onClick:()=>c(!u),className:"flex items-center justify-between w-full p-3 text-left transition-colors hover:bg-gray-100 sm:p-4",children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-800 sm:text-base",children:[" ",e("endOfDayStock")||"End of Day Stock"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:u?e("hide")||"Hide":e("show")||"Show"}),u?a.jsx(Ls,{className:"w-4 h-4 text-gray-600"}):a.jsx(an,{className:"w-4 h-4 text-gray-600"})]})]}),u&&a.jsx("div",{className:"p-3 pt-0 sm:p-4 sm:pt-0",children:a.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4 lg:grid-cols-6",children:y().map(b=>a.jsxs("div",{className:"p-2 bg-white rounded-lg border border-gray-200 shadow-sm sm:p-3",children:[a.jsx("div",{className:"text-xs font-medium text-gray-600 mb-1",children:h(b.size)}),a.jsx("div",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:b.closing}),a.jsxs("div",{className:"mt-1 text-[10px] text-gray-500 sm:text-xs",children:[a.jsxs("span",{className:"text-red-600",children:["-",b.udhar]})," | ",a.jsxs("span",{className:"text-green-600",children:["+",b.jama]})]})]},b.size))})})]}),a.jsxs("div",{className:"sm:hidden",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[a.jsxs("div",{className:"p-2 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"text-[10px] font-medium text-blue-700 mb-0.5",children:[" ",e("finalStock")||"Final"]}),a.jsx("div",{className:"text-xl font-bold text-blue-900",children:w().totalJama-w().totalUdhar})]}),a.jsxs("div",{className:"p-2 bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200",children:[a.jsxs("div",{className:"text-[10px] font-medium text-red-700 mb-0.5",children:[" ",e("udhar")||"Udhar"]}),a.jsx("div",{className:"text-xl font-bold text-red-800",children:w().totalUdhar})]}),a.jsxs("div",{className:"p-2 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"text-[10px] font-medium text-green-700 mb-0.5",children:[" ",e("jama")||"Jama"]}),a.jsx("div",{className:"text-xl font-bold text-green-800",children:w().totalJama})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:g,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-medium rounded-lg shadow-md hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-95 transition-all",children:[a.jsx(lt,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"  "})]})})]}),a.jsxs("div",{className:"hidden sm:flex sm:flex-col sm:gap-3 sm:items-center sm:justify-between lg:flex-row",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1 px-4 py-3 bg-gradient-to-br from-red-50 to-red-100 rounded-lg border-2 border-red-200 sm:flex-none",children:[a.jsxs("div",{className:"text-xs font-medium text-red-700 mb-1 sm:text-sm",children:[" ",e("totalUdhar")||"Total Udhar"]}),a.jsx("div",{className:"text-2xl font-bold text-red-800 sm:text-3xl",children:w().totalUdhar})]}),a.jsxs("div",{className:"flex-1 px-4 py-3 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border-2 border-green-200 sm:flex-none",children:[a.jsxs("div",{className:"text-xs font-medium text-green-700 mb-1 sm:text-sm",children:[" ",e("totalJama")||"Total Jama"]}),a.jsx("div",{className:"text-2xl font-bold text-green-800 sm:text-3xl",children:w().totalJama})]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:g,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-medium rounded-lg shadow-md hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 active:scale-95 transition-all",children:[a.jsx(lt,{className:"w-5 h-5"}),a.jsx("span",{className:"text-base",children:"  "})]})})]})]})]})},dP=()=>{const e=ut(),{t}=be(),[r,n]=v.useState("");v.useEffect(()=>{n(t("greeting"))},[t]);const s=[{title:t("udharChallan"),description:t("create_rental"),icon:lt,path:"/udhar-challan",gradient:"from-red-500 to-red-700",hoverGradient:"hover:from-red-600 hover:to-red-800"},{title:t("jamaChallan"),description:t("record_returns"),icon:G_,path:"/jama-challan",gradient:"from-green-500 to-green-700",hoverGradient:"hover:from-green-600 hover:to-green-800"},{title:t("clientLedger"),description:t("track_balances"),icon:$_,path:"/client-ledger",gradient:"from-indigo-500 to-indigo-700",hoverGradient:"hover:from-indigo-600 hover:to-indigo-800"},{title:t("stockManagement"),description:t("manage_inventory"),icon:It,path:"/stock",gradient:"from-purple-500 to-purple-700",hoverGradient:"hover:from-purple-600 hover:to-purple-800"},{title:t("addClient"),description:t("add_new_clients"),icon:Pr,path:"/clients",gradient:"from-blue-500 to-blue-700",hoverGradient:"hover:from-blue-600 hover:to-blue-800"},{title:t("challanBook"),description:t("view_all_challans"),icon:$s,path:"/challan-book",gradient:"from-teal-500 to-teal-700",hoverGradient:"hover:from-teal-600 hover:to-teal-800"},{title:t("createBill"),description:t("createNewBill"),icon:lt,path:"/billing",gradient:"from-amber-500 to-amber-700",hoverGradient:"hover:from-amber-600 hover:to-amber-800"},{title:t("billBook"),description:t("billingManagement"),icon:$s,path:"/bill-book",gradient:"from-cyan-500 to-cyan-700",hoverGradient:"hover:from-cyan-600 hover:to-cyan-800"}],A=new Date,i=A.getDate(),o=xe(A,"MMM");return a.jsxs("div",{className:"relative flex min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx("style",{children:`
        /* Horizontal 3D Flip Animation for Multiple Pages (Top to Bottom) */
        @keyframes page-flip-horizontal-1 {
          0% {
            transform: perspective(600px) rotateX(0deg);
            z-index: 4;
          }
          25% {
            transform: perspective(600px) rotateX(0deg);
            z-index: 4;
          }
          50% {
            transform: perspective(600px) rotateX(-90deg);
            z-index: 4;
          }
          75% {
            transform: perspective(600px) rotateX(-180deg);
            z-index: 1;
          }
          100% {
            transform: perspective(600px) rotateX(-180deg);
            z-index: 1;
          }
        }

        @keyframes page-flip-horizontal-2 {
          0% {
            transform: perspective(600px) rotateX(0deg) translateZ(-2px);
            z-index: 3;
          }
          35% {
            transform: perspective(600px) rotateX(0deg) translateZ(-2px);
            z-index: 3;
          }
          60% {
            transform: perspective(600px) rotateX(-90deg) translateZ(-2px);
            z-index: 3;
          }
          85% {
            transform: perspective(600px) rotateX(-180deg) translateZ(-2px);
            z-index: 1;
          }
          100% {
            transform: perspective(600px) rotateX(-180deg) translateZ(-2px);
            z-index: 1;
          }
        }

        @keyframes page-flip-horizontal-3 {
          0% {
            transform: perspective(600px) rotateX(0deg) translateZ(-4px);
            z-index: 2;
          }
          45% {
            transform: perspective(600px) rotateX(0deg) translateZ(-4px);
            z-index: 2;
          }
          70% {
            transform: perspective(600px) rotateX(-90deg) translateZ(-4px);
            z-index: 2;
          }
          95% {
            transform: perspective(600px) rotateX(-180deg) translateZ(-4px);
            z-index: 1;
          }
          100% {
            transform: perspective(600px) rotateX(-180deg) translateZ(-4px);
            z-index: 1;
          }
        }

        @keyframes final-reveal-horizontal {
          0% {
            transform: perspective(600px) rotateX(0deg) translateZ(-6px) scale(0.95);
            opacity: 0.8;
          }
          60% {
            transform: perspective(600px) rotateX(0deg) translateZ(-6px) scale(0.95);
            opacity: 0.8;
          }
          100% {
            transform: perspective(600px) rotateX(0deg) translateZ(0px) scale(1);
            opacity: 1;
          }
        }

        .calendar-flip-container {
          position: relative;
          display: inline-block;
          perspective: 1000px;
        }

        .calendar-page-stack {
          position: relative;
          width: fit-content;
          height: fit-content;
          transform-style: preserve-3d;
        }

        .calendar-flip-page {
          position: absolute;
          top: 0;
          left: 0;
          backface-visibility: hidden;
          transform-origin: top center;
          transform-style: preserve-3d;
        }

        .calendar-flip-page-1 {
          animation: page-flip-horizontal-1 3s ease-in-out forwards;
          filter: brightness(1.15) drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
        }

        .calendar-flip-page-2 {
          animation: page-flip-horizontal-2 3s ease-in-out forwards;
          filter: brightness(1.1) drop-shadow(2px 2px 3px rgba(0, 0, 0, 0.15));
        }

        .calendar-flip-page-3 {
          animation: page-flip-horizontal-3 3s ease-in-out forwards;
          filter: brightness(1.05) drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.1));
        }

        .calendar-base-page {
          position: relative;
          animation: final-reveal-horizontal 3s ease-in-out forwards;
          transform-style: preserve-3d;
        }

        /* Calendar Date Card Styling */
        .calendar-date-card {
          background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(240, 248, 255, 0.9));
          border-radius: 6px;
          padding: 4px 6px;
          min-width: 40px;
          text-align: center;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(255, 255, 255, 0.3);
          backdrop-filter: blur(4px);
        }

        .calendar-date-card-mobile {
          min-width: 32px;
          padding: 3px 5px;
          border-radius: 4px;
        }

        .calendar-date-number {
          font-size: 18px;
          font-weight: 700;
          color: #1e40af;
          line-height: 1;
          margin-bottom: 2px;
        }

        .calendar-date-number-mobile {
          font-size: 14px;
          margin-bottom: 1px;
        }

        .calendar-date-month {
          font-size: 9px;
          font-weight: 600;
          color: #3b82f6;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .calendar-date-month-mobile {
          font-size: 7px;
        }

        /* Add page back sides for horizontal flip */
        .calendar-flip-page::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          backface-visibility: hidden;
          transform: rotateX(180deg);
          background: linear-gradient(to bottom, rgba(255, 255, 255, 0.1), rgba(200, 220, 255, 0.3));
        }
      `}),a.jsx(Zt,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",fontSize:"13px",padding:"10px 14px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}}}}),a.jsx(xr,{}),a.jsx("main",{className:"flex-1 w-full ml-0 overflow-auto lg:ml-64 pt-[56px] lg:pt-0",children:a.jsxs("div",{className:"w-full px-3 py-3 mx-auto sm:px-4 sm:py-5 lg:px-8 lg:py-8 max-w-7xl",children:[a.jsxs("div",{className:"relative p-3 mb-3 overflow-visible text-white rounded-lg shadow-lg sm:p-5 sm:mb-5 lg:p-8 lg:mb-8 bg-gradient-to-r from-blue-600 to-indigo-700 sm:rounded-xl lg:rounded-2xl",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 -mt-12 -mr-12 bg-white rounded-full sm:w-40 sm:h-40 lg:w-64 lg:h-64 sm:-mt-20 sm:-mr-20 lg:-mt-32 lg:-mr-32 opacity-5"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 -mb-10 -ml-10 bg-white rounded-full sm:w-32 sm:h-32 lg:w-48 lg:h-48 sm:-mb-16 sm:-ml-16 lg:-mb-24 lg:-ml-24 opacity-5"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"flex items-center gap-1 sm:gap-1.5 mb-1 sm:mb-1.5",children:a.jsxs("p",{className:"text-xs font-medium text-blue-100 sm:text-sm lg:text-base",children:[a.jsx("span",{className:"waving-hand",children:""})," ",r,"!"]})}),a.jsx("h1",{className:"mb-1 sm:mb-1.5 text-xl sm:text-2xl lg:text-4xl font-bold leading-tight",children:t("appName")}),a.jsx("p",{className:"mb-2 text-xs text-blue-100 sm:text-sm lg:text-base sm:mb-0",children:t("Manage_your")}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-2 sm:hidden",children:[a.jsx("div",{className:"calendar-flip-container",children:a.jsxs("div",{className:"calendar-page-stack",children:[a.jsx("div",{className:"calendar-flip-page calendar-flip-page-1",children:a.jsxs("div",{className:"calendar-date-card calendar-date-card-mobile",children:[a.jsx("div",{className:"calendar-date-number calendar-date-number-mobile",children:i-3}),a.jsx("div",{className:"calendar-date-month calendar-date-month-mobile",children:o})]})}),a.jsx("div",{className:"calendar-flip-page calendar-flip-page-2",children:a.jsxs("div",{className:"calendar-date-card calendar-date-card-mobile",children:[a.jsx("div",{className:"calendar-date-number calendar-date-number-mobile",children:i-2}),a.jsx("div",{className:"calendar-date-month calendar-date-month-mobile",children:o})]})}),a.jsx("div",{className:"calendar-flip-page calendar-flip-page-3",children:a.jsxs("div",{className:"calendar-date-card calendar-date-card-mobile",children:[a.jsx("div",{className:"calendar-date-number calendar-date-number-mobile",children:i-1}),a.jsx("div",{className:"calendar-date-month calendar-date-month-mobile",children:o})]})}),a.jsx("div",{className:"calendar-base-page",children:a.jsxs("div",{className:"calendar-date-card calendar-date-card-mobile",children:[a.jsx("div",{className:"calendar-date-number calendar-date-number-mobile",children:i}),a.jsx("div",{className:"calendar-date-month calendar-date-month-mobile",children:o})]})})]})}),a.jsx("p",{className:"text-xs font-medium",children:xe(new Date,"dd MMM yyyy")})]}),a.jsxs("div",{className:"absolute items-center hidden gap-3 overflow-visible top-3 right-3 sm:flex sm:top-4 sm:right-4 lg:top-6 lg:right-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"mb-0.5 text-[10px] sm:text-xs text-blue-100",children:t("Todays_Date")}),a.jsx("p",{className:"text-sm font-semibold sm:text-base lg:text-xl",children:xe(new Date,"dd MMM yyyy")})]}),a.jsx("div",{className:"calendar-flip-container",children:a.jsxs("div",{className:"calendar-page-stack",children:[a.jsx("div",{className:"calendar-flip-page calendar-flip-page-1",children:a.jsxs("div",{className:"calendar-date-card",children:[a.jsx("div",{className:"calendar-date-number",children:i-3}),a.jsx("div",{className:"calendar-date-month",children:o})]})}),a.jsx("div",{className:"calendar-flip-page calendar-flip-page-2",children:a.jsxs("div",{className:"calendar-date-card",children:[a.jsx("div",{className:"calendar-date-number",children:i-2}),a.jsx("div",{className:"calendar-date-month",children:o})]})}),a.jsx("div",{className:"calendar-flip-page calendar-flip-page-3",children:a.jsxs("div",{className:"calendar-date-card",children:[a.jsx("div",{className:"calendar-date-number",children:i-1}),a.jsx("div",{className:"calendar-date-month",children:o})]})}),a.jsx("div",{className:"calendar-base-page",children:a.jsxs("div",{className:"calendar-date-card",children:[a.jsx("div",{className:"calendar-date-number",children:i}),a.jsx("div",{className:"calendar-date-month",children:o})]})})]})})]})]})]}),a.jsxs("div",{className:"mb-3 sm:mb-5 lg:mb-8",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-2.5 sm:mb-4 lg:mb-6",children:[a.jsx(Dd,{className:"w-4 h-4 text-gray-700 sm:w-5 sm:h-5 lg:w-6 lg:h-6"}),a.jsx("h2",{className:"text-base font-bold text-gray-900 sm:text-lg lg:text-2xl",children:t("Quick_Actions")})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 lg:grid-cols-3 lg:gap-5",children:s.map(l=>a.jsxs("button",{onClick:()=>e(l.path),className:`group relative overflow-hidden bg-gradient-to-br ${l.gradient} ${l.hoverGradient} rounded-lg sm:rounded-xl shadow-md sm:shadow-lg p-3 sm:p-4 lg:p-5 text-white transition-all transform active:scale-[0.97] sm:hover:scale-105 hover:shadow-2xl touch-manipulation`,children:[a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 transition-transform bg-white rounded-bl-full sm:w-24 sm:h-24 lg:w-28 lg:h-28 opacity-10 group-hover:scale-110"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[a.jsx("div",{className:"p-1.5 sm:p-2 lg:p-2.5 bg-white rounded-md sm:rounded-lg bg-opacity-20 backdrop-blur-sm",children:a.jsx(l.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7"})}),a.jsx(Uc,{className:"hidden w-4 h-4 transition-opacity opacity-0 sm:block sm:w-4 sm:h-4 lg:w-5 lg:h-5 group-hover:opacity-100"})]}),a.jsx("h3",{className:"mb-1 text-sm font-bold leading-tight sm:text-base lg:text-lg",children:l.title}),a.jsx("p",{className:"text-[10px] sm:text-xs text-white text-opacity-90 leading-snug line-clamp-1 sm:line-clamp-none",children:l.description})]})]},l.path))})]}),a.jsx(cP,{}),a.jsx(uP,{}),a.jsxs("div",{className:"hidden p-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:block sm:p-4 lg:p-6 sm:rounded-xl",children:[a.jsx("div",{className:"flex flex-col items-start justify-between gap-2 mb-3 sm:flex-row sm:items-center sm:gap-0 sm:mb-5",children:a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[a.jsx(Dd,{className:"w-4 h-4 text-gray-700 sm:w-5 sm:h-5 lg:w-6 lg:h-6"}),a.jsx("h2",{className:"text-base font-bold text-gray-900 sm:text-lg lg:text-2xl",children:t("recentActivity")})]})}),a.jsxs("div",{className:"py-6 text-center sm:py-8 lg:py-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 mb-2 bg-gray-100 rounded-full sm:w-12 sm:h-12 sm:mb-3 lg:w-16 lg:h-16 lg:mb-4",children:a.jsx(Dd,{className:"w-5 h-5 text-gray-400 sm:w-6 sm:h-6 lg:w-8 lg:h-8"})}),a.jsx("p",{className:"mb-3 text-xs text-gray-500 sm:text-sm sm:mb-4",children:t("recentChallansAppear")}),a.jsxs("div",{className:"flex flex-col justify-center gap-2 sm:flex-row sm:gap-2.5",children:[a.jsx("button",{onClick:()=>e("/udhar-challan"),className:"w-full px-3 py-2 text-xs font-medium text-white transition-all bg-red-600 rounded-lg sm:w-auto sm:text-sm sm:px-4 hover:bg-red-700 touch-manipulation active:scale-95",children:t("createUdhar")}),a.jsx("button",{onClick:()=>e("/jama-challan"),className:"w-full px-3 py-2 text-xs font-medium text-white transition-all bg-green-600 rounded-lg sm:w-auto sm:text-sm sm:px-4 hover:bg-green-700 touch-manipulation active:scale-95",children:t("createJama")})]})]})]})]})})]})},Yi=({initialData:e,onSubmit:t,onCancel:r,isQuickAdd:n=!1})=>{const{t:s}=be(),[A,i]=v.useState({client_nic_name:"",client_name:"",site:"",primary_phone_number:"",daily_rent_price:1}),[o,l]=v.useState({}),[u,c]=v.useState(!1);v.useEffect(()=>{e&&i(e)},[e]);const d=()=>{const m={};return(!A.client_nic_name||A.client_nic_name.length<2||A.client_nic_name.length>50)&&(m.client_nic_name=s("requiredField")),(!A.client_name||A.client_name.length<3||A.client_name.length>100)&&(m.client_name=s("requiredField")),(!A.site||A.site.length<2||A.site.length>100)&&(m.site=s("requiredField")),(!A.primary_phone_number||A.primary_phone_number.length>50)&&(m.primary_phone_number=s("requiredField")),l(m),Object.keys(m).length===0},h=async m=>{if(m.preventDefault(),!!d()){c(!0);try{await t(A),i({client_nic_name:"",client_name:"",site:"",primary_phone_number:"",daily_rent_price:1}),l({})}finally{c(!1)}}};return a.jsxs("form",{onSubmit:h,className:`space-y-4 ${n?"p-4 bg-blue-50 rounded-lg":""}`,children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:[s("clientNicName")," *"]}),a.jsx("input",{type:"text",value:A.client_nic_name,onChange:m=>i({...A,client_nic_name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",minLength:2,maxLength:50}),o.client_nic_name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.client_nic_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:s("dailyRentPrice")}),a.jsx("input",{type:"number",value:A.daily_rent_price??1,onChange:m=>i({...A,daily_rent_price:parseFloat(m.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:0,step:.1})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:[s("clientName")," *"]}),a.jsx("input",{type:"text",value:A.client_name,onChange:m=>i({...A,client_name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",minLength:3,maxLength:100}),o.client_name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.client_name})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:[s("site")," *"]}),a.jsx("input",{type:"text",value:A.site,onChange:m=>i({...A,site:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",minLength:2,maxLength:100}),o.site&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.site})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:[s("primaryPhone")," *"]}),a.jsx("input",{type:"text",value:A.primary_phone_number,onChange:m=>i({...A,primary_phone_number:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:50}),o.primary_phone_number&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.primary_phone_number})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 font-medium min-h-[44px]",children:s("save")}),r&&a.jsx("button",{type:"button",onClick:r,className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium min-h-[44px]",children:s("cancel")})]})]})},hP=({clients:e,onEdit:t,onDelete:r})=>{const{t:n}=be(),s=ut(),A=qc.useCallback((l,u)=>{window.confirm(`Delete "${u}"?`)&&r(l)},[r]),i=l=>{s("/udhar-challan",{state:{preselectedClient:{id:l.id,nicName:l.client_nic_name,fullName:l.client_name,site:l.site,phone:l.primary_phone_number}}})},o=l=>{s("/jama-challan",{state:{preselectedClient:{id:l.id,nicName:l.client_nic_name,fullName:l.client_name,site:l.site,phone:l.primary_phone_number}}})};return a.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.length===0?a.jsx("p",{className:"py-6 text-xs text-center text-gray-500 sm:py-8 sm:text-sm",children:n("noClients")||"No clients found"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto lg:block",children:a.jsxs("table",{className:"w-full overflow-hidden bg-white border-collapse rounded-lg shadow",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-sm font-semibold text-left text-gray-700",children:n("clientNicName")}),a.jsx("th",{className:"px-4 py-3 text-sm font-semibold text-left text-gray-700",children:n("clientName")}),a.jsx("th",{className:"px-4 py-3 text-sm font-semibold text-left text-gray-700",children:n("site")}),a.jsx("th",{className:"px-4 py-3 text-sm font-semibold text-left text-gray-700",children:n("primaryPhone")}),a.jsx("th",{className:"px-4 py-3 text-sm font-semibold text-left text-gray-700",children:n("actions")})]})}),a.jsx("tbody",{children:e.map(l=>a.jsxs("tr",{className:"border-t border-gray-200 hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:l.client_nic_name}),a.jsx("td",{className:"px-4 py-3 text-sm",children:l.client_name}),a.jsx("td",{className:"px-4 py-3 text-sm",children:l.site}),a.jsx("td",{className:"px-4 py-3 text-sm",children:l.primary_phone_number}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>i(l),className:"px-2 py-1.5 text-xs font-medium text-white transition-colors bg-red-500 rounded hover:bg-red-600 flex items-center gap-1",title:"Create Udhar",children:[a.jsx(Ur,{size:14}),"Udhar"]}),a.jsxs("button",{onClick:()=>o(l),className:"px-2 py-1.5 text-xs font-medium text-white transition-colors bg-green-500 rounded hover:bg-green-600 flex items-center gap-1",title:"Create Jama",children:[a.jsx("span",{className:"flex items-center justify-center w-3.5 h-3.5 text-lg font-bold leading-none",children:"-"}),"Jama"]}),a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),a.jsx("button",{onClick:()=>t(l),className:"p-2 text-blue-600 transition-colors rounded hover:bg-blue-50 touch-manipulation active:scale-95",title:n("edit"),children:a.jsx(Sc,{size:18})}),a.jsx("button",{onClick:()=>A(l.id,l.client_nic_name),className:"p-2 text-red-600 transition-colors rounded hover:bg-red-50 touch-manipulation active:scale-95",title:n("delete"),children:a.jsx(on,{size:18})})]})})]},l.id))})]})}),a.jsx("div",{className:"space-y-2 lg:hidden",children:e.map(l=>a.jsxs("div",{className:"p-2.5 sm:p-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:rounded-xl hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate sm:text-base",children:l.client_nic_name}),a.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 truncate",children:l.client_name})]}),a.jsxs("div",{className:"flex flex-shrink-0 gap-1",children:[a.jsx("button",{onClick:()=>i(l),className:"p-1.5 text-[10px] font-medium text-white bg-red-300 hover:bg-red-600 rounded-md transition-colors touch-manipulation active:scale-95 flex items-center justify-center w-7 h-7","aria-label":"Create Udhar",children:a.jsx(Ur,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>o(l),className:"p-1.5 text-[10px] font-medium text-white bg-green-300 hover:bg-green-600 rounded-md transition-colors touch-manipulation active:scale-95 flex items-center justify-center w-7 h-7","aria-label":"Create Jama",children:a.jsx("span",{className:"text-base font-bold leading-none",children:""})}),a.jsx("div",{className:"w-px h-6 bg-gray-200 mx-0.5"}),a.jsx("button",{onClick:()=>t(l),className:"p-1.5 sm:p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-md transition-colors touch-manipulation active:scale-95","aria-label":"Edit",children:a.jsx(Sc,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),a.jsx("button",{onClick:()=>A(l.id,l.client_nic_name),className:"p-1.5 sm:p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-md transition-colors touch-manipulation active:scale-95","aria-label":"Delete",children:a.jsx(on,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-[10px] sm:text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-1",children:[a.jsx(yt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 flex-shrink-0 text-gray-400"}),a.jsx("span",{className:"truncate",children:l.site})]}),a.jsxs("a",{href:`tel:${l.primary_phone_number}`,className:"flex items-center flex-shrink-0 gap-1 text-blue-600 hover:text-blue-700 touch-manipulation active:scale-95",children:[a.jsx(hr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"font-medium",children:l.primary_phone_number})]})]})]},l.id))})]})})},Dy=(e,t)=>{const r=A=>{const i=A.match(/^(\d+)([a-zA-Z]*)$/);return i?{num:parseInt(i[1]),suffix:i[2].toLowerCase()}:{num:0,suffix:A.toLowerCase()}},n=r(e.trim()),s=r(t.trim());return n.num>0&&s.num>0?n.num!==s.num?n.num-s.num:n.suffix.localeCompare(s.suffix):n.num>0&&s.num===0?-1:n.num===0&&s.num>0?1:e.toLowerCase().localeCompare(t.toLowerCase())},fP=()=>{const{t:e}=be(),[t,r]=v.useState([]),[n,s]=v.useState(void 0),[A,i]=v.useState(!1),[o,l]=v.useState(!0),[u,c]=v.useState(!1),[d,h]=v.useState(""),[m,p]=v.useState(1),[y,w]=v.useState(!0),[g,f]=v.useState([]),[x,b]=v.useState("nameAZ"),[_,C]=v.useState(!1),N=10,j=async k=>{const M=k.currentTarget,$=M.scrollHeight-M.scrollTop<=M.clientHeight*1.5;if(!u&&y&&$){c(!0);try{const B=d?g.filter(Q=>{const H=d.toLowerCase();return Q.client_nic_name.toLowerCase().includes(H)||Q.client_name.toLowerCase().includes(H)||Q.site.toLowerCase().includes(H)}):g,E=m*N,S=B.slice(E,E+N);S.length>0?(r(Q=>[...Q,...S]),p(Q=>Q+1),w(E+N<B.length)):w(!1)}catch(B){console.error("Error loading more clients:",B),R.error("Failed to load more clients")}finally{c(!1)}}};v.useEffect(()=>{D()},[]),v.useEffect(()=>{D()},[x]),v.useEffect(()=>{if(p(1),d){const k=g.filter(M=>{const $=d.toLowerCase();return M.client_nic_name.toLowerCase().includes($)||M.client_name.toLowerCase().includes($)||M.site.toLowerCase().includes($)});r(k.slice(0,N)),w(k.length>N)}else r(g.slice(0,N)),w(g.length>N)},[d,g]);const F=k=>{switch(k){case"nameAZ":return e("nameAZ")||"Name (A to Z)";case"nameZA":return e("nameZA")||"Name (Z to A)";default:return""}};v.useEffect(()=>{const k=M=>{M.target.closest(".sort-menu-container")||C(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const D=async()=>{l(!0);try{const{data:k,error:M}=await X.from("clients").select("*");if(M){console.error("Error fetching clients:",M),R.error(e("failedToLoad"));return}const $=[...k||[]].sort((E,S)=>{const Q=Dy(E.client_nic_name.toString(),S.client_nic_name.toString());return x==="nameAZ"?Q:-Q});f($);const B=$.slice(0,N);r(B),p(1),w($.length>N)}catch(k){console.error("Error fetching clients:",k),R.error(e("failedToLoad"))}finally{l(!1)}},T=async k=>{const M=R.loading(n!=null&&n.id?"Updating client...":"Creating client...");if(n!=null&&n.id){if(k.client_nic_name!==n.client_nic_name){const{data:B}=await X.from("clients").select("id").eq("client_nic_name",k.client_nic_name).single();if(B){R.dismiss(M),R.error("A client with this sort name already exists");return}}const{error:$}=await X.from("clients").update({client_nic_name:k.client_nic_name,client_name:k.client_name,site:k.site,primary_phone_number:k.primary_phone_number,daily_rent_price:k.daily_rent_price??1,updated_at:new Date().toISOString()}).eq("id",n.id);R.dismiss(M),$?(console.error("Error updating client:",$),R.error(e("failedToUpdate"))):(R.success(e("clientUpdated")),s(void 0),i(!1),D())}else{const{data:$}=await X.from("clients").select("id").eq("client_nic_name",k.client_nic_name).single();if($){R.dismiss(M),R.error("A client with this sort name already exists");return}const{error:B}=await X.from("clients").insert({client_nic_name:k.client_nic_name,client_name:k.client_name,site:k.site,primary_phone_number:k.primary_phone_number,daily_rent_price:k.daily_rent_price??1});R.dismiss(M),B?(console.error("Error creating client:",B),R.error("Failed to create client")):(R.success("Client created successfully"),i(!1),D())}},G=k=>{s(k),i(!0),window.scrollTo({top:0,behavior:"smooth"})},I=k=>new Promise(M=>{const $=R(()=>a.jsxs("div",{className:"max-w-sm",children:[a.jsx("div",{className:"mb-2 font-medium",children:e("deleteConfirm")}),k&&a.jsxs("div",{className:"mb-3 text-sm truncate",children:['"',k,'"']}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{R.dismiss(String($)),M(!1)},className:"px-3 py-1 text-sm text-gray-700 bg-gray-100 rounded-lg",children:e("cancel")}),a.jsx("button",{onClick:()=>{R.dismiss(String($)),M(!0)},className:"px-3 py-1 text-sm text-white bg-red-600 rounded-lg",children:e("delete")})]})]}),{duration:1/0})}),K=async k=>{const M=t.find(S=>S.id===k);if(!await I(M==null?void 0:M.client_nic_name))return;const B=R.loading(e("deletingClient")||"Deleting client..."),{error:E}=await X.from("clients").delete().eq("id",k);R.dismiss(B),E?(console.error("Error deleting client:",E),R.error(e("failedToDelete"))):(R.success(e("clientDeleted")),D())},W=()=>{s(void 0),i(!1)},ie=v.useMemo(()=>{const M=[...d?g.filter(E=>{var U;const S=d.toLowerCase().trim(),Q=parseInt(S);if(!isNaN(Q)){const V=(U=E.client_nic_name)==null?void 0:U.match(/^(\d+)/);if(V&&parseInt(V[1])===Q)return!0}return(E.client_nic_name||"").toLowerCase().includes(S)||(E.client_name||"").toLowerCase().includes(S)||(E.site||"").toLowerCase().includes(S)}):g].sort((E,S)=>{const Q=Dy((E.client_nic_name||"").toString(),(S.client_nic_name||"").toString());return x==="nameAZ"?Q:-Q}),$=0,B=m*N;return M.slice($,B)},[g,d,m,x]),te=()=>a.jsx("div",{className:"p-2 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-3 lg:p-4 animate-pulse",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"w-20 h-3 mb-1.5 bg-gray-200 rounded sm:w-24 sm:h-4 sm:mb-2"}),a.jsx("div",{className:"w-24 h-2.5 bg-gray-200 rounded sm:w-32 sm:h-3"})]}),a.jsx("div",{className:"w-12 h-5 bg-gray-200 rounded sm:w-16 sm:h-6"})]})});return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Zt,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",fontSize:"13px",padding:"10px 14px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),a.jsx(xr,{}),a.jsxs("main",{className:"flex-1 w-full ml-0 overflow-y-auto pt-14 sm:pt-0 lg:ml-64 h-[100dvh]",onScroll:j,children:[a.jsxs("div",{className:"w-full px-4 py-6 mx-auto lg:px-8 lg:py-8 max-w-7xl",style:{backgroundColor:"#f9fafb"},children:[a.jsx("div",{className:"hidden mb-4 sm:block sm:mb-6 lg:mb-8",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 lg:text-3xl",children:e("clients")}),a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:e("search")})]}),a.jsxs("button",{onClick:()=>i(!0),className:"items-center hidden gap-2 btn-primary lg:inline-flex",style:{minHeight:"40px"},children:[a.jsx(Pr,{size:20}),e("addNewClient")]})]})}),a.jsx("div",{className:"relative mb-4",children:a.jsxs("div",{className:"relative flex items-center w-full",children:[a.jsx(ds,{className:"absolute w-4 h-4 text-gray-400 left-3"}),a.jsx("input",{type:"text",placeholder:e("searchClients"),value:d,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-28 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsxs("div",{className:"absolute flex items-center gap-2 right-2",children:[d&&a.jsx("button",{onClick:()=>h(""),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx("div",{className:"flex items-center justify-center w-4 h-4",children:""})}),a.jsxs("div",{className:"relative sort-menu-container",children:[a.jsxs("button",{onClick:()=>C(k=>!k),className:"flex items-center gap-1.5 px-2 py-1.5 text-xs text-gray-600 rounded-md",children:[a.jsx(bu,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:F(x)})]}),_&&a.jsx("div",{className:"absolute right-0 z-10 w-40 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",children:["nameAZ","nameZA"].map(k=>a.jsx("button",{onClick:()=>{b(k),C(!1)},className:`w-full px-4 py-2 text-xs text-left transition-colors hover:bg-gray-50 ${x===k?"text-blue-600 bg-blue-50":"text-gray-700"}`,children:F(k)},k))})]})]})]})}),a.jsxs("div",{className:"hidden p-4 mb-6 bg-white border border-gray-200 shadow-sm lg:block lg:p-6 lg:mb-8 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${n?"bg-yellow-100":"bg-blue-100"}`,children:a.jsx(Pr,{size:20,className:n?"text-yellow-600":"text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e(n?"editClient":"addNewClient")}),a.jsx("p",{className:"text-sm text-gray-500",children:e(n?"editClient":"addNewClient")})]})]}),!A&&a.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm shadow-sm hover:shadow-md",children:[a.jsx(Pr,{size:18}),e("addNewClient")]})]}),A?a.jsx("div",{className:"pt-6 border-t border-gray-200",children:a.jsx(Yi,{initialData:n,onSubmit:T,onCancel:W})}):a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-4 bg-gray-100 rounded-full",children:a.jsx(Pr,{size:32,className:"text-gray-400"})}),a.jsx("p",{className:"text-sm text-gray-500",children:e("clickToAdd")})]})]}),a.jsxs("div",{className:"p-2 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-3 lg:p-6 sm:rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-3 sm:gap-2 sm:mb-4 lg:mb-6",children:[a.jsx("div",{className:"p-1 sm:p-1.5 lg:p-2 bg-blue-100 rounded sm:rounded-md lg:rounded-lg",children:a.jsx(Gi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 sm:text-base lg:text-xl",children:e("clientList")}),a.jsxs("p",{className:"text-[9px] sm:text-[10px] lg:text-sm text-gray-500 leading-tight",children:[t.length," client",t.length!==1?"s":""]})]})]}),o?a.jsxs("div",{className:"space-y-1.5 sm:space-y-2 lg:space-y-4",children:[a.jsx(te,{}),a.jsx(te,{}),a.jsx(te,{}),a.jsx(te,{})]}):t.length===0?a.jsxs("div",{className:"py-6 text-center sm:py-8 lg:py-16",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 mb-2 bg-gray-100 rounded-full sm:w-12 sm:h-12 sm:mb-3 lg:w-16 lg:h-16 lg:mb-4",children:a.jsx(Gi,{className:"w-5 h-5 text-gray-400 sm:w-6 sm:h-6 lg:w-8 lg:h-8"})}),a.jsx("h3",{className:"mb-1.5 text-sm font-semibold text-gray-900 sm:text-base sm:mb-2 lg:text-lg",children:e("noClientsYet")}),a.jsx("p",{className:"mb-3 text-[10px] sm:text-xs text-gray-500 sm:mb-4 lg:text-sm lg:mb-6",children:e("getStartedByAdding")}),a.jsxs("button",{onClick:()=>i(!0),className:"hidden lg:inline-flex items-center gap-2 px-5 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 shadow-sm hover:shadow-md",children:[a.jsx(Pr,{size:18}),e("addYourFirstClient")]})]}):a.jsx(hP,{clients:ie,onEdit:G,onDelete:K})]})]}),a.jsx("button",{onClick:()=>{i(!0),s(void 0),window.scrollTo({top:0,behavior:"smooth"})},className:"fixed z-50 flex items-center justify-center transition-all shadow-lg lg:hidden bottom-6 right-4 w-14 h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl hover:shadow-2xl active:scale-90 touch-manipulation","aria-label":"Add new client",children:a.jsx(Ur,{className:"text-white w-7 h-7",strokeWidth:2.5})}),A&&a.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:W}),a.jsxs("div",{className:"absolute inset-x-0 bottom-0 overflow-y-auto bg-white rounded-t-2xl max-h-[90vh] animate-slide-up",children:[a.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-4 bg-white border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-lg ${n?"bg-yellow-100":"bg-blue-100"}`,children:a.jsx(Pr,{className:`w-5 h-5 ${n?"text-yellow-600":"text-blue-600"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900",children:e(n?"editClient":"addNewClient")}),a.jsx("p",{className:"text-[10px] text-gray-500",children:e(n?"editClient":"addNewClient")})]})]}),a.jsx("button",{onClick:W,className:"p-2 text-gray-400 transition-colors rounded-lg hover:bg-gray-100 hover:text-gray-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4",children:a.jsx(Yi,{initialData:n,onSubmit:T,onCancel:W})})]})]})]}),a.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
          }
          to {
            transform: translateY(0);
          }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
      `})]})},Pn=(e,t)=>{const r=A=>{const i=A.match(/^(\d+)([a-zA-Z]*)$/);return i?{num:parseInt(i[1]),suffix:i[2].toLowerCase()}:{num:0,suffix:A.toLowerCase()}},n=r(e.trim()),s=r(t.trim());return n.num>0&&s.num>0?n.num!==s.num?n.num-s.num:n.suffix.localeCompare(s.suffix):n.num>0?-1:s.num>0?1:n.suffix.localeCompare(s.suffix)},mP=({clients:e,onClientSelect:t,onAddNewClick:r,searchQuery:n,onSearchChange:s,isFormOpen:A=!1})=>{const{t:i}=be(),o=e.filter(l=>{var h;const u=n.toLowerCase().trim(),c=parseInt(u);if(!isNaN(c)){const m=(h=l.client_nic_name)==null?void 0:h.match(/^(\d+)/);if(m&&parseInt(m[1])===c)return!0}return(l.client_nic_name||"").toLowerCase().includes(u)||(l.client_name||"").toLowerCase().includes(u)||(l.site||"").toLowerCase().includes(u)||(l.primary_phone_number||"").includes(n)}).sort((l,u)=>{const c=n.toLowerCase().trim();if(!c)return Pn(l.client_nic_name||"",u.client_nic_name||"");const d=(l.client_nic_name||"").toLowerCase(),h=(u.client_nic_name||"").toLowerCase(),m=b=>{const _=b.match(/^(\d+)/);return _?_[1]:""},p=m(d),y=m(h),w=p===c,g=y===c;if(w&&!g)return-1;if(g&&!w)return 1;const f=d.startsWith(c),x=h.startsWith(c);return f&&!x?-1:x&&!f?1:Pn(l.client_nic_name||"",u.client_nic_name||"")});return a.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"items-center justify-between hidden p-4 mb-4 bg-white border border-gray-200 sm:flex rounded-xl",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 lg:text-xl",children:i("selectClient")}),a.jsx("p",{className:"mt-0.5 text-xs text-gray-500 lg:text-sm",children:"Choose client for udhar challan"})]}),a.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors shadow-sm hover:shadow-md touch-manipulation active:scale-95",children:[a.jsx(Pr,{className:"w-4.5 h-4.5"}),i("addNewClient")]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute text-gray-400 transform -translate-y-1/2 left-2.5 sm:left-3 top-1/2 w-4 h-4 sm:w-4.5 sm:h-4.5"}),a.jsx("input",{type:"text",value:n,onChange:l=>s(l.target.value),placeholder:i("searchClients")||"Search clients...",className:"w-full py-2 sm:py-2.5 lg:py-3 pl-8 sm:pl-10 pr-3 sm:pr-4 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs sm:text-sm"})]}),n&&a.jsx("div",{className:"px-3 py-1.5 sm:px-4 sm:py-2 border border-blue-200 rounded-lg bg-blue-50",children:a.jsxs("p",{className:"text-[10px] sm:text-xs lg:text-sm text-blue-700",children:["Found ",a.jsx("span",{className:"font-semibold",children:o.length})," client",o.length!==1?"s":""]})}),o.length===0?a.jsxs("div",{className:"p-8 text-center bg-white border border-gray-200 rounded-lg shadow-sm sm:p-12 lg:p-16 sm:rounded-xl",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-3 bg-gray-100 rounded-full sm:w-14 sm:h-14 sm:mb-4 lg:w-16 lg:h-16",children:a.jsx(qt,{className:"w-6 h-6 text-gray-400 sm:w-7 sm:h-7 lg:w-8 lg:h-8"})}),a.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-900 sm:text-base lg:text-lg",children:"No clients found"}),a.jsx("p",{className:"mb-3 text-[10px] sm:text-xs lg:text-sm text-gray-500 sm:mb-4",children:n?"Try adjusting your search":"Add your first client"}),a.jsx("button",{onClick:n?()=>s(""):r,className:"px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium text-blue-600 transition-colors rounded-lg hover:text-blue-700 hover:bg-blue-50 touch-manipulation active:scale-95",children:n?"Clear search":"Add New Client"})]}):a.jsx("div",{className:"grid grid-cols-1 gap-2 sm:gap-3 md:grid-cols-2 lg:grid-cols-3 lg:gap-4",children:o.map(l=>a.jsxs("button",{onClick:()=>l.id&&t(l.id),className:"p-3 text-left transition-all bg-white border border-gray-200 shadow-sm sm:p-4 lg:p-5 group rounded-lg sm:rounded-xl hover:shadow-md hover:border-blue-500 touch-manipulation active:scale-[0.98]",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:gap-3 sm:mb-3",children:[a.jsx("div",{className:"p-1.5 sm:p-2 transition-colors bg-blue-100 rounded-md sm:rounded-lg group-hover:bg-blue-200",children:a.jsx(qt,{className:"w-4 h-4 text-blue-600 sm:w-5 sm:h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate transition-colors sm:text-base lg:text-lg group-hover:text-blue-600",children:l.client_nic_name}),a.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-600 truncate",children:l.client_name})]}),a.jsx(go,{className:"flex-shrink-0 w-4 h-4 text-gray-400 transition-transform sm:w-5 sm:h-5 group-hover:translate-x-1"})]}),a.jsx("div",{className:"pt-2 mt-2 border-t border-gray-100 sm:pt-3 sm:mt-3",children:a.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs lg:text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(yt,{className:"flex-shrink-0 w-3 h-3 text-gray-400 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:l.site})]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hr,{className:"flex-shrink-0 w-3 h-3 text-gray-400 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:l.primary_phone_number})]})]})})]},l.id))}),!A&&a.jsx("button",{onClick:r,className:"fixed z-50 flex items-center justify-center transition-all shadow-lg sm:hidden bottom-6 right-4 w-14 h-14 bg-gradient-to-br from-green-600 to-green-700 rounded-2xl hover:shadow-2xl active:scale-90 touch-manipulation","aria-label":"Add new client",children:a.jsx(Ur,{className:"text-white w-7 h-7",strokeWidth:2.5})})]})},gP=({selectedClient:e,onBack:t,onSave:r,challanNumber:n,setChallanNumber:s,date:A,setDate:i,driverName:o,setDriverName:l,previousDrivers:u,previousDriversVisible:c,setPreviousDriversVisible:d,alternativeSite:h,setAlternativeSite:m,secondaryPhone:p,setSecondaryPhone:y,items:w,setItems:g,errors:f,showSuccess:x,hideExtraColumns:b,setHideExtraColumns:_,stockData:C})=>{const{t:N}=be(),j=ut();return a.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"relative p-3 overflow-hidden border border-blue-200 rounded-lg shadow-sm sm:p-4 lg:p-6 bg-gradient-to-br from-blue-50 to-indigo-50 sm:rounded-xl",children:[a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-blue-100 rounded-bl-full opacity-30 sm:w-24 sm:h-24 lg:w-32 lg:h-32"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-start gap-2 sm:hidden",children:[a.jsx("div",{className:"p-2 bg-blue-600 rounded-md",children:a.jsx(qt,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 truncate",children:e.client_nic_name}),a.jsx("p",{className:"text-xs text-gray-700 truncate",children:e.client_name}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(yt,{className:"flex-shrink-0 w-3 h-3 text-blue-600"}),a.jsx("span",{className:"truncate",children:e.site})]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hr,{className:"flex-shrink-0 w-3 h-3 text-blue-600"}),a.jsx("span",{className:"truncate",children:e.primary_phone_number})]})]})]}),a.jsx("button",{onClick:t,className:"flex-shrink-0 p-2 text-gray-600 transition-colors rounded-md hover:text-gray-900 hover:bg-gray-100 touch-manipulation active:scale-95",children:a.jsx(An,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"items-start hidden gap-2 sm:flex lg:gap-4",children:[a.jsx("button",{onClick:t,className:"flex-shrink-0 p-2 text-gray-600 transition-colors rounded-md sm:p-2.5 lg:p-3 sm:rounded-lg hover:text-gray-900 hover:bg-gray-100 touch-manipulation active:scale-95",children:a.jsx(An,{className:"w-5 h-5 sm:w-5 sm:h-5 lg:w-5 lg:h-5"})}),a.jsx("div",{className:"p-2 bg-blue-600 rounded-md sm:p-2.5 lg:p-3 sm:rounded-lg",children:a.jsx(qt,{className:"w-5 h-5 text-white sm:w-6 sm:h-6 lg:w-7 lg:h-7"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate sm:text-base lg:text-lg",children:e.client_nic_name}),a.jsx("p",{className:"text-xs text-gray-700 truncate sm:text-xs lg:text-sm",children:e.client_name}),a.jsxs("div",{className:"grid grid-cols-1 gap-1 mt-2 sm:grid-cols-2 sm:gap-2 lg:mt-3",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-xs lg:text-sm text-gray-600",children:[a.jsx(yt,{className:"flex-shrink-0 w-3 h-3 text-blue-600 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:e.site})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-xs lg:text-sm text-gray-600",children:[a.jsx(hr,{className:"flex-shrink-0 w-3 h-3 text-blue-600 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:e.primary_phone_number})]})]})]})]})]})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[a.jsxs("details",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 lg:p-6 sm:rounded-xl group",children:[a.jsxs("summary",{className:"flex items-center justify-between cursor-pointer list-none touch-manipulation active:scale-[0.99]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 sm:p-2 bg-yellow-100 rounded-md sm:rounded-lg",children:a.jsx(lt,{className:"w-4 h-4 text-yellow-600 sm:w-4.5 sm:h-4.5 lg:w-5 lg:h-5"})}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 sm:text-base lg:text-lg",children:N("overrideDetails")})]}),a.jsx(go,{className:"w-4 h-4 text-gray-400 transition-transform sm:w-5 sm:h-5 group-open:rotate-90"})]}),a.jsx("div",{className:"mt-3 sm:mt-4",children:a.jsxs("div",{className:"grid gap-2 sm:gap-3 md:grid-cols-2 lg:gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2 text-xs sm:text-xs lg:text-sm font-medium text-gray-700",children:[a.jsx(yt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),N("alternativeSite")]}),a.jsx("input",{type:"text",value:h,onChange:F=>m(F.target.value),placeholder:N("optional"),className:"w-full px-2.5 py-2 sm:px-3 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2 text-xs sm:text-xs lg:text-sm font-medium text-gray-700",children:[a.jsx(hr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),N("secondaryPhone")]}),a.jsx("input",{type:"text",value:p,onChange:F=>y(F.target.value),placeholder:N("optional"),className:"w-full px-2.5 py-2 sm:px-3 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs sm:text-sm"})]})]})})]}),a.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 lg:p-6 sm:rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[a.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-100 rounded-md sm:rounded-lg",children:a.jsx(lt,{className:"w-4 h-4 text-blue-600 sm:w-4.5 sm:h-4.5 lg:w-5 lg:h-5"})}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 sm:text-base lg:text-lg",children:N("basicDetails")})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2 text-xs sm:text-xs lg:text-sm font-medium text-gray-700",children:[a.jsx(lt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),N("challanNumber")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:n,onChange:F=>s(F.target.value),placeholder:"Challan #",className:`flex-1 px-2.5 py-2 sm:px-3 sm:py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-sm ${f.challanNumber?"border-red-500":"border-gray-300"}`}),a.jsxs("button",{onClick:()=>_(!b),className:"inline-flex items-center gap-1 sm:gap-1.5 px-2 py-2 sm:px-3 text-xs sm:text-xs font-medium text-blue-600 transition-colors rounded-lg bg-blue-50 hover:bg-blue-100 touch-manipulation active:scale-95 border border-blue-100 whitespace-nowrap",children:[b?a.jsx(Gs,{className:"w-3.5 h-3.5"}):a.jsx(vu,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:N("columns2")})]})]}),f.challanNumber&&a.jsxs("p",{className:"flex items-center gap-1 mt-1 text-xs text-red-600 sm:text-xs",children:[a.jsx("span",{children:""})," ",f.challanNumber]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2 text-xs sm:text-xs lg:text-sm font-medium text-gray-700",children:[a.jsx(ns,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),N("date")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:A,onChange:F=>i(F.target.value),className:`w-full px-2.5 py-2 sm:px-3 sm:py-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-sm ${f.date?"border-red-500":"border-gray-300"}`}),f.date&&a.jsxs("p",{className:"flex items-center gap-1 mt-1 text-xs text-red-600 sm:text-xs",children:[a.jsx("span",{children:""})," ",f.date]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2 text-xs sm:text-xs lg:text-sm font-medium text-gray-700",children:[a.jsx(qt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),N("driverName")]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o,onChange:F=>l(F.target.value),onFocus:()=>d(!0),onBlur:()=>{setTimeout(()=>{d(!1)},200)},placeholder:N("optional"),className:"w-full px-2.5 py-2 sm:px-3 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs sm:text-sm driver-suggestions"}),c&&u.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 overflow-y-auto bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 driver-suggestions",children:u.map((F,D)=>a.jsx("button",{onClick:T=>{T.preventDefault(),l(F),d(!1)},className:"w-full px-3 py-2 text-xs text-left sm:text-sm hover:bg-blue-50 focus:bg-blue-50 focus:outline-none touch-manipulation",children:F},D))})]})]})]})]})]}),a.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 lg:p-6 sm:rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[a.jsx("div",{className:"p-1.5 sm:p-2 bg-green-100 rounded-md sm:rounded-lg",children:a.jsx(It,{className:"w-4 h-4 text-green-600 sm:w-4.5 sm:h-4.5 lg:w-5 lg:h-5"})}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 sm:text-base lg:text-lg",children:N("itemsDetails")})]}),f.items&&a.jsx("div",{className:"p-2 mb-3 border border-red-200 rounded-lg sm:p-3 sm:mb-4 bg-red-50",children:a.jsxs("p",{className:"flex items-center gap-1.5 text-xs sm:text-xs text-red-600",children:[a.jsx("span",{children:""})," ",f.items]})}),a.jsx(g1,{items:w,onChange:g,hideColumns:b,stockData:C,showAvailable:!0})]}),x?a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"relative p-6 overflow-hidden text-center border border-green-200 rounded-lg shadow-sm sm:p-8 bg-gradient-to-br from-green-50 to-emerald-50 sm:rounded-xl",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-green-100 rounded-bl-full opacity-30 sm:w-32 sm:h-32"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-3 bg-green-600 rounded-full sm:w-14 sm:h-14 sm:mb-4 lg:w-16 lg:h-16",children:a.jsx(ss,{className:"w-6 h-6 text-white sm:w-7 sm:h-7 lg:w-8 lg:h-8"})}),a.jsx("h3",{className:"mb-2 text-lg font-bold text-gray-900 sm:text-xl lg:text-2xl",children:N("challanSaved")}),a.jsx("p",{className:"text-xs text-gray-600 sm:text-sm lg:text-base",children:"Challan created and JPEG generated"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{onClick:()=>j("/dashboard"),className:"inline-flex items-center justify-center w-full gap-2 px-6 py-3 text-sm font-semibold text-white transition-colors bg-blue-600 rounded-lg shadow-md sm:w-auto sm:px-8 sm:py-4 sm:text-base lg:text-lg hover:bg-blue-700 hover:shadow-lg touch-manipulation active:scale-95",children:[a.jsx(An,{className:"w-5 h-5 sm:w-5 sm:h-5"}),N("backToDashboard")]})})]}):a.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-40 p-3 bg-white border-t border-gray-200 sm:static sm:p-0 sm:border-0 sm:bg-transparent",children:a.jsxs("button",{onClick:r,className:"inline-flex items-center justify-center w-full gap-2 px-6 py-3 text-sm font-semibold text-white transition-colors bg-blue-600 rounded-lg shadow-md sm:w-auto sm:mx-auto sm:flex sm:px-8 sm:py-4 sm:text-base lg:text-lg hover:bg-blue-700 hover:shadow-lg touch-manipulation active:scale-95",children:[a.jsx(ss,{className:"w-5 h-5 sm:w-5 sm:h-5"}),N("save")]})})]})]})},pP=()=>{ut();const e=pr(),{t}=be(),[r,n]=v.useState("client-selection"),[s,A]=v.useState(""),[i,o]=v.useState([]),[l,u]=v.useState(!1),[c,d]=v.useState(""),[h,m]=v.useState([]),[p,y]=v.useState(""),[w,g]=v.useState(xe(new Date,"yyyy-MM-dd")),[f,x]=v.useState(""),[b,_]=v.useState([]),[C,N]=v.useState(!1),[j,F]=v.useState(""),[D,T]=v.useState(""),[G,I]=v.useState({size_1_qty:0,size_2_qty:0,size_3_qty:0,size_4_qty:0,size_5_qty:0,size_6_qty:0,size_7_qty:0,size_8_qty:0,size_9_qty:0,size_1_borrowed:0,size_2_borrowed:0,size_3_borrowed:0,size_4_borrowed:0,size_5_borrowed:0,size_6_borrowed:0,size_7_borrowed:0,size_8_borrowed:0,size_9_borrowed:0,size_1_note:"",size_2_note:"",size_3_note:"",size_4_note:"",size_5_note:"",size_6_note:"",size_7_note:"",size_8_note:"",size_9_note:"",main_note:""}),[K,W]=v.useState({}),[ie,te]=v.useState(!1),[k,M]=v.useState(!0),$=async()=>{try{const{data:P,error:z}=await X.from("udhar_challans").select("udhar_challan_number").order("created_at",{ascending:!1}).limit(1);if(z)throw z;let Z="1";if(P&&P.length>0){const q=P[0].udhar_challan_number,L=q.match(/(\d+)$/);if(L){const ee=L[0],se=q.slice(0,-ee.length),Ae=(parseInt(ee)+1).toString().padStart(ee.length,"0");Z=se+Ae}else Z=q+"1"}y(Z)}catch(P){console.error("Error generating challan number:",P),y("1")}},B=async()=>{try{const{data:P,error:z}=await X.from("udhar_challans").select("driver_name").not("driver_name","is",null).order("created_at",{ascending:!1});if(z)throw z;const Z=[...new Set(P.map(q=>{var L;return(L=q.driver_name)==null?void 0:L.trim()}).filter(q=>q&&q.length>0))].slice(0,10);_(Z)}catch(P){console.error("Error fetching previous driver names:",P)}},E=async()=>{try{const[P,z,Z]=await Promise.all([X.from("stock").select("*").order("size"),Ji(),Xi()]);if(P.error)throw P.error;const q=new Map;for(let ee=1;ee<=9;ee++)q.set(ee,0);z.forEach(ee=>{for(let se=1;se<=9;se++){const me=ee.items[`size_${se}_qty`]||0;q.set(se,(q.get(se)||0)+me)}}),Z.forEach(ee=>{for(let se=1;se<=9;se++){const me=ee.items[`size_${se}_qty`]||0;q.set(se,(q.get(se)||0)-me)}});const L=(P.data||[]).map(ee=>{const se=q.get(ee.size)||0;return{...ee,available_stock:Math.max(0,(ee.total_stock||0)-se-(ee.lost_stock||0))}});m(L)}catch(P){console.error("Error fetching stock:",P),R.error("Failed to fetch stock data")}};v.useEffect(()=>{(async()=>{var Z;await S(),await $(),await B(),await E();const z=e.state;(Z=z==null?void 0:z.preselectedClient)!=null&&Z.id&&(d(z.preselectedClient.id),n("challan-details"))})()},[e]);const S=async()=>{const{data:P,error:z}=await X.from("clients").select("*").order("client_nic_name");if(z){console.error("Error fetching clients:",z),R.error("Failed to load clients");return}o(P||[])},Q=async P=>{const z=R.loading("Creating client..."),{data:Z}=await X.from("clients").select("id").eq("client_nic_name",P.client_nic_name).single();if(Z){R.dismiss(z),R.error(t("clientExists"));return}const{data:q,error:L}=await X.from("clients").insert({client_nic_name:P.client_nic_name,client_name:P.client_name,site:P.site,primary_phone_number:P.primary_phone_number}).select().single();R.dismiss(z),L?(console.error("Error creating client:",L),R.error("Failed to create client")):(R.success("Client created successfully"),u(!1),await S(),q&&d(q.id))},H=()=>{const P={};return p||(P.challanNumber=t("requiredField")),w||(P.date=t("requiredField")),c||(P.client=t("requiredField")),Object.keys(G).some(Z=>{if(Z.includes("qty")||Z.includes("borrowed")){const q=G[Z];return typeof q=="number"&&q>0}return!1})||(P.items="At least one item quantity must be greater than 0"),W(P),Object.keys(P).length===0},U=async()=>{if(!H()){R.error("Please fill all required fields");return}for(let L=1;L<=9;L++){const ee=G[`size_${L}_qty`],se=typeof ee=="string"?parseInt(ee)||0:ee||0,me=h.find(Ae=>Ae.size===L),Pe=(me==null?void 0:me.available_stock)||0;if(se>0&&se>Pe){R.error(`Cannot issue more than available stock for Size ${L}. Available: ${Pe}, Entered: ${se}`);return}}const{data:P}=await X.from("udhar_challans").select("udhar_challan_number").eq("udhar_challan_number",p).maybeSingle();if(P){R.error(t("duplicateChallan")),await $();return}const z=R.loading("Creating challan..."),{error:Z}=await X.from("udhar_challans").insert({udhar_challan_number:p,client_id:c,alternative_site:j||null,secondary_phone_number:D||null,udhar_date:w,driver_name:f||null});if(Z){R.dismiss(z),console.error("Error creating challan:",Z),R.error("Failed to create challan");return}const{error:q}=await X.from("udhar_items").insert({udhar_challan_number:p,...G});if(q){R.dismiss(z),console.error("Error creating items:",q),R.error("Failed to create items");return}try{for(let L=1;L<=9;L++){const ee=G[`size_${L}_qty`],se=G[`size_${L}_borrowed`];if(ee>0||se>0){const{error:me}=await X.rpc("increment_stock",{p_size:L,p_on_rent_increment:ee,p_borrowed_increment:se});if(me)throw console.error(`Error updating stock for size ${L}:`,me),me}}}catch(L){R.dismiss(z),console.error("Error updating stock:",L),R.error("Challan saved but stock update failed")}R.dismiss(z),R.success("Challan created successfully"),te(!0),setTimeout(async()=>{try{await xo("udhar",p,w,2440,1697),R.success("JPEG generated successfully"),setTimeout(()=>{window.location.reload()},1e3)}catch(L){console.error("Error generating JPEG:",L),R.error("Failed to generate JPEG"),setTimeout(()=>{window.location.reload()},1e3)}},500)},V=P=>{d(P),n("challan-details"),window.scrollTo({top:0,behavior:"smooth"})},Y=()=>{n("client-selection")},O=i.find(P=>P.id===c);return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Zt,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",fontSize:"13px",padding:"10px 14px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),a.jsx(xr,{}),a.jsx("main",{className:"flex-1 w-full ml-0 overflow-auto lg:ml-64 pt-[56px] lg:pt-0",children:a.jsxs("div",{className:"w-full px-3 pb-20 mx-auto sm:px-4 sm:py-5 lg:px-8 lg:py-12 lg:pb-12 max-w-7xl",children:[r==="client-selection"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden mb-4 sm:block sm:mb-6 lg:mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 sm:text-2xl lg:text-3xl",children:t("udharChallanTitle")}),a.jsx("p",{className:"mt-1 text-[10px] sm:text-xs lg:text-sm lg:mt-2 text-gray-600",children:"Create new udhar challan"})]}),l&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden lg:hidden",onClick:P=>{P.target===P.currentTarget&&u(!1)},children:[a.jsx("div",{className:"absolute inset-0 transition-opacity bg-black bg-opacity-25"}),a.jsx("div",{className:"absolute inset-x-0 bottom-0 max-h-[90%] overflow-auto bg-white rounded-t-2xl shadow-xl transform transition-transform",children:a.jsx("div",{className:"p-4 sm:p-6",children:a.jsx(Yi,{onSubmit:Q,onCancel:()=>u(!1),isQuickAdd:!0})})})]}),a.jsxs("div",{className:"fixed inset-0 z-50 items-center justify-center hidden lg:flex",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-25",onClick:()=>u(!1)}),a.jsx("div",{className:"relative w-full max-w-2xl p-6 bg-white shadow-xl rounded-xl",children:a.jsx(Yi,{onSubmit:Q,onCancel:()=>u(!1),isQuickAdd:!0})})]})]}),a.jsx(mP,{clients:i,onClientSelect:V,onAddNewClick:()=>u(!0),searchQuery:s,onSearchChange:A,isFormOpen:l})]}):O&&a.jsx(gP,{selectedClient:O,onBack:Y,onSave:U,challanNumber:p,setChallanNumber:y,date:w,setDate:g,driverName:f,setDriverName:x,previousDrivers:b,previousDriversVisible:C,setPreviousDriversVisible:N,alternativeSite:j,setAlternativeSite:F,secondaryPhone:D,setSecondaryPhone:T,items:G,setItems:I,errors:K,showSuccess:ie,hideExtraColumns:k,setHideExtraColumns:M,stockData:h}),a.jsx("div",{style:{position:"absolute",left:"-9999px",width:"2450px"},children:O&&a.jsxs("div",{id:"receipt-template",style:{display:"flex",gap:"40px",backgroundColor:"white",padding:0},children:[a.jsx("div",{style:{position:"relative",width:"1200px",height:"1697px"},children:a.jsx(As,{challanType:"udhar",challanNumber:p,date:new Date(w).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),clientName:O.client_name,clientSortName:O.client_nic_name,site:j||O.site,phone:D||O.primary_phone_number,driverName:f,items:G})}),a.jsx("div",{style:{position:"relative",width:"1200px",height:"1697px"},children:a.jsx(As,{challanType:"udhar",challanNumber:p,date:new Date(w).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),clientName:O.client_name,clientSortName:O.client_nic_name,site:j||O.site,phone:D||O.primary_phone_number,driverName:f,items:G})})]})})]})})]})},xP=({clients:e,onClientSelect:t,searchQuery:r,onSearchChange:n,onAddNewClick:s,clientBalances:A})=>{const{t:i}=be(),o=e.filter(l=>{var h;const u=r.toLowerCase().trim(),c=parseInt(u);if(!isNaN(c)){const m=(h=l.client_nic_name)==null?void 0:h.match(/^(\d+)/);if(m&&parseInt(m[1])===c)return!0}return(l.client_nic_name||"").toLowerCase().includes(u)||(l.client_name||"").toLowerCase().includes(u)||(l.site||"").toLowerCase().includes(u)||(l.primary_phone_number||"").includes(r)}).sort((l,u)=>{const c=r.toLowerCase().trim();if(!c)return Pn(l.client_nic_name||"",u.client_nic_name||"");const d=(l.client_nic_name||"").toLowerCase(),h=(u.client_nic_name||"").toLowerCase(),m=b=>{const _=b.match(/^(\d+)/);return _?_[1]:""},p=m(d),y=m(h),w=p===c,g=y===c;if(w&&!g)return-1;if(g&&!w)return 1;const f=d.startsWith(c),x=h.startsWith(c);return f&&!x?-1:x&&!f?1:Pn(l.client_nic_name||"",u.client_nic_name||"")});return a.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute text-gray-400 transform -translate-y-1/2 left-2.5 sm:left-3 top-1/2 w-4 h-4 sm:w-4.5 sm:h-4.5"}),a.jsx("input",{type:"text",value:r,onChange:l=>n(l.target.value),placeholder:i("searchClients")||"Search clients...",className:"w-full py-2 sm:py-2.5 lg:py-3 pl-8 sm:pl-10 pr-3 sm:pr-4 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-green-500 focus:border-transparent text-xs sm:text-sm"})]}),r&&a.jsx("div",{className:"px-3 py-1.5 sm:px-4 sm:py-2 border border-green-200 rounded-lg bg-green-50",children:a.jsxs("p",{className:"text-[10px] sm:text-xs lg:text-sm text-green-700",children:["Found ",a.jsx("span",{className:"font-semibold",children:o.length})," client",o.length!==1?"s":""]})}),o.length===0?a.jsxs("div",{className:"p-8 text-center bg-white border border-gray-200 rounded-lg shadow-sm sm:p-12 lg:p-16 sm:rounded-xl",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-3 bg-gray-100 rounded-full sm:w-14 sm:h-14 sm:mb-4 lg:w-16 lg:h-16",children:a.jsx(qt,{className:"w-6 h-6 text-gray-400 sm:w-7 sm:h-7 lg:w-8 lg:h-8"})}),a.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-900 sm:text-base lg:text-lg",children:"No clients found"}),a.jsx("p",{className:"mb-3 text-[10px] sm:text-xs lg:text-sm text-gray-500 sm:mb-4",children:r?"Try adjusting your search":"No clients available"}),r&&a.jsx("button",{onClick:()=>n(""),className:"px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium text-green-600 transition-colors rounded-lg hover:text-green-700 hover:bg-green-50 touch-manipulation active:scale-95",children:"Clear search"})]}):a.jsx("div",{className:"grid grid-cols-1 gap-2 sm:gap-3 md:grid-cols-2 lg:grid-cols-3 lg:gap-4",children:o.map(l=>a.jsxs("button",{onClick:()=>t(l.id),className:"p-3 text-left transition-all bg-white border border-gray-200 shadow-sm sm:p-4 lg:p-5 group rounded-lg sm:rounded-xl hover:shadow-md hover:border-green-500 touch-manipulation active:scale-[0.98]",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:gap-3 sm:mb-3",children:[a.jsx("div",{className:"p-1.5 sm:p-2 transition-colors bg-green-100 rounded-md sm:rounded-lg group-hover:bg-green-200",children:a.jsx(qt,{className:"w-4 h-4 text-green-600 sm:w-5 sm:h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate transition-colors sm:text-base lg:text-lg group-hover:text-green-600",children:l.client_nic_name}),a.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-600 truncate",children:l.client_name})]}),a.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[a.jsx("span",{className:"text-[8px] sm:text-[9px] text-gray-500",children:" "}),a.jsx("span",{className:`text-xs sm:text-sm font-semibold ${(A[l.id]||0)>0?"text-amber-600":"text-green-600"}`,children:A[l.id]||0})]}),a.jsx(go,{className:"flex-shrink-0 w-4 h-4 text-gray-400 transition-transform sm:w-5 sm:h-5 group-hover:translate-x-1"})]}),a.jsx("div",{className:"pt-2 mt-2 border-t border-gray-100 sm:pt-3 sm:mt-3",children:a.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs lg:text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(yt,{className:"flex-shrink-0 w-3 h-3 text-gray-400 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:l.site})]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hr,{className:"flex-shrink-0 w-3 h-3 text-gray-400 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:l.primary_phone_number})]})]})})]},l.id))})]})},yP=({selectedClient:e,onBack:t,onSave:r,challanNumber:n,setChallanNumber:s,date:A,setDate:i,driverName:o,setDriverName:l,previousDrivers:u,previousDriversVisible:c,setPreviousDriversVisible:d,items:h,setItems:m,outstandingBalances:p,borrowedOutstanding:y,errors:w,showSuccess:g,hideExtraColumns:f,setHideExtraColumns:x})=>{const{t:b}=be(),_=ut();return a.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"relative p-3 overflow-hidden border border-green-200 rounded-lg shadow-sm sm:p-4 lg:p-6 bg-gradient-to-br from-green-50 to-emerald-50 sm:rounded-xl",children:[a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-green-100 rounded-bl-full opacity-30 sm:w-24 sm:h-24 lg:w-32 lg:h-32"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-start gap-2 sm:hidden",children:[a.jsx("div",{className:"p-2 bg-green-600 rounded-md",children:a.jsx(qt,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 truncate",children:e.client_nic_name}),a.jsx("p",{className:"text-xs text-gray-700 truncate",children:e.client_name}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(yt,{className:"flex-shrink-0 w-3 h-3 text-green-600"}),a.jsx("span",{className:"truncate",children:e.site})]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hr,{className:"flex-shrink-0 w-3 h-3 text-green-600"}),a.jsx("span",{className:"truncate",children:e.primary_phone_number})]})]})]}),a.jsx("button",{onClick:t,className:"flex-shrink-0 p-2 text-gray-600 transition-colors rounded-md hover:text-gray-900 hover:bg-gray-100 touch-manipulation active:scale-95",children:a.jsx(An,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"items-start hidden gap-2 sm:flex lg:gap-4",children:[a.jsx("button",{onClick:t,className:"flex-shrink-0 p-2 text-gray-600 transition-colors rounded-md sm:p-2.5 lg:p-3 sm:rounded-lg hover:text-gray-900 hover:bg-gray-100 touch-manipulation active:scale-95",children:a.jsx(An,{className:"w-5 h-5 sm:w-5 sm:h-5 lg:w-5 lg:h-5"})}),a.jsx("div",{className:"p-2 bg-green-600 rounded-md sm:p-2.5 lg:p-3 sm:rounded-lg",children:a.jsx(qt,{className:"w-5 h-5 text-white sm:w-6 sm:h-6 lg:w-7 lg:h-7"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate sm:text-base lg:text-lg",children:e.client_nic_name}),a.jsx("p",{className:"text-xs sm:text-xs lg:text-sm text-gray-700 truncate",children:e.client_name}),a.jsxs("div",{className:"grid grid-cols-1 gap-1 mt-2 sm:grid-cols-2 sm:gap-2 lg:mt-3",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-xs lg:text-sm text-gray-600",children:[a.jsx(yt,{className:"flex-shrink-0 w-3 h-3 text-green-600 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:e.site})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 text-xs sm:text-xs lg:text-sm text-gray-600",children:[a.jsx(hr,{className:"flex-shrink-0 w-3 h-3 text-green-600 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:e.primary_phone_number})]})]})]})]})]})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 lg:p-6 sm:rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[a.jsx("div",{className:"p-1.5 sm:p-2 bg-green-100 rounded-md sm:rounded-lg",children:a.jsx(lt,{className:"w-4 h-4 text-green-600 sm:w-4.5 sm:h-4.5 lg:w-5 lg:h-5"})}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 sm:text-base lg:text-lg",children:b("challanDetails")})]}),a.jsxs("div",{className:"grid gap-2 sm:gap-3 md:grid-cols-2 lg:gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2 text-xs sm:text-xs lg:text-sm font-medium text-gray-700",children:[a.jsx(lt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),b("challanNumber")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:n,onChange:C=>s(C.target.value),placeholder:"Challan #",className:`flex-1 px-2.5 py-2 sm:px-3 sm:py-2.5 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm sm:text-sm ${w.challanNumber?"border-red-500":"border-gray-300"}`}),a.jsxs("button",{onClick:()=>x(!f),className:"inline-flex items-center gap-1 sm:gap-1.5 px-2 py-2 sm:px-3 text-xs sm:text-xs font-medium text-green-600 transition-colors rounded-md sm:rounded-lg bg-green-50 hover:bg-green-100 touch-manipulation active:scale-95 border border-green-100 whitespace-nowrap",children:[f?a.jsx(vu,{className:"w-3.5 h-3.5"}):a.jsx(Gs,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:b("columns2")})]})]}),w.challanNumber&&a.jsxs("p",{className:"mt-1 text-xs sm:text-xs text-red-600 flex items-center gap-1",children:[a.jsx("span",{children:""})," ",w.challanNumber]})]}),a.jsxs("div",{className:"flex gap-2 sm:gap-3 lg:gap-4",children:[a.jsxs("div",{className:"w-1/2",children:[a.jsxs("label",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2 text-xs sm:text-xs lg:text-sm font-medium text-gray-700",children:[a.jsx(ns,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),b("date")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:A,onChange:C=>i(C.target.value),className:`w-full px-2.5 py-2 sm:px-3 sm:py-2.5 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm sm:text-sm ${w.date?"border-red-500":"border-gray-300"}`}),w.date&&a.jsxs("p",{className:"mt-1 text-xs sm:text-xs text-red-600 flex items-center gap-1",children:[a.jsx("span",{children:""})," ",w.date]})]}),a.jsxs("div",{className:"w-1/2",children:[a.jsxs("label",{className:"flex items-center gap-1 sm:gap-1.5 mb-1.5 sm:mb-2 text-xs sm:text-xs lg:text-sm font-medium text-gray-700",children:[a.jsx(qt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),b("driverName")]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o,onChange:C=>l(C.target.value),onFocus:()=>d(!0),onBlur:()=>{setTimeout(()=>{d(!1)},200)},placeholder:b("optional"),className:"w-full px-2.5 py-2 sm:px-3 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-xs sm:text-sm"}),c&&u.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 overflow-y-auto bg-white border border-gray-200 rounded-lg shadow-lg driver-suggestions max-h-40",children:u.map((C,N)=>a.jsx("button",{onClick:j=>{j.preventDefault(),l(C),d(!1)},className:"w-full px-3 py-2 text-xs text-left sm:text-sm hover:bg-green-50 focus:bg-green-50 focus:outline-none touch-manipulation",children:C},N))})]})]})]})]})]}),a.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 lg:p-6 sm:rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[a.jsx("div",{className:"p-1.5 sm:p-2 bg-green-100 rounded-md sm:rounded-lg",children:a.jsx(It,{className:"w-4 h-4 text-green-600 sm:w-4.5 sm:h-4.5 lg:w-5 lg:h-5"})}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 sm:text-base lg:text-lg",children:b("items")})]}),w.items&&a.jsx("div",{className:"p-2 mb-3 border border-red-200 rounded-lg sm:p-3 sm:mb-4 bg-red-50",children:a.jsxs("p",{className:"flex items-center gap-1.5 text-xs sm:text-xs text-red-600",children:[a.jsx("span",{children:""})," ",w.items]})}),a.jsx(g1,{items:h,onChange:m,outstandingBalances:p,borrowedOutstanding:y,hideColumns:f})]}),g?a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"relative p-6 overflow-hidden text-center border border-green-200 rounded-lg shadow-sm sm:p-8 bg-gradient-to-br from-green-50 to-emerald-50 sm:rounded-xl",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-green-100 rounded-bl-full opacity-30 sm:w-32 sm:h-32"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-3 bg-green-600 rounded-full sm:w-14 sm:h-14 sm:mb-4 lg:w-16 lg:h-16",children:a.jsx(ss,{className:"w-6 h-6 text-white sm:w-7 sm:h-7 lg:w-8 lg:h-8"})}),a.jsx("h3",{className:"mb-2 text-lg font-bold text-gray-900 sm:text-xl lg:text-2xl",children:b("challanSaved")}),a.jsx("p",{className:"text-xs text-gray-600 sm:text-sm lg:text-base",children:"Challan created and JPEG generated"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{onClick:()=>_("/dashboard"),className:"inline-flex items-center justify-center w-full gap-2 px-6 py-3 text-sm font-semibold text-white transition-colors bg-green-600 rounded-lg shadow-md sm:w-auto sm:px-8 sm:py-4 sm:text-base lg:text-lg hover:bg-green-700 hover:shadow-lg touch-manipulation active:scale-95",children:[a.jsx(An,{className:"w-5 h-5 sm:w-5 sm:h-5"}),b("backToDashboard")]})})]}):a.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-40 p-3 bg-white border-t border-gray-200 sm:static sm:p-0 sm:border-0 sm:bg-transparent",children:a.jsxs("button",{onClick:r,className:"inline-flex items-center justify-center w-full gap-2 px-6 py-3 text-sm font-semibold text-white transition-colors bg-green-600 rounded-lg shadow-md sm:w-auto sm:mx-auto sm:flex sm:px-8 sm:py-4 sm:text-base lg:text-lg hover:bg-green-700 hover:shadow-lg touch-manipulation active:scale-95",children:[a.jsx(ss,{className:"w-5 h-5 sm:w-5 sm:h-5"}),b("save")]})})]})]})},wP=()=>{ut();const e=pr(),{t}=be(),[r,n]=v.useState("client-selection"),[s,A]=v.useState(""),[i,o]=v.useState([]),[l,u]=v.useState(!1),[c,d]=v.useState(null),[h,m]=v.useState({}),[p,y]=v.useState(""),[w,g]=v.useState(xe(new Date,"yyyy-MM-dd")),[f,x]=v.useState(""),[b,_]=v.useState([]),[C,N]=v.useState(!1),[j,F]=v.useState({}),[D,T]=v.useState(!1),G=async()=>{try{const{data:O,error:P}=await X.from("jama_challans").select("jama_challan_number").order("created_at",{ascending:!1}).limit(1);if(P)throw P;let z="1";if(O&&O.length>0){const Z=O[0].jama_challan_number,q=Z.match(/(\d+)$/);if(q){const L=q[0],ee=Z.slice(0,-L.length),Pe=(parseInt(L)+1).toString().padStart(L.length,"0");z=ee+Pe}else z=Z+"1"}console.log("Generated next jama challan number:",z),y(z)}catch(O){console.error("Error generating challan number:",O),y("1")}},[I,K]=v.useState(!0),[W,ie]=v.useState({size_1_qty:0,size_2_qty:0,size_3_qty:0,size_4_qty:0,size_5_qty:0,size_6_qty:0,size_7_qty:0,size_8_qty:0,size_9_qty:0,size_1_borrowed:0,size_2_borrowed:0,size_3_borrowed:0,size_4_borrowed:0,size_5_borrowed:0,size_6_borrowed:0,size_7_borrowed:0,size_8_borrowed:0,size_9_borrowed:0,size_1_note:"",size_2_note:"",size_3_note:"",size_4_note:"",size_5_note:"",size_6_note:"",size_7_note:"",size_8_note:"",size_9_note:"",main_note:""}),[te,k]=v.useState({}),[M,$]=v.useState({}),B=async()=>{try{const[O,P]=await Promise.all([X.from("jama_challans").select("driver_name, created_at").not("driver_name","is",null),X.from("udhar_challans").select("driver_name, created_at").not("driver_name","is",null)]);if(O.error)throw O.error;if(P.error)throw P.error;const z=[...O.data||[],...P.data||[]].sort((q,L)=>new Date(L.created_at).getTime()-new Date(q.created_at).getTime()).map(q=>{var L;return(L=q.driver_name)==null?void 0:L.trim().toLowerCase()}).filter(Boolean),Z=Array.from(new Set(z)).map(q=>q.replace(/\b\w/g,L=>L.toUpperCase())).slice(0,10);_(Z)}catch(O){console.error("Error fetching previous driver names:",O)}};v.useEffect(()=>{(async()=>{await E(),await G(),await B()})()},[]),v.useEffect(()=>{const O=e.state;if(O!=null&&O.preselectedClient&&i.length>0){const P=i.find(z=>z.id===O.preselectedClient.id);P&&H(P.id)}},[e,i]);const E=async()=>{const{data:O,error:P}=await X.from("clients").select("*").order("client_nic_name");if(P){console.error("Error fetching clients:",P),R.error("Failed to load clients");return}o(O||[]),O&&O.length>0&&await S(O)},S=async O=>{const P={};await Promise.all(O.map(async z=>{try{const Z=await Mf(z.id);let q=0;Z.forEach(L=>{for(let ee=1;ee<=9;ee++){const se=L.items[`size_${ee}_qty`]||0,me=L.items[`size_${ee}_borrowed`]||0;L.type==="udhar"?q+=se+me:q-=se+me}}),P[z.id]=q}catch(Z){console.error(`Error fetching balance for client ${z.id}:`,Z),P[z.id]=0}})),m(P)},Q=()=>{u(!0)},H=async O=>{const P=i.find(z=>z.id===O);if(P){d(P),n("challan-details");const z=await Mf(O),Z={};for(let ee=1;ee<=9;ee++)Z[ee]=0;const q={};for(let ee=1;ee<=9;ee++)q[ee]=0;z.forEach(ee=>{for(let se=1;se<=9;se++){const me=ee.items[`size_${se}_qty`]||0,Pe=ee.items[`size_${se}_borrowed`]||0,Ae=me;ee.type==="udhar"?(Z[se]+=Ae,q[se]+=Pe):(Z[se]-=Ae,q[se]-=Pe)}}),k(Z),$(q),Object.values(q).some(ee=>ee>0)&&K(!1),window.scrollTo({top:0,behavior:"smooth"})}},U=O=>{A(O)},V=async O=>{const P=R.loading("Creating client..."),{data:z}=await X.from("clients").select("id").eq("client_nic_name",O.client_nic_name).single();if(z){R.dismiss(P),R.error("A client with this sort name already exists");return}try{const{data:Z,error:q}=await X.from("clients").insert([O]).select().single();if(R.dismiss(P),q)throw q;R.success("Client created successfully"),u(!1),await E(),Z&&H(Z.id)}catch(Z){R.dismiss(P),console.error("Error adding client:",Z),R.error("Failed to create client")}},Y=async()=>{const O={};let P=!1;c||(O.client=t("requiredField"),P=!0),p||(O.challanNumber=t("requiredField"),P=!0),w||(O.date=t("requiredField"),P=!0);for(let L=1;L<=9;L++){const ee=W[`size_${L}_qty`]||0,se=W[`size_${L}_borrowed`]||0,me=te[L]||0,Pe=M[L]||0;if(ee>0&&ee>me){R.error(`Cannot return more than available stock for Size ${L}. Available: ${me}`);return}if(se>0&&se>Pe){R.error(`Cannot return more than borrowed stock for Size ${L}. Available: ${Pe}`);return}}const z=Object.entries(W).filter(([L])=>L.includes("_qty")).some(([L,ee])=>ee>0),Z=Object.entries(W).filter(([L])=>L.includes("_borrowed")).some(([L,ee])=>ee>0);if(!z&&!Z&&(O.items="At least one item quantity or borrowed quantity must be greater than 0",P=!0),P){F(O),R.error("Please fill all required fields");return}const q=R.loading("Creating challan...");try{if(!(c!=null&&c.id))return;const{data:L}=await X.from("jama_challans").select("jama_challan_number").eq("jama_challan_number",p).maybeSingle();if(L){R.dismiss(q),R.error(t("duplicateChallan")),await G();return}const{error:ee}=await X.from("jama_challans").insert([{jama_challan_number:p,client_id:c.id,jama_date:w,driver_name:f}]);if(ee)throw ee;const{error:se}=await X.from("jama_items").insert([{jama_challan_number:p,...W}]);if(se)throw se;R.dismiss(q),R.success("Challan created successfully"),T(!0),setTimeout(async()=>{try{await xo("jama",p,w,2440,1697),R.success("JPEG generated successfully"),setTimeout(()=>{window.location.reload()},1e3)}catch(me){console.error("Error generating JPEG:",me),R.error("Failed to generate JPEG"),setTimeout(()=>{window.location.reload()},1e3)}},500)}catch(L){R.dismiss(q),console.error("Error saving challan:",L),R.error("Failed to create challan")}};return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Zt,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",fontSize:"13px",padding:"10px 14px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),a.jsx(xr,{}),a.jsx("main",{className:"flex-1 w-full ml-0 overflow-auto pt-14 sm:pt-0 lg:ml-64",children:a.jsxs("div",{className:"w-full px-3 py-3 pb-20 mx-auto sm:px-4 sm:py-5 lg:px-8 lg:py-12 lg:pb-12 max-w-7xl",children:[r==="client-selection"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"items-center justify-between hidden mb-6 sm:flex lg:mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 lg:text-3xl",children:t("jamaChallan")}),a.jsx("p",{className:"mt-1 text-xs text-gray-600 lg:text-sm lg:mt-2",children:"Create new jama challan for returned items"})]}),!l&&a.jsxs("button",{onClick:Q,className:"inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-green-600 transition-colors bg-green-50 rounded-lg hover:bg-green-100 touch-manipulation active:scale-95",children:[a.jsx(Pr,{className:"w-4 h-4"}),t("addNewClient")]})]}),l?a.jsx("div",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 lg:p-6 sm:rounded-xl",children:a.jsx(Yi,{onSubmit:V,onCancel:()=>u(!1)})}):a.jsx(xP,{clients:i,onClientSelect:H,onAddNewClick:Q,searchQuery:s,onSearchChange:U,clientBalances:h})]}):c&&a.jsx(yP,{selectedClient:c,onBack:()=>n("client-selection"),onSave:Y,challanNumber:p,setChallanNumber:y,date:w,setDate:g,driverName:f,setDriverName:x,previousDrivers:b,previousDriversVisible:C,setPreviousDriversVisible:N,items:W,setItems:ie,outstandingBalances:te,borrowedOutstanding:M,errors:j,showSuccess:D,hideExtraColumns:I,setHideExtraColumns:K}),a.jsx("div",{style:{position:"absolute",left:"-9999px",width:"2450px"},children:c&&a.jsxs("div",{id:"receipt-template",style:{display:"flex",gap:"40px",backgroundColor:"white",padding:0},children:[a.jsx("div",{style:{position:"relative",width:"1200px",height:"1697px"},children:a.jsx(As,{challanType:"jama",challanNumber:p,date:new Date(w).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),clientName:c.client_name,clientSortName:c.client_nic_name,site:c.site,phone:c.primary_phone_number,driverName:f,items:W})}),a.jsx("div",{style:{position:"relative",width:"1200px",height:"1697px"},children:a.jsx(As,{challanType:"jama",challanNumber:p,date:new Date(w).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),clientName:c.client_name,clientSortName:c.client_nic_name,site:c.site,phone:c.primary_phone_number,driverName:f,items:W})})]})})]})})]})},vP=()=>{const{t:e}=be(),[t,r]=v.useState([]),[n,s]=v.useState(!0),[A,i]=v.useState(!1),[o,l]=v.useState("size"),[u,c]=v.useState("asc"),[d,h]=v.useState({isOpen:!1,size:null,type:null,loading:!1,data:[]}),[m,p]=v.useState(new Map);v.useEffect(()=>{w(),y()},[]);const y=async()=>{try{const[T,G]=await Promise.all([Ji(),Xi()]),I=new Map;for(const K of at){const W=at.indexOf(K)+1;I.set(W,{rent:0,borrowed:0})}T.forEach(K=>{for(let W=1;W<=9;W++){const ie=K.items[`size_${W}_qty`]||0,te=K.items[`size_${W}_borrowed`]||0,k=I.get(W)||{rent:0,borrowed:0};I.set(W,{rent:k.rent+ie,borrowed:k.borrowed+te})}}),G.forEach(K=>{for(let W=1;W<=9;W++){const ie=K.items[`size_${W}_qty`]||0,te=K.items[`size_${W}_borrowed`]||0,k=I.get(W)||{rent:0,borrowed:0};I.set(W,{rent:k.rent-ie,borrowed:k.borrowed-te})}}),p(I)}catch(T){console.error("Error calculating stocks:",T)}},w=async(T=!1)=>{T?i(!0):s(!0);const{data:G,error:I}=await X.from("stock").select("*").order("size");I?(console.error("Error fetching stock:",I),R.error(e("failedToRefresh"))):(r(G||[]),T&&(R.success(e("stockRefreshed")),y())),s(!1),i(!1)},[g,f]=v.useState({isOpen:!1,type:"add",quantities:{},partyName:"",note:"",amount:"",date:new Date().toISOString().split("T")[0]}),x=T=>{f({isOpen:!0,type:T,quantities:{},partyName:"",note:"",amount:"",date:new Date().toISOString().split("T")[0]})},b=(T,G)=>{const I=parseInt(G)||0;f(K=>({...K,quantities:{...K.quantities,[T]:I}}))},_=async()=>{const{type:T,quantities:G,partyName:I,note:K,amount:W,date:ie}=g;if(!Object.values(G).some(M=>M>0)){R.error(e("enterQuantity")||"Please enter at least one quantity");return}if(!I.trim()){R.error("Please enter Party Name or Reason");return}const k=R.loading(e("updatingStock"));try{const{error:M}=await X.from("stock_history").insert({type:T,party_name:I,note:K,amount:parseFloat(W)||0,items:G,date:new Date(ie).toISOString()});if(M)throw M;const $=Object.entries(G).map(async([B,E])=>{if(E<=0)return;const S=parseInt(B),{data:Q,error:H}=await X.from("stock").select("total_stock").eq("size",S).single();if(H)throw H;const U=Q.total_stock,V=T==="add"?U+E:Math.max(0,U-E),{error:Y}=await X.from("stock").update({total_stock:V}).eq("size",S);if(Y)throw Y});await Promise.all($),R.success(e("stockUpdated")),f(B=>({...B,isOpen:!1})),w()}catch(M){console.error("Error updating stock:",M),R.error(e("failedToUpdate"))}finally{R.dismiss(k)}},C=async(T,G)=>{h({...d,isOpen:!0,size:T,type:G,loading:!0,data:[]});try{const[I,K]=await Promise.all([Ji(),Xi()]),W=new Map,ie=(k,M,$)=>{const B=`size_${T}_qty`,E=`size_${T}_borrowed`,S=`size_${T}_note`;let Q=0,H="";G==="rent"?Q=k[B]||0:(Q=k[E]||0,H=k[S]||"");const U=Q*M;if(U!==0){const V=W.get($.clientId)||{clientName:$.clientNicName||$.clientFullName,clientFullName:$.clientFullName,quantity:0,site:$.site,notes:[]};V.quantity+=U,G==="borrowed"&&H&&M===1&&V.notes.push(H),W.set($.clientId,V)}};I.forEach(k=>{ie(k.items,1,k)}),K.forEach(k=>{ie(k.items,-1,k)});const te=Array.from(W.values()).filter(k=>k.quantity!==0).sort((k,M)=>M.quantity-k.quantity);h(k=>({...k,loading:!1,data:te}))}catch(I){console.error("Error fetching distribution:",I),R.error("Failed to load distribution data"),h(K=>({...K,loading:!1}))}},N=T=>{o===T?c(u==="asc"?"desc":"asc"):(l(T),c("asc"))},j=T=>T===0?a.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 sm:px-2.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-red-100 text-red-800",children:[a.jsx(V_,{className:"w-2.5 h-2.5 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("outOfStock")}),a.jsx("span",{className:"sm:hidden",children:"0"})]}):T<10?a.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 sm:px-2.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-yellow-100 text-yellow-800",children:[a.jsx(nD,{className:"w-2.5 h-2.5 sm:w-3.5 sm:h-3.5"}),a.jsxs("span",{className:"hidden sm:inline",children:[e("lowStock")," (",T,")"]}),a.jsx("span",{className:"sm:hidden",children:T})]}):a.jsxs("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 sm:px-2.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium bg-green-100 text-green-800",children:[a.jsx(ss,{className:"w-2.5 h-2.5 sm:w-3.5 sm:h-3.5"}),a.jsxs("span",{className:"hidden sm:inline",children:[e("inStock")," (",T,")"]}),a.jsx("span",{className:"sm:hidden",children:T})]}),F=v.useMemo(()=>[...t].sort((T,G)=>{const I=T[o],K=G[o];return u==="asc"?I>K?1:-1:I<K?1:-1}),[t,o,u]),D=()=>a.jsxs("tr",{className:"animate-pulse",children:[a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-12 h-4 bg-gray-200 rounded"})}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-16 h-4 bg-gray-200 rounded"})}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded-full sm:w-24"})}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-16 h-4 bg-gray-200 rounded sm:w-20"})}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-12 h-4 bg-gray-200 rounded"})}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-12 h-8 bg-gray-200 rounded sm:w-16"})})]});return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Zt,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",fontSize:"13px",padding:"10px 14px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),a.jsx(xr,{}),a.jsxs("main",{className:"flex-1 w-full ml-0 overflow-auto pt-14 pb-20 sm:pt-0 sm:pb-0 lg:ml-64",children:[a.jsxs("div",{className:"items-center justify-between hidden mb-6 sm:flex lg:mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 lg:text-3xl",children:e("stockManagement")}),a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:e("stockOverview")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>x("add"),className:"inline-flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[a.jsx(Ur,{className:"w-4 h-4"}),e("addStock")]}),a.jsxs("button",{onClick:()=>x("remove"),className:"inline-flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors shadow-sm",children:[a.jsx(py,{className:"w-4 h-4"}),e("removeStock")]}),a.jsxs(Ti,{to:"/stock-history",className:"inline-flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[a.jsx($s,{className:"w-4 h-4"}),e("stockHistory")]}),a.jsx("button",{onClick:()=>w(!0),disabled:A,title:e("refreshStock"),className:"p-2 text-gray-700 transition-colors bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 touch-manipulation active:scale-95",children:a.jsx($i,{className:`w-5 h-5 ${A?"animate-spin":""}`})})]})]}),a.jsxs("div",{className:"",children:[a.jsx("div",{className:"p-3 border-b border-gray-200 sm:p-4 lg:p-6",children:a.jsx("div",{className:"flex items-center justify-end"})}),a.jsx("div",{className:"hidden overflow-x-auto lg:block",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{onClick:()=>N("size"),className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase transition-colors cursor-pointer hover:bg-gray-100 group",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e("size"),a.jsx(Oa,{size:14,className:"transition-opacity opacity-0 group-hover:opacity-100"})]})}),a.jsx("th",{onClick:()=>N("total_stock"),className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase transition-colors cursor-pointer hover:bg-gray-100 group",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e("totalStock"),a.jsx(Oa,{size:14,className:"transition-opacity opacity-0 group-hover:opacity-100"})]})}),a.jsx("th",{onClick:()=>N("available_stock"),className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase transition-colors cursor-pointer hover:bg-gray-100 group",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e("available"),a.jsx(Oa,{size:14,className:"transition-opacity opacity-0 group-hover:opacity-100"})]})}),a.jsx("th",{onClick:()=>N("on_rent_stock"),className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase transition-colors cursor-pointer hover:bg-gray-100 group",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e("totalOnRent"),a.jsx(Oa,{size:14,className:"transition-opacity opacity-0 group-hover:opacity-100"})]})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:n?a.jsxs(a.Fragment,{children:[a.jsx(D,{}),a.jsx(D,{}),a.jsx(D,{}),a.jsx(D,{}),a.jsx(D,{})]}):F.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(It,{size:48,className:"text-gray-300"}),a.jsx("p",{className:"font-medium text-gray-500",children:e("outOfStock")}),a.jsx("p",{className:"text-sm text-gray-400",children:e("stockOverview")})]})})}):F.map((T,G)=>{const I=m.get(T.size)||{rent:0,borrowed:0},K=I.rent,W=I.borrowed,ie=Math.max(0,T.total_stock-K-T.lost_stock);return a.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${G%2===0?"bg-white":"bg-gray-25"}`,children:[a.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:a.jsx("span",{className:"text-lg font-bold text-gray-900",children:at[T.size-1]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-center text-gray-900 whitespace-nowrap",children:a.jsx("span",{className:"font-medium",children:T.total_stock})}),a.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:j(ie)}),a.jsxs("td",{className:"px-6 py-4 text-center",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:K+W}),a.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 flex items-center justify-center gap-1",children:["(",a.jsx("button",{onClick:()=>C(T.size,"rent"),className:"font-medium hover:text-blue-600 hover:underline focus:outline-none transition-colors",children:K}),"+",a.jsx("button",{onClick:()=>C(T.size,"borrowed"),className:"font-medium hover:text-purple-600 hover:underline focus:outline-none transition-colors",children:W}),")"]})]})]},T.size)})})]})}),a.jsx("div",{className:"overflow-x-auto lg:hidden",children:a.jsxs("table",{className:"min-w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[a.jsx("th",{className:"sticky left-0 z-10 px-1 py-1.5 text-xs font-bold text-center text-gray-700 bg-gray-100 border-r-2 border-gray-300 w-12 sm:px-2 sm:text-xs",children:e("size")}),a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[60px] sm:min-w-[80px]",children:e("total_stock")}),a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[70px] sm:min-w-[90px]",children:e("available_stock")}),a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[60px] sm:min-w-[80px]",children:e("on_rent_stock")}),a.jsx("th",{className:"px-1 py-1.5 text-xs sm:text-sm font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[60px] sm:min-w-[80px]",children:e("borrowed_stock")})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n?a.jsx(a.Fragment,{children:[1,2,3].map(T=>a.jsxs("tr",{className:"animate-pulse",children:[a.jsx("td",{className:"sticky left-0 z-10 px-2 py-2 bg-white border-r-2 border-gray-300 sm:px-3",children:a.jsx("div",{className:"w-8 h-4 bg-gray-200 rounded"})}),a.jsx("td",{className:"px-2 py-2 border-r border-gray-200",children:a.jsx("div",{className:"w-12 h-4 mx-auto bg-gray-200 rounded"})}),a.jsx("td",{className:"px-2 py-2 border-r border-gray-200",children:a.jsx("div",{className:"w-16 h-6 mx-auto bg-gray-200 rounded-full"})}),a.jsx("td",{className:"px-2 py-2 border-r border-gray-200",children:a.jsx("div",{className:"w-12 h-4 mx-auto bg-gray-200 rounded"})}),a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"w-12 h-4 mx-auto bg-gray-200 rounded"})})]},T))}):F.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"px-2 py-8 text-center",children:[a.jsx(It,{size:32,className:"mx-auto mb-2 text-gray-300"}),a.jsx("p",{className:"text-xs font-medium text-gray-500",children:"No stock found"})]})}):F.map((T,G)=>{const I=m.get(T.size)||{rent:0,borrowed:0},K=I.rent,W=I.borrowed,ie=Math.max(0,T.total_stock-K-T.lost_stock);return a.jsxs("tr",{className:G%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:"sticky left-0 z-10 px-1 py-1.5 text-xs font-bold text-center text-gray-900 border-r-2 border-gray-300 sm:px-2 sm:text-base bg-inherit",children:at[T.size-1]}),a.jsx("td",{className:"px-1 py-1.5 text-center border-r border-gray-200",children:a.jsx("span",{className:"text-xs font-semibold sm:text-sm",children:T.total_stock})}),a.jsx("td",{className:"px-1 py-1.5 text-center border-r border-gray-200",children:j(ie)}),a.jsx("td",{className:"px-1 py-1.5 text-center border-r border-gray-200",children:a.jsx("button",{onClick:()=>C(T.size,"rent"),className:"text-orange-600 hover:underline font-bold text-xs sm:text-sm focus:outline-none",children:K})}),a.jsx("td",{className:"px-1 py-1.5 text-center",children:a.jsx("button",{onClick:()=>C(T.size,"borrowed"),className:"text-purple-600 hover:underline font-bold text-xs sm:text-sm focus:outline-none",children:W})})]},T.size)}),!n&&F.length>0&&a.jsxs("tr",{className:"bg-gray-100 border-t-2 border-gray-300",children:[a.jsx("td",{className:"sticky left-0 z-10 px-1 py-2 text-xs font-bold text-center text-gray-900 border-r-2 border-gray-300 sm:px-2 sm:text-base bg-gray-100",children:e("total")||"Total"}),a.jsx("td",{className:"px-1 py-2 text-center border-r border-gray-200",children:a.jsx("span",{className:"text-xs font-bold sm:text-sm",children:F.reduce((T,G)=>T+G.total_stock,0)})}),a.jsx("td",{className:"px-1 py-2 text-center border-r border-gray-200",children:a.jsx("span",{className:"text-xs font-bold sm:text-sm text-green-700",children:F.reduce((T,G)=>{const I=m.get(G.size)||{rent:0},K=Math.max(0,G.total_stock-I.rent-G.lost_stock);return T+K},0)})}),a.jsx("td",{className:"px-1 py-2 text-center border-r border-gray-200",children:a.jsx("span",{className:"text-xs font-bold sm:text-sm text-orange-600",children:F.reduce((T,G)=>{const I=m.get(G.size)||{rent:0};return T+I.rent},0)})}),a.jsx("td",{className:"px-1 py-2 text-center",children:a.jsx("span",{className:"text-xs font-bold sm:text-sm text-purple-600",children:F.reduce((T,G)=>{const I=m.get(G.size)||{borrowed:0};return T+I.borrowed},0)})})]})]})]})}),t.length>0&&!n&&a.jsx("div",{className:"px-3 py-3 border-t border-gray-200 sm:px-4 sm:py-4 lg:px-6 bg-gray-50",children:a.jsx("div",{className:"p-3 bg-white border border-gray-200 rounded-lg lg:hidden sm:p-4",children:a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-orange-500 flex-shrink-0"}),a.jsx("span",{className:"text-xs text-orange-600",children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-purple-500 flex-shrink-0"}),a.jsx("span",{className:"text-xs text-purple-600",children:"   "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-xs text-green-600",children:" "})]})]})})})]})]}),a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-2 bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] lg:hidden z-40 flex gap-2",children:[a.jsxs("button",{onClick:()=>x("add"),className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-bold text-white bg-green-600 rounded-xl shadow-md hover:bg-green-700 active:scale-95 transition-all",children:[a.jsx(Ur,{className:"w-4 h-4"}),e("addStock")]}),a.jsxs("button",{onClick:()=>x("remove"),className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-bold text-white bg-red-600 rounded-xl shadow-md hover:bg-red-700 active:scale-95 transition-all",children:[a.jsx(py,{className:"w-4 h-4"}),e("removeStock")]}),a.jsx(Ti,{to:"/stock-history",className:"inline-flex items-center justify-center p-2 text-gray-700 bg-gray-50 border border-gray-200 rounded-xl shadow-sm active:scale-95 transition-all",children:a.jsx($s,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>w(!0),disabled:A,className:"inline-flex items-center justify-center p-2 text-gray-700 bg-gray-50 border border-gray-200 rounded-xl shadow-sm active:scale-95 transition-all",children:a.jsx($i,{className:`w-5 h-5 ${A?"animate-spin":""}`})})]}),g.isOpen&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",children:a.jsxs("div",{className:"w-full max-w-lg bg-white rounded-t-xl sm:rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-4 bg-white border-b border-gray-100",children:[a.jsx("h3",{className:`text-lg font-bold ${g.type==="add"?"text-green-600":"text-red-600"}`,children:g.type==="add"?e("addStock"):e("removeStock")}),a.jsx("button",{onClick:()=>f(T=>({...T,isOpen:!1})),className:"p-1 text-gray-400 rounded-full hover:bg-gray-100 hover:text-gray-600",children:a.jsx(Bt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Date"}),a.jsx("input",{type:"date",value:g.date,onChange:T=>f(G=>({...G,date:T.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Party Name / Reason ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:g.partyName,onChange:T=>f(G=>({...G,partyName:T.target.value})),placeholder:"e.g. New Purchase or Damaged",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Note (Optional)"}),a.jsx("textarea",{value:g.note,onChange:T=>f(G=>({...G,note:T.target.value})),placeholder:"Any additional details...",rows:2,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Total Amount (Optional)"}),a.jsx("input",{type:"number",value:g.amount,onChange:T=>f(G=>({...G,amount:T.target.value})),placeholder:"0.00",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]})]}),a.jsx("div",{className:"border-t border-gray-100 my-2"}),a.jsx("h4",{className:"text-sm font-bold text-gray-800 mb-2",children:"Sizes Quantities"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:at.map((T,G)=>{const I=G+1;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 text-center",children:T}),a.jsx("input",{type:"number",min:"0",placeholder:"0",value:g.quantities[I]||"",onChange:K=>b(I,K.target.value),className:"w-full px-3 py-2 text-center text-sm font-semibold border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]},I)})}),a.jsx("div",{className:"pt-4 mt-2 border-t border-gray-100",children:a.jsx("button",{onClick:_,className:`w-full py-2.5 px-4 text-sm font-bold text-white rounded-lg shadow-md transition-all active:scale-[0.98] ${g.type==="add"?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-green-200":"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-red-200"}`,children:g.type==="add"?"Confirm & Add Stock":"Confirm & Remove Stock"})})]})]})}),d.isOpen&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[80vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:[d.type==="borrowed"?e("borrowed_stock"):e("on_rent_stock")," "," "]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsxs("p",{children:[": ",at[d.size-1]]}),a.jsx("span",{children:""}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[": ",d.data.reduce((T,G)=>T+G.quantity,0)]})]})]}),a.jsx("button",{onClick:()=>h({...d,isOpen:!1}),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Bt,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-4 overflow-y-auto custom-scrollbar",children:d.loading?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-500",children:[a.jsx(Vi,{className:"w-8 h-8 mb-2 animate-spin text-blue-500"}),a.jsx("p",{className:"text-sm",children:"Loading distribution..."})]}):d.data.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-500 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[a.jsx(Gi,{className:"w-8 h-8 mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm font-medium",children:"No active rentals"}),a.jsx("p",{className:"text-xs text-gray-400",children:"No clients currently have this size"})]}):a.jsx("div",{className:"space-y-3",children:d.data.map((T,G)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-100 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-50 text-blue-600 font-bold text-xs rounded-lg",children:G+1}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:T.clientName}),T.clientFullName&&T.clientFullName!==T.clientName&&a.jsx("p",{className:"text-[11px] text-gray-500 truncate max-w-[180px]",children:T.clientFullName}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),T.site]}),T.notes&&T.notes.length>0&&a.jsx("div",{className:"mt-1 flex flex-col gap-0.5",children:T.notes.map((I,K)=>a.jsx("p",{className:"text-[10px] text-purple-700 bg-purple-50 px-1.5 py-0.5 rounded w-fit",children:I},K))})]})]}),a.jsx("div",{className:"px-3 py-1 bg-blue-50 text-blue-700 font-bold text-sm rounded-lg",children:T.quantity})]},G))})}),a.jsxs("div",{className:"p-3 bg-gray-50 border-t border-gray-200 text-center text-xs text-gray-500",children:[" : ",d.data.length]})]})})]})},bP=()=>{const{t:e}=be(),[t,r]=v.useState([]),[n,s]=v.useState(!0),[A,i]=v.useState("all"),[o,l]=v.useState(""),u=async()=>{s(!0);let d=X.from("stock_history").select("*").order("date",{ascending:!1});A!=="all"&&(d=d.eq("type",A)),o&&(d=d.or(`party_name.ilike.%${o}%,note.ilike.%${o}%`));const{data:h,error:m}=await d;m?(console.error("Error fetching stock history:",m),R.error("Failed to fetch history")):r(h||[]),s(!1)};v.useEffect(()=>{u()},[A,o]);const c=async d=>{if(window.confirm(e("confirmDeleteStockHistory")||"Are you sure you want to delete this entry? This will reverse the stock changes."))try{s(!0);const h=R.loading("Reversing stock changes..."),m=Object.entries(d.items).map(async([y,w])=>{const g=parseInt(y),f=w;if(f<=0)return;const{data:x,error:b}=await X.from("stock").select("total_stock").eq("size",g).single();if(b)throw b;const _=x.total_stock,C=d.type==="add"?Math.max(0,_-f):_+f,{error:N}=await X.from("stock").update({total_stock:C}).eq("size",g);if(N)throw N});await Promise.all(m);const{error:p}=await X.from("stock_history").delete().eq("id",d.id);if(p)throw p;R.dismiss(h),R.success("Entry deleted and stock reversed successfully"),u()}catch(h){console.error("Error deleting stock history:",h),R.error("Failed to delete entry"),s(!1)}};return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Zt,{position:"top-center"}),a.jsx(xr,{}),a.jsx("main",{className:"flex-1 w-full ml-0 overflow-auto pt-14 pb-20 sm:pt-0 sm:pb-0 lg:ml-64",children:a.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex flex-col gap-4 mb-6 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"hidden sm:block",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ti,{to:"/stock",className:"text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(An,{className:"w-5 h-5"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e("stockHistory")})]}),a.jsx("p",{className:"text-sm text-gray-600 pl-7",children:e("trackStockAdjustments")})]}),a.jsxs("div",{className:"hidden sm:flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:e("searchPartyOrNote"),value:o,onChange:d=>l(d.target.value),className:"pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none w-full sm:w-64"})]}),a.jsxs("div",{className:"flex items-center bg-white border border-gray-300 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>i("all"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${A==="all"?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50"}`,children:e("all")}),a.jsx("button",{onClick:()=>i("add"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${A==="add"?"bg-green-100 text-green-800":"text-gray-600 hover:bg-gray-50"}`,children:e("added")}),a.jsx("button",{onClick:()=>i("remove"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${A==="remove"?"bg-red-100 text-red-800":"text-gray-600 hover:bg-gray-50"}`,children:e("removed")})]})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:n?a.jsx("div",{className:"p-8 text-center text-gray-500",children:e("loadingHistory")}):t.length===0?a.jsx("div",{className:"p-12 text-center text-gray-500",children:e("noRecordsFound")}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 whitespace-nowrap",children:e("date")}),a.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 whitespace-nowrap",children:e("total")}),at.map(d=>a.jsx("th",{className:"px-2 py-3 font-medium text-gray-500 text-center whitespace-nowrap min-w-[60px]",children:d},d)),a.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 whitespace-nowrap",children:e("partyOrReason")}),a.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 text-right whitespace-nowrap",children:e("amount")}),a.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 whitespace-nowrap",children:e("note")}),a.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 text-center whitespace-nowrap",children:e("action")||"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(d=>{const h=Object.values(d.items).reduce((p,y)=>p+(y||0),0),m=d.type==="add";return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-4 py-4 text-gray-600 whitespace-nowrap",children:xe(new Date(d.date),"dd MMM yyyy")}),a.jsxs("td",{className:`px-4 py-4 font-bold whitespace-nowrap ${m?"text-green-600":"text-red-600"}`,children:[m?"+":"-",h]}),at.map((p,y)=>{const w=d.items[y+1];return a.jsx("td",{className:"px-2 py-4 text-center text-gray-600 font-medium",children:w||""},y)}),a.jsx("td",{className:"px-4 py-4 text-gray-900 font-medium whitespace-nowrap",children:d.party_name}),a.jsx("td",{className:"px-4 py-4 text-right font-medium text-gray-900 whitespace-nowrap",children:d.amount&&d.amount>0?`${d.amount.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-4 py-4 text-sm text-gray-500 max-w-[200px] truncate",children:d.note||"-"}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("button",{onClick:()=>c(d),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete and reverse stock",children:a.jsx(on,{className:"w-4 h-4"})})})]},d.id)})})]})})})]})})]})},BP=({challan:e,type:t,isOpen:r,onClose:n,onSave:s})=>{const{t:A}=be(),[i,o]=v.useState(!1),[l,u]=v.useState(""),[c,d]=v.useState(""),[h,m]=v.useState(""),[p,y]=v.useState(""),[w,g]=v.useState({size_1_qty:null,size_2_qty:null,size_3_qty:null,size_4_qty:null,size_5_qty:null,size_6_qty:null,size_7_qty:null,size_8_qty:null,size_9_qty:null,size_1_borrowed:null,size_2_borrowed:null,size_3_borrowed:null,size_4_borrowed:null,size_5_borrowed:null,size_6_borrowed:null,size_7_borrowed:null,size_8_borrowed:null,size_9_borrowed:null,size_1_note:null,size_2_note:null,size_3_note:null,size_4_note:null,size_5_note:null,size_6_note:null,size_7_note:null,size_8_note:null,size_9_note:null,main_note:null}),[f,x]=v.useState({size_1_qty:0,size_2_qty:0,size_3_qty:0,size_4_qty:0,size_5_qty:0,size_6_qty:0,size_7_qty:0,size_8_qty:0,size_9_qty:0,size_1_borrowed:0,size_2_borrowed:0,size_3_borrowed:0,size_4_borrowed:0,size_5_borrowed:0,size_6_borrowed:0,size_7_borrowed:0,size_8_borrowed:0,size_9_borrowed:0,size_1_note:null,size_2_note:null,size_3_note:null,size_4_note:null,size_5_note:null,size_6_note:null,size_7_note:null,size_8_note:null,size_9_note:null,main_note:null});if(v.useEffect(()=>{if(e&&r){u(e.date||""),d(e.driverName||""),m(e.isAlternativeSite?e.site:""),y(e.isSecondaryPhone?e.phone:""),x(e.items);const C={size_1_qty:e.items.size_1_qty===0?null:e.items.size_1_qty,size_2_qty:e.items.size_2_qty===0?null:e.items.size_2_qty,size_3_qty:e.items.size_3_qty===0?null:e.items.size_3_qty,size_4_qty:e.items.size_4_qty===0?null:e.items.size_4_qty,size_5_qty:e.items.size_5_qty===0?null:e.items.size_5_qty,size_6_qty:e.items.size_6_qty===0?null:e.items.size_6_qty,size_7_qty:e.items.size_7_qty===0?null:e.items.size_7_qty,size_8_qty:e.items.size_8_qty===0?null:e.items.size_8_qty,size_9_qty:e.items.size_9_qty===0?null:e.items.size_9_qty,size_1_borrowed:e.items.size_1_borrowed===0?null:e.items.size_1_borrowed,size_2_borrowed:e.items.size_2_borrowed===0?null:e.items.size_2_borrowed,size_3_borrowed:e.items.size_3_borrowed===0?null:e.items.size_3_borrowed,size_4_borrowed:e.items.size_4_borrowed===0?null:e.items.size_4_borrowed,size_5_borrowed:e.items.size_5_borrowed===0?null:e.items.size_5_borrowed,size_6_borrowed:e.items.size_6_borrowed===0?null:e.items.size_6_borrowed,size_7_borrowed:e.items.size_7_borrowed===0?null:e.items.size_7_borrowed,size_8_borrowed:e.items.size_8_borrowed===0?null:e.items.size_8_borrowed,size_9_borrowed:e.items.size_9_borrowed===0?null:e.items.size_9_borrowed,size_1_note:e.items.size_1_note||null,size_2_note:e.items.size_2_note||null,size_3_note:e.items.size_3_note||null,size_4_note:e.items.size_4_note||null,size_5_note:e.items.size_5_note||null,size_6_note:e.items.size_6_note||null,size_7_note:e.items.size_7_note||null,size_8_note:e.items.size_8_note||null,size_9_note:e.items.size_9_note||null,main_note:e.items.main_note||null};g(C)}},[e,r]),!r||!e)return null;const b=(C,N,j)=>{g(F=>({...F,[`size_${C}_${N}`]:N==="note"?j===""?null:j:j===""?null:Number(j)}))},_=async()=>{if(!(e!=null&&e.clientId)){alert(A("clientIdNotFound"));return}o(!0);try{const C=t==="udhar"?"update_udhar_challan_with_stock":"update_jama_challan_with_stock",N=t==="udhar"?"p_udhar_date":"p_jama_date",{data:j,error:F}=await X.rpc(C,{p_challan_number:e.challanNumber,p_client_id:e.clientId,p_alternative_site:h||null,p_secondary_phone_number:p||null,[N]:l,p_driver_name:c||null,p_old_size_1_qty:f.size_1_qty,p_old_size_2_qty:f.size_2_qty,p_old_size_3_qty:f.size_3_qty,p_old_size_4_qty:f.size_4_qty,p_old_size_5_qty:f.size_5_qty,p_old_size_6_qty:f.size_6_qty,p_old_size_7_qty:f.size_7_qty,p_old_size_8_qty:f.size_8_qty,p_old_size_9_qty:f.size_9_qty,p_old_size_1_borrowed:f.size_1_borrowed,p_old_size_2_borrowed:f.size_2_borrowed,p_old_size_3_borrowed:f.size_3_borrowed,p_old_size_4_borrowed:f.size_4_borrowed,p_old_size_5_borrowed:f.size_5_borrowed,p_old_size_6_borrowed:f.size_6_borrowed,p_old_size_7_borrowed:f.size_7_borrowed,p_old_size_8_borrowed:f.size_8_borrowed,p_old_size_9_borrowed:f.size_9_borrowed,p_new_size_1_qty:w.size_1_qty??0,p_new_size_2_qty:w.size_2_qty??0,p_new_size_3_qty:w.size_3_qty??0,p_new_size_4_qty:w.size_4_qty??0,p_new_size_5_qty:w.size_5_qty??0,p_new_size_6_qty:w.size_6_qty??0,p_new_size_7_qty:w.size_7_qty??0,p_new_size_8_qty:w.size_8_qty??0,p_new_size_9_qty:w.size_9_qty??0,p_new_size_1_borrowed:w.size_1_borrowed??0,p_new_size_2_borrowed:w.size_2_borrowed??0,p_new_size_3_borrowed:w.size_3_borrowed??0,p_new_size_4_borrowed:w.size_4_borrowed??0,p_new_size_5_borrowed:w.size_5_borrowed??0,p_new_size_6_borrowed:w.size_6_borrowed??0,p_new_size_7_borrowed:w.size_7_borrowed??0,p_new_size_8_borrowed:w.size_8_borrowed??0,p_new_size_9_borrowed:w.size_9_borrowed??0,p_new_size_1_note:w.size_1_note,p_new_size_2_note:w.size_2_note,p_new_size_3_note:w.size_3_note,p_new_size_4_note:w.size_4_note,p_new_size_5_note:w.size_5_note,p_new_size_6_note:w.size_6_note,p_new_size_7_note:w.size_7_note,p_new_size_8_note:w.size_8_note,p_new_size_9_note:w.size_9_note,p_new_main_note:w.main_note});if(F)throw F;j&&typeof j=="object"&&"success"in j?j.success?(alert(A("challanUpdated")),s(),n()):alert(`Error: ${j.message}`):(alert(A("challanUpdated")),s(),n())}catch(C){console.error("Error updating challan:",C),alert(A("errorUpdatingChallan"))}finally{o(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-3 bg-black bg-opacity-50 sm:p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 flex items-center justify-between gap-2 px-4 py-3 bg-white border-b border-gray-200 sm:px-6 sm:py-4",children:[a.jsxs("h2",{className:"flex-1 text-lg font-bold text-gray-900 sm:text-2xl",children:[A("edit")," ",A(t==="udhar"?"udharChallan":"jamaChallan")]}),a.jsx("button",{onClick:n,className:"flex-shrink-0 text-gray-400 transition-colors hover:text-gray-600",children:a.jsx(Bt,{size:24})})]}),a.jsxs("div",{className:"p-4 space-y-4 sm:p-6 sm:space-y-6",children:[a.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 sm:p-4",children:[a.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 sm:text-lg",children:A("challanDetails")}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-700 sm:text-sm",children:A("date")}),a.jsx("input",{type:"date",value:l,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-700 sm:text-sm",children:A("driverName")}),a.jsx("input",{type:"text",value:c,onChange:C=>d(C.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-700 sm:text-sm",children:A("secondaryPhone")}),a.jsx("input",{type:"text",value:p,onChange:C=>y(C.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-700 sm:text-sm",children:A("alternativeSite")}),a.jsx("input",{type:"text",value:h,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-gray-900",children:A("itemsDetails")}),a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-xs font-medium text-left text-gray-500 uppercase",children:A("size")}),a.jsx("th",{className:"px-4 py-2 text-xs font-medium text-left text-gray-500 uppercase",children:A("quantity")}),a.jsx("th",{className:"px-4 py-2 text-xs font-medium text-left text-gray-500 uppercase",children:A("borrowedStock")}),a.jsx("th",{className:"px-4 py-2 text-xs font-medium text-left text-gray-500 uppercase",children:A("note")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[1,2,3,4,5,6,7,8,9].map(C=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-900 whitespace-nowrap",children:at[C-1]}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:a.jsx("input",{type:"number",min:"0",inputMode:"numeric",value:w[`size_${C}_qty`]??"",onChange:N=>b(C,"qty",N.target.value),className:"w-24 px-3 py-2.5 text-sm text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[44px]"})}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:a.jsx("input",{type:"number",min:"0",inputMode:"numeric",value:w[`size_${C}_borrowed`]??"",onChange:N=>b(C,"borrowed",N.target.value),className:"w-24 px-3 py-2.5 text-sm text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[44px]"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"text",value:w[`size_${C}_note`]||"",onChange:N=>b(C,"note",N.target.value),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[44px]"})})]},C))})]})}),a.jsx("div",{className:"-mx-4 md:hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsx("div",{className:"overflow-hidden",children:a.jsxs("table",{className:"min-w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[a.jsx("th",{className:"sticky left-0 z-5 px-1 py-1.5 text-[10px] font-bold text-center text-gray-700 bg-gray-100 border-r-2 border-gray-300 w-12 sm:px-2 sm:text-xs",children:A("size")}),a.jsx("th",{className:"px-1 py-1.5 text-[8px] sm:text-[10px] font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[60px] sm:min-w-[70px]",children:A("quantity")}),a.jsx("th",{className:"px-1 py-1.5 text-[8px] sm:text-[10px] font-semibold text-center text-gray-700 border-r border-gray-200 min-w-[60px] sm:min-w-[70px]",children:A("borrowedStock")}),a.jsx("th",{className:"px-1 py-1.5 text-[8px] sm:text-[10px] font-semibold text-center text-gray-700 min-w-[100px] sm:min-w-[120px]",children:A("note")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[1,2,3,4,5,6,7,8,9].map((C,N)=>a.jsxs("tr",{className:N%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:"sticky left-0 z-5 px-1 py-1.5 text-[10px] font-bold text-center text-gray-900 border-r-2 border-gray-300 sm:px-2 sm:text-sm bg-inherit",children:at[C-1]}),a.jsx("td",{className:"px-1 py-1.5 border-r border-gray-200",children:a.jsx("input",{type:"number",min:"0",inputMode:"numeric",value:w[`size_${C}_qty`]??"",onChange:j=>b(C,"qty",j.target.value),className:"w-full px-2 py-2 text-[13px] sm:text-sm text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[40px] sm:min-h-[44px] touch-manipulation active:scale-[0.97]"})}),a.jsx("td",{className:"px-1 py-1.5 border-r border-gray-200",children:a.jsx("input",{type:"number",min:"0",inputMode:"numeric",value:w[`size_${C}_borrowed`]??"",onChange:j=>b(C,"borrowed",j.target.value),className:"w-full px-2 py-2 text-[13px] sm:text-sm text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[40px] sm:min-h-[44px] touch-manipulation active:scale-[0.97]"})}),a.jsx("td",{className:"px-1 py-1.5",children:a.jsx("input",{type:"text",value:w[`size_${C}_note`]||"",onChange:j=>b(C,"note",j.target.value),className:"w-full px-2 py-2 text-[13px] sm:text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[40px] sm:min-h-[44px] touch-manipulation active:scale-[0.97]",placeholder:A("optionalNote")})})]},C))})]})})})})}),a.jsxs("div",{className:"mt-3 sm:mt-4",children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-700 sm:text-sm",children:A("mainNote")}),a.jsx("textarea",{value:w.main_note||"",onChange:C=>g(N=>({...N,main_note:C.target.value||null})),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"sticky bottom-0 z-20 flex flex-col-reverse justify-end gap-2 px-4 py-3 border-t border-gray-200 bg-gray-50 sm:px-6 sm:py-4 sm:flex-row sm:gap-3",children:[a.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 text-sm text-gray-800 transition-colors bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:A("cancel")}),a.jsx("button",{onClick:_,disabled:i,className:"px-4 py-2 text-sm text-white transition-colors bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i?"Saving...":A("save")})]})]})})},Ea={size_1_qty:0,size_2_qty:0,size_3_qty:0,size_4_qty:0,size_5_qty:0,size_6_qty:0,size_7_qty:0,size_8_qty:0,size_9_qty:0,size_1_borrowed:0,size_2_borrowed:0,size_3_borrowed:0,size_4_borrowed:0,size_5_borrowed:0,size_6_borrowed:0,size_7_borrowed:0,size_8_borrowed:0,size_9_borrowed:0,size_1_note:null,size_2_note:null,size_3_note:null,size_4_note:null,size_5_note:null,size_6_note:null,size_7_note:null,size_8_note:null,size_9_note:null,main_note:null},CP=()=>{const{t:e}=be(),[t,r]=v.useState("udhar"),[n,s]=v.useState([]),[A,i]=v.useState([]),[o,l]=v.useState(!0),[u,c]=v.useState(!1),[d,h]=v.useState(null),[m,p]=v.useState(!1),[y,w]=v.useState(!1),[g,f]=v.useState(""),[x,b]=v.useState(1),[_]=v.useState(10),[C,N]=v.useState("dateNewOld"),[j,F]=v.useState(!1);v.useEffect(()=>{G()},[]),v.useEffect(()=>{const U=V=>{V.target.closest(".sort-menu-container")||F(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const D=U=>{switch(U){case"dateNewOld":return e("dateNewOld");case"dateOldNew":return e("dateOldNew");case"numberHighLow":return e("numberHighLow");case"numberLowHigh":return e("numberLowHigh");default:return""}},T=U=>{const V=U||Ea;let Y=0;for(let O=1;O<=9;O++){const P=V[`size_${O}_qty`]||0,z=V[`size_${O}_borrowed`]||0;Y+=P+z}return Y},G=async(U=!1)=>{U?c(!0):l(!0);try{await Promise.all([I(),K()]),U&&R.success("Challans refreshed successfully")}catch(V){console.error("Error loading challans:",V),R.error("Failed to load challans")}finally{l(!1),c(!1)}},I=async()=>{const{data:U,error:V}=await X.from("udhar_challans").select(`
      udhar_challan_number,
      udhar_date,
      driver_name,
      alternative_site,
      secondary_phone_number,
      client_id,
      client:clients!udhar_challans_client_id_fkey (
        id,
        client_nic_name,
        client_name,
        site,
        primary_phone_number
      ),
      items:udhar_items!udhar_items_udhar_challan_number_fkey (
        size_1_qty, size_2_qty, size_3_qty, size_4_qty, size_5_qty,
        size_6_qty, size_7_qty, size_8_qty, size_9_qty,
        size_1_borrowed, size_2_borrowed, size_3_borrowed,
        size_4_borrowed, size_5_borrowed, size_6_borrowed,
        size_7_borrowed, size_8_borrowed, size_9_borrowed,
        size_1_note, size_2_note, size_3_note, size_4_note,
        size_5_note, size_6_note, size_7_note, size_8_note,
        size_9_note, main_note
      )
    `).order("udhar_challan_number",{ascending:!0});if(V){console.error("Error fetching udhar challans:",V);return}const Y=(U||[]).map(O=>{const P=O.items,z=Array.isArray(P)?P[0]||Ea:P||Ea;return{challanNumber:O.udhar_challan_number,date:O.udhar_date,driverName:O.driver_name,clientNicName:O.client.client_nic_name,clientFullName:O.client.client_name,clientId:O.client_id,site:O.alternative_site||O.client.site,isAlternativeSite:!!O.alternative_site,phone:O.secondary_phone_number||O.client.primary_phone_number,isSecondaryPhone:!!O.secondary_phone_number,items:z,totalItems:T(z)}});s(Y)},K=async()=>{const{data:U,error:V}=await X.from("jama_challans").select(`
      jama_challan_number,
      jama_date,
      driver_name,
      alternative_site,
      secondary_phone_number,
      client_id,
      client:clients!jama_challans_client_id_fkey (
        id,
        client_nic_name,
        client_name,
        site,
        primary_phone_number
      ),
      items:jama_items!jama_items_jama_challan_number_fkey (
        size_1_qty, size_2_qty, size_3_qty, size_4_qty, size_5_qty,
        size_6_qty, size_7_qty, size_8_qty, size_9_qty,
        size_1_borrowed, size_2_borrowed, size_3_borrowed,
        size_4_borrowed, size_5_borrowed, size_6_borrowed,
        size_7_borrowed, size_8_borrowed, size_9_borrowed,
        size_1_note, size_2_note, size_3_note, size_4_note,
        size_5_note, size_6_note, size_7_note, size_8_note,
        size_9_note, main_note
      )
    `).order("jama_challan_number",{ascending:!1});if(V){console.error("Error fetching jama challans:",V);return}const Y=(U||[]).map(O=>{const P=O.items,z=Array.isArray(P)?P[0]||Ea:P||Ea;return{challanNumber:O.jama_challan_number,date:O.jama_date,driverName:O.driver_name,clientNicName:O.client.client_nic_name,clientFullName:O.client.client_name,clientId:O.client_id,site:O.alternative_site||O.client.site,isAlternativeSite:!!O.alternative_site,phone:O.secondary_phone_number||O.client.primary_phone_number,isSecondaryPhone:!!O.secondary_phone_number,items:z,totalItems:T(z)}});i(Y)},W=U=>{h(U),p(!0)},ie=U=>{h(U),w(!0)},te=()=>{G(),R.success("Challan updated successfully")},k=U=>({...U,size_1_note:U.size_1_note||"",size_2_note:U.size_2_note||"",size_3_note:U.size_3_note||"",size_4_note:U.size_4_note||"",size_5_note:U.size_5_note||"",size_6_note:U.size_6_note||"",size_7_note:U.size_7_note||"",size_8_note:U.size_8_note||"",size_9_note:U.size_9_note||"",main_note:U.main_note||""}),M=async U=>{const V=R.loading("Generating JPEG...");try{const Y=document.createElement("div");Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y);const P=(await wn(()=>Promise.resolve().then(()=>og),void 0)).createRoot(Y);await new Promise(z=>{P.render(a.jsx(As,{challanType:t,challanNumber:U.challanNumber,date:new Date(U.date).toLocaleDateString("en-GB"),clientName:U.clientFullName,clientSortName:U.clientNicName,site:U.site,phone:U.phone,driverName:U.driverName||"",items:k(U.items)})),setTimeout(z,100)}),await xo(t,U.challanNumber,new Date(U.date).toLocaleDateString("en-GB")),P.unmount(),document.body.removeChild(Y),R.dismiss(V),R.success(e("challanDownloadSuccess"))}catch(Y){R.dismiss(V),console.error("Error generating JPEG:",Y),R.error(e("challanDownloadError"))}},$=async U=>{if(!window.confirm(`${e("confirmDelete")}

${e("challanNumber")}: ${U.challanNumber}
${e("totalItems")}: ${U.totalItems} ${e("pieces")}

${e("deleteWarning")}`))return;const Y=R.loading("Deleting challan...");try{const O=t==="udhar"?"delete_udhar_challan_with_stock":"delete_jama_challan_with_stock",{data:P,error:z}=await X.rpc(O,{p_challan_number:U.challanNumber,p_size_1_qty:U.items.size_1_qty,p_size_2_qty:U.items.size_2_qty,p_size_3_qty:U.items.size_3_qty,p_size_4_qty:U.items.size_4_qty,p_size_5_qty:U.items.size_5_qty,p_size_6_qty:U.items.size_6_qty,p_size_7_qty:U.items.size_7_qty,p_size_8_qty:U.items.size_8_qty,p_size_9_qty:U.items.size_9_qty,p_size_1_borrowed:U.items.size_1_borrowed,p_size_2_borrowed:U.items.size_2_borrowed,p_size_3_borrowed:U.items.size_3_borrowed,p_size_4_borrowed:U.items.size_4_borrowed,p_size_5_borrowed:U.items.size_5_borrowed,p_size_6_borrowed:U.items.size_6_borrowed,p_size_7_borrowed:U.items.size_7_borrowed,p_size_8_borrowed:U.items.size_8_borrowed,p_size_9_borrowed:U.items.size_9_borrowed});if(R.dismiss(Y),z)throw z;P&&typeof P=="object"&&"success"in P?P.success?(R.success("Challan deleted successfully"),G()):R.error(`Error: ${P.message}`):(R.success("Challan deleted successfully"),G())}catch(O){R.dismiss(Y),console.error("Error deleting challan:",O),R.error("Failed to delete challan")}},B=t==="udhar"?n:A,E=v.useMemo(()=>B.filter(V=>{const Y=g.toLowerCase();return V.challanNumber.toLowerCase().includes(Y)||V.clientNicName.toLowerCase().includes(Y)||V.clientFullName.toLowerCase().includes(Y)||V.site.toLowerCase().includes(Y)}).sort((V,Y)=>{if(g.trim()){const O=g.toLowerCase().trim(),P=V.challanNumber.toLowerCase(),z=Y.challanNumber.toLowerCase();if(P===O&&z!==O)return-1;if(z===O&&P!==O)return 1;const Z=(V.clientNicName||"").toLowerCase(),q=(Y.clientNicName||"").toLowerCase(),L=Ae=>{const Et=Ae.match(/^(\d+)/);return Et?Et[1]:""},ee=L(Z),se=L(q),me=ee===O,Pe=se===O;if(me&&!Pe)return-1;if(Pe&&!me)return 1}switch(C){case"dateNewOld":return new Date(Y.date).getTime()-new Date(V.date).getTime();case"dateOldNew":return new Date(V.date).getTime()-new Date(Y.date).getTime();case"numberHighLow":return Y.challanNumber.localeCompare(V.challanNumber);case"numberLowHigh":return V.challanNumber.localeCompare(Y.challanNumber);default:return 0}}),[B,g,C]),S=Math.ceil(E.length/_),Q=v.useMemo(()=>{const U=(x-1)*_;return E.slice(U,U+_)},[E,x,_]);v.useEffect(()=>{b(1)},[g,t,C]);const H=()=>a.jsxs("tr",{className:"animate-pulse",children:[a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-20 h-4 bg-gray-200 rounded sm:w-24"})}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-16 h-4 bg-gray-200 rounded sm:w-20"})}),a.jsxs("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:[a.jsx("div",{className:"w-24 h-4 mb-1 bg-gray-200 rounded sm:w-32"}),a.jsx("div",{className:"w-20 h-3 bg-gray-200 rounded sm:w-24"})]}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-20 h-4 bg-gray-200 rounded sm:w-28"})}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-20 h-4 bg-gray-200 rounded sm:w-24"})}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-12 h-4 bg-gray-200 rounded sm:w-16"})}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:a.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded sm:w-32"})})]});return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Zt,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",fontSize:"13px",padding:"10px 14px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),a.jsx(xr,{}),a.jsx("main",{className:"flex-1 w-full ml-0 overflow-auto pt-14 sm:pt-0 lg:ml-64",children:a.jsxs("div",{className:`w-full px-3 py-3 pb-20 mx-auto sm:px-4 sm:py-5 lg:px-8 lg:py-12 lg:pb-12 max-w-7xl ${m||y?"blur-sm":""} transition-all duration-200`,children:[a.jsxs("div",{className:"items-center justify-between hidden mb-6 sm:flex lg:mb-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 lg:text-3xl",children:e("challanBook")}),a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"View and manage all challans"})]}),a.jsx("button",{onClick:()=>G(!0),disabled:u,title:"Refresh",className:"p-2 text-gray-700 transition-colors bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 touch-manipulation active:scale-95",children:a.jsx($i,{className:`w-5 h-5 ${u?"animate-spin":""}`})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm sm:rounded-xl",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsx("button",{onClick:()=>r("udhar"),className:`flex-1 py-3 sm:py-4 px-3 sm:px-6 text-center font-semibold text-xs sm:text-sm transition-colors touch-manipulation active:scale-[0.98] ${t==="udhar"?"border-b-2 border-red-600 text-red-600 bg-red-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:[a.jsx(lt,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("udharChallans")}),a.jsx("span",{className:"sm:hidden",children:e("udhar")}),a.jsx("span",{className:`px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs rounded-full ${t==="udhar"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:n.length})]})}),a.jsx("button",{onClick:()=>r("jama"),className:`flex-1 py-3 sm:py-4 px-3 sm:px-6 text-center font-semibold text-xs sm:text-sm transition-colors touch-manipulation active:scale-[0.98] ${t==="jama"?"border-b-2 border-green-600 text-green-600 bg-green-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:[a.jsx(It,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("jamaChallans")}),a.jsx("span",{className:"sm:hidden",children:e("jama")}),a.jsx("span",{className:`px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs rounded-full ${t==="jama"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:A.length})]})})]})}),a.jsx("div",{className:"p-3 border-b border-gray-200 sm:p-4 lg:p-6 bg-gray-50",children:a.jsxs("div",{className:"relative flex items-center w-full",children:[a.jsx(ds,{className:"absolute w-4 h-4 text-gray-400 left-3"}),a.jsx("input",{type:"text",placeholder:e("searchChallan"),value:g,onChange:U=>f(U.target.value),className:"w-full pl-10 pr-28 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsxs("div",{className:"absolute flex items-center gap-2 right-2",children:[g&&a.jsx("button",{onClick:()=>f(""),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx("div",{className:"flex items-center justify-center w-4 h-4",children:""})}),a.jsxs("div",{className:"relative sort-menu-container",children:[a.jsxs("button",{onClick:()=>F(U=>!U),className:"flex items-center gap-1.5 px-2 py-1.5 text-xs text-gray-600 rounded-md",children:[a.jsx(bu,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:D(C)})]}),j&&a.jsx("div",{className:"absolute right-0 z-10 w-40 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",children:["dateNewOld","dateOldNew","numberHighLow","numberLowHigh"].map(U=>a.jsx("button",{onClick:()=>{N(U),F(!1)},className:`w-full px-4 py-2 text-xs text-left transition-colors hover:bg-gray-50 ${C===U?"text-blue-600 bg-blue-50":"text-gray-700"}`,children:D(U)},U))})]})]})]})}),a.jsx("div",{className:"hidden overflow-x-auto lg:block",children:o?a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("challanNumber")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("date")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("clientName")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("site")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("phone")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("totalItems")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("actions")})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[a.jsx(H,{}),a.jsx(H,{}),a.jsx(H,{}),a.jsx(H,{}),a.jsx(H,{})]})]}):E.length===0?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx(lt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-lg font-medium text-gray-500",children:e("noChallansFound")}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:e("tryAdjustingSearch")})]}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("challanNumber")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(ns,{size:14}),e("date")]})}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("clientName")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("site")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("phone")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("totalItems")}),a.jsx("th",{className:"px-6 py-4 text-xs font-medium tracking-wider text-center text-gray-500 uppercase",children:e("actions")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Q.map((U,V)=>a.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${V%2===0?"bg-white":"bg-gray-25"}`,children:[a.jsx("td",{className:"px-6 py-4 text-sm font-bold text-center text-gray-900 whitespace-nowrap",children:U.challanNumber}),a.jsx("td",{className:"px-6 py-4 text-sm text-center text-gray-900 whitespace-nowrap",children:U.date?xe(new Date(U.date),"dd/MM/yyyy"):"N/A"}),a.jsx("td",{className:"px-6 py-4 text-sm text-center text-gray-900",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:U.clientNicName}),a.jsx("div",{className:"text-xs text-gray-500",children:U.clientFullName})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-center text-gray-900",children:a.jsx("div",{className:"flex items-center justify-center gap-2",children:U.site})}),a.jsx("td",{className:"px-6 py-4 text-sm text-center text-gray-900 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center gap-2",children:U.phone})}),a.jsx("td",{className:"px-6 py-4 text-sm text-center whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[a.jsx(It,{size:12}),U.totalItems]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-center text-gray-900 whitespace-nowrap",children:a.jsxs("div",{className:"flex justify-center gap-1",children:[a.jsx("button",{onClick:()=>W(U),className:"p-2 text-blue-600 transition-colors rounded-lg hover:bg-blue-50 hover:text-blue-800 touch-manipulation active:scale-95",title:e("viewDetails"),children:a.jsx(Gs,{size:16})}),a.jsx("button",{onClick:()=>ie(U),className:"p-2 text-yellow-600 transition-colors rounded-lg hover:bg-yellow-50 hover:text-yellow-800 touch-manipulation active:scale-95",title:e("edit"),children:a.jsx(Sc,{size:16})}),a.jsx("button",{onClick:()=>M(U),className:"p-2 text-blue-600 transition-colors rounded-lg hover:bg-blue-50 hover:text-blue-800 touch-manipulation active:scale-95",title:e("downloadJPEG"),children:a.jsx(Vr,{size:16})}),a.jsx("button",{onClick:()=>$(U),className:"p-2 text-red-600 transition-colors rounded-lg hover:bg-red-50 hover:text-red-800 touch-manipulation active:scale-95",title:e("delete"),children:a.jsx(on,{size:16})})]})})]},U.challanNumber))})]})}),a.jsx("div",{className:"p-3 space-y-3 sm:p-4 sm:space-y-4 lg:hidden",children:o?a.jsx(a.Fragment,{children:[1,2,3].map(U=>a.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm sm:p-4 sm:rounded-xl animate-pulse",children:[a.jsx("div",{className:"w-24 h-5 mb-3 bg-gray-200 rounded sm:w-32 sm:h-6"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})]},U))}):E.length===0?a.jsxs("div",{className:"py-12 text-center",children:[a.jsx(lt,{size:40,className:"mx-auto mb-3 text-gray-300 sm:w-12 sm:h-12"}),a.jsx("p",{className:"text-sm font-medium text-gray-500 sm:text-base",children:e("noChallansFound")})]}):Q.map(U=>a.jsxs("div",{className:`p-3 sm:p-4 border shadow-sm rounded-lg sm:rounded-xl ${t==="udhar"?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{className:`px-3 py-1.5 rounded-lg font-bold text-xs sm:text-sm text-white ${t==="udhar"?"bg-red-600":"bg-green-600"}`,children:["#",U.challanNumber]})}),a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 sm:px-2.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-medium ${t==="udhar"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[a.jsx(It,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),U.totalItems]})]}),a.jsxs("div",{className:"pb-3 mb-3 space-y-2 text-xs border-b border-gray-300 sm:text-sm",children:[a.jsxs("div",{className:"flex gap-2 sm:hidden",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:U.clientNicName}),a.jsx("span",{className:"text-gray-600",children:"-"}),a.jsx("span",{className:"text-gray-600",children:U.clientFullName})]}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:U.clientNicName}),a.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:U.clientFullName})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-gray-700",children:[a.jsx(ns,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 shrink-0"}),a.jsx("span",{children:U.date?xe(new Date(U.date),"dd/MM/yyyy"):"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-gray-700 min-w-0 flex-1",children:[a.jsx(yt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 shrink-0"}),a.jsx("span",{className:"truncate",children:U.site})]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-2",children:[a.jsxs("button",{onClick:()=>W(U),className:"flex flex-col items-center justify-center gap-1 px-2 py-2 text-blue-600 transition-colors bg-white rounded-lg hover:bg-blue-50 touch-manipulation active:scale-95",children:[a.jsx(Gs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:"View"})]}),a.jsxs("button",{onClick:()=>ie(U),className:"flex flex-col items-center justify-center gap-1 px-2 py-2 text-yellow-600 transition-colors bg-white rounded-lg hover:bg-yellow-50 touch-manipulation active:scale-95",children:[a.jsx(Sc,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:"Edit"})]}),a.jsxs("button",{onClick:()=>M(U),className:"flex flex-col items-center justify-center gap-1 px-2 py-2 text-blue-600 transition-colors bg-white rounded-lg hover:bg-blue-50 touch-manipulation active:scale-95",children:[a.jsx(Vr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:"Download"})]}),a.jsxs("button",{onClick:()=>$(U),className:"flex flex-col items-center justify-center gap-1 px-2 py-2 text-red-600 transition-colors bg-white rounded-lg hover:bg-red-50 touch-manipulation active:scale-95",children:[a.jsx(on,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:"Delete"})]})]})]},U.challanNumber))}),!o&&E.length>0&&a.jsx("div",{className:"px-3 py-3 border-t border-gray-200 sm:px-4 sm:py-4 lg:px-6 bg-gray-50",children:a.jsxs("div",{className:"flex flex-col items-center justify-between gap-3 sm:flex-row sm:gap-0",children:[a.jsxs("div",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-medium",children:(x-1)*_+1})," to"," ",a.jsx("span",{className:"font-medium",children:Math.min(x*_,E.length)})," ","of ",a.jsx("span",{className:"font-medium",children:E.length})," challans"]}),a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[a.jsx("button",{onClick:()=>b(U=>Math.max(1,U-1)),disabled:x===1,className:"p-1.5 sm:p-2 text-gray-600 transition-colors border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation active:scale-95",children:a.jsx(KT,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5"})}),a.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,S)},(U,V)=>{let Y;return S<=5||x<=3?Y=V+1:x>=S-2?Y=S-4+V:Y=x-2+V,a.jsx("button",{onClick:()=>b(Y),className:`px-2.5 sm:px-3 py-1 sm:py-1.5 text-[10px] sm:text-xs lg:text-sm font-medium rounded-lg transition-colors touch-manipulation active:scale-95 ${x===Y?t==="udhar"?"bg-red-600 text-white":"bg-green-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:Y},Y)})}),a.jsx("button",{onClick:()=>b(U=>Math.min(S,U+1)),disabled:x===S,className:"p-1.5 sm:p-2 text-gray-600 transition-colors border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation active:scale-95",children:a.jsx(go,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5"})})]})]})})]})]})}),a.jsx(p1,{challan:d,type:t,isOpen:m,onClose:()=>p(!1),onDownload:M}),a.jsx(BP,{challan:d,type:t,isOpen:y,onClose:()=>w(!1),onSave:te})]})};function _P({transactions:e,currentBalance:t,clientNicName:r,clientFullName:n,clientSite:s,clientPhone:A}){const{language:i}=be(),o=gu[i],[l,u]=v.useState("asc"),c=async y=>{try{const w=document.createElement("div");w.style.position="absolute",w.style.left="-9999px",w.style.width="2450px",document.body.appendChild(w);const g=document.createElement("div");g.id="receipt-template",g.style.display="flex",g.style.gap="40px",g.style.backgroundColor="white",g.style.padding="0",w.appendChild(g);const f={challanType:y.type,challanNumber:y.challanNumber,date:new Date(y.date).toLocaleDateString("en-GB"),clientName:n,clientSortName:r,site:y.site||s,phone:A,driverName:y.driverName,items:y.items},x=a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"relative",width:"1200px",height:"1697px"},children:a.jsx(As,{...f})}),a.jsx("div",{style:{position:"relative",width:"1200px",height:"1697px"},children:a.jsx(As,{...f})})]}),_=(await wn(()=>Promise.resolve().then(()=>og),void 0)).createRoot(g);await new Promise(C=>{_.render(x),setTimeout(C,500)}),await xo(y.type,y.challanNumber.toString(),new Date(y.date).toLocaleDateString("en-GB"),2440,1697),_.unmount(),document.body.removeChild(w),R.success(o.challanDownloadSuccess)}catch(w){console.error("Error downloading challan:",w),R.error(o.challanDownloadError)}},d=e?[...e].sort((y,w)=>{const g=new Date(y.date).getTime(),f=new Date(w.date).getTime();return l==="asc"?g-f:f-g}):[],h=()=>{u(y=>y==="asc"?"desc":"asc")},m=(y,w)=>{const g=y.qty+y.borrowed;if(g===0&&!w)return"-";let f=null;return g>0&&(y.borrowed===0?f=a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:y.qty}),w&&a.jsxs("sup",{className:"ml-1 text-xs font-bold text-red-700",children:["(",w,")"]})]}):y.qty===0?f=a.jsxs("span",{children:[a.jsx("span",{className:"font-bold text-red-700",children:y.borrowed}),w&&a.jsxs("sup",{className:"ml-1 text-xs font-bold text-red-700",children:["(",w,")"]})]}):f=a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:y.qty+y.borrowed}),a.jsxs("sup",{className:"ml-1 text-xs font-bold text-red-700",children:[y.borrowed,w&&a.jsxs("span",{children:["(",w,")"]})]})]})),!f&&w&&(f=a.jsxs("sup",{className:"text-xs font-bold text-red-700",children:["(",w,")"]})),a.jsx("div",{children:f||"-"})},p=y=>y.total===0?"-":y.borrowed===0?a.jsx("span",{className:"font-bold",children:y.main}):y.main===0?a.jsx("span",{className:"font-bold text-red-700",children:y.borrowed}):a.jsxs("span",{children:[a.jsx("span",{className:"font-bold",children:y.main+y.borrowed}),a.jsx("sup",{className:"ml-1 text-xs font-bold text-red-700",children:y.borrowed})]});return!e||e.length===0?a.jsx("div",{className:"py-8 text-center text-gray-500",children:o.noTransactions}):a.jsx("div",{className:"-mx-5 overflow-x-auto md:mx-0",children:a.jsx("div",{className:"inline-block min-w-full align-middle",children:a.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-lg md:border-0",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 text-xs font-medium tracking-wider text-left text-gray-500 uppercase sm:text-sm",children:o.challanNumber}),a.jsx("th",{className:"px-2 py-2 text-xs font-medium tracking-wider text-left text-gray-500 uppercase sm:text-sm",children:a.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs hover:text-gray-700",children:[o.date,a.jsx(Oa,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})}),a.jsx("th",{className:"px-2 py-2 text-xs font-medium tracking-wider text-left text-gray-500 uppercase sm:text-sm",children:o.grandTotal}),at.map((y,w)=>a.jsx("th",{className:"px-2 py-2 text-xs font-medium tracking-wider text-center text-gray-500 sm:text-sm whitespace-nowrap",children:y},w+1)),a.jsx("th",{className:"px-2 py-2 text-xs font-medium tracking-wider text-left text-gray-500 uppercase sm:text-sm",children:o.site}),a.jsx("th",{className:"px-2 py-2 text-xs font-medium tracking-wider text-left text-gray-500 uppercase sm:text-sm",children:o.driver}),a.jsx("th",{className:"px-2 py-2 text-xs font-medium tracking-wider text-center text-gray-500 uppercase sm:text-sm",children:o.actions})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.jsxs("tr",{className:"font-semibold bg-blue-50",children:[a.jsx("td",{className:"px-2 py-2 text-xs whitespace-nowrap sm:text-sm",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-blue-500 rounded-full"}),a.jsx("span",{children:o.currentBalance})]})}),a.jsx("td",{className:"px-2 py-2 text-xs text-gray-500 whitespace-nowrap sm:text-sm",children:"-"}),a.jsx("td",{className:"px-2 py-2 text-xs font-medium whitespace-nowrap sm:text-sm",children:t.grandTotal}),[1,2,3,4,5,6,7,8,9].map(y=>a.jsx("td",{className:"px-2 py-2 text-xs text-center whitespace-nowrap sm:text-sm",children:p(t.sizes[y])},y)),a.jsx("td",{className:"px-2 py-2 text-xs text-gray-500 whitespace-nowrap sm:text-sm",children:"-"}),a.jsx("td",{className:"px-2 py-2 text-xs text-gray-500 whitespace-nowrap sm:text-sm",children:"-"}),a.jsx("td",{className:"px-2 py-2 text-xs text-gray-500 whitespace-nowrap sm:text-sm",children:"-"})]}),d.map((y,w)=>a.jsxs("tr",{className:y.type==="udhar"?"bg-red-50":"bg-green-50",children:[a.jsx("td",{className:"px-2 py-2 text-xs whitespace-nowrap sm:text-sm",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:`w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full ${y.type==="udhar"?"bg-red-500":"bg-green-500"}`}),a.jsxs("span",{children:["#",y.challanNumber]})]})}),a.jsx("td",{className:"px-2 py-2 text-xs whitespace-nowrap sm:text-sm",children:new Date(y.date).toLocaleDateString("en-GB")}),a.jsx("td",{className:"px-2 py-2 text-xs font-medium whitespace-nowrap sm:text-sm",children:y.grandTotal}),[1,2,3,4,5,6,7,8,9].map(g=>{var x;const f=(x=y.items)==null?void 0:x[`size_${g}_note`];return a.jsx("td",{className:"px-2 py-2 text-xs text-center sm:text-sm",children:m(y.sizes[g],f)},g)}),a.jsx("td",{className:"px-2 py-2 text-xs whitespace-nowrap sm:text-sm",children:y.site}),a.jsx("td",{className:"px-2 py-2 text-xs whitespace-nowrap sm:text-sm",children:y.driverName||"-"}),a.jsx("td",{className:"px-2 py-2 text-center whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center gap-1",children:a.jsx("button",{onClick:()=>c(y),className:"inline-flex items-center justify-center p-1 text-blue-600 rounded hover:text-blue-800 hover:bg-blue-100",title:o.downloadJPEG,children:a.jsx(Vr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})})})]},`${y.type}-${y.challanId}-${w}`))]})]})})})})}const Od=[1,2,3,4,5,6,7,8,9];function Ly({clientNicName:e,clientFullName:t,clientSite:r,clientPhone:n,transactions:s,currentBalance:A,elementId:i,simpleMode:o=!1}){const{language:l}=be(),u=(g,f)=>{const x=((g==null?void 0:g.qty)||0)+((g==null?void 0:g.borrowed)||0);return x===0&&!f?"-":x>0?g.borrowed===0?a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:g.qty}),f&&a.jsxs("sup",{className:"ml-1 text-xs font-bold text-red-700",children:["(",f,")"]})]}):g.qty===0?a.jsxs("span",{children:[a.jsx("span",{className:"font-bold text-red-700",children:g.borrowed}),f&&a.jsxs("sup",{className:"ml-1 text-xs font-bold text-red-700",children:["(",f,")"]})]}):a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:g.qty+g.borrowed}),a.jsxs("sup",{className:"ml-1 text-xs font-bold text-red-700",children:[g.borrowed,f&&a.jsxs("span",{children:["(",f,")"]})]})]}):f?a.jsxs("sup",{className:"text-xs font-bold text-red-700",children:["(",f,")"]}):"-"},c=g=>!g||g.total===0?"-":g.borrowed===0?a.jsx("span",{className:"font-bold",children:g.main}):g.main===0?a.jsx("span",{className:"font-bold text-red-700",children:g.borrowed}):a.jsxs("span",{children:[a.jsx("span",{className:"font-bold",children:g.main+g.borrowed}),a.jsx("sup",{className:"ml-1 text-xs font-bold text-red-700",children:g.borrowed})]}),d=[...s].sort((g,f)=>new Date(g.date).getTime()-new Date(f.date).getTime()),h=s.filter(g=>g.type==="udhar").length,m=s.filter(g=>g.type==="jama").length,p=new Date,y=p.toLocaleDateString("en-GB"),w=p.toLocaleTimeString("en-GB");return a.jsxs("div",{id:i||"client-ledger-download",style:{width:o?"800px":"1300px",backgroundColor:"#ffffff",fontFamily:"Segoe UI, Tahoma, Geneva, Verdana, sans-serif",padding:"24px",boxSizing:"border-box"},children:[a.jsxs("header",{style:{borderBottom:"1px solid #e5e7eb",paddingBottom:"16px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"16px"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"4px"},children:["  ",o?"(Simple)":""]}),a.jsxs("div",{style:{fontSize:"16px",fontWeight:600,color:"#374151",marginBottom:"2px"},children:[e," - ",t]}),a.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:[r," | ",n]})]}),a.jsxs("div",{style:{textAlign:"right",fontSize:"12px",color:"#9ca3af"},children:[a.jsxs("div",{children:[": ",y]}),a.jsxs("div",{children:["  ",w]})]})]}),a.jsx("div",{style:{border:"1px solid #d1d5db",borderRadius:"8px",overflow:"hidden"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[a.jsx("thead",{style:{backgroundColor:"#f3f4f6",color:"#374151",textTransform:"uppercase",fontWeight:700},children:a.jsxs("tr",{children:[a.jsx("th",{style:{padding:"8px 8px",textAlign:"left",minWidth:o?"100px":"120px",borderBottom:"2px solid #d1d5db"},children:" #"}),a.jsx("th",{style:{padding:"8px 8px",textAlign:"left",minWidth:o?"100px":"90px",borderBottom:"2px solid #d1d5db"},children:""}),a.jsx("th",{style:{padding:"8px 4px",textAlign:"center",minWidth:o?"80px":"70px",borderBottom:"2px solid #d1d5db"},children:""}),!o&&Od.map((g,f)=>a.jsx("th",{style:{padding:"8px 2px",textAlign:"center",minWidth:"70px",borderBottom:"2px solid #d1d5db"},children:at[f]},g)),a.jsx("th",{style:{padding:"8px 8px",textAlign:"left",minWidth:"120px",borderBottom:"2px solid #d1d5db"},children:""}),a.jsx("th",{style:{padding:"8px 8px",textAlign:"left",minWidth:"120px",borderBottom:"2px solid #d1d5db"},children:""})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{style:{backgroundColor:"#dbeafe",fontWeight:700},children:[a.jsxs("td",{style:{padding:"10px 8px",borderBottom:"1px solid #d1d5db",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("span",{style:{width:"10px",height:"10px",borderRadius:"9999px",backgroundColor:"#2563eb",display:"inline-block"}}),a.jsx("span",{children:" "})]}),a.jsx("td",{style:{padding:"10px 8px",borderBottom:"1px solid #d1d5db",color:"#6b7280"},children:"-"}),a.jsx("td",{style:{padding:"10px 4px",borderBottom:"1px solid #d1d5db",textAlign:"center",fontSize:"16px"},children:A.grandTotal}),!o&&Od.map(g=>a.jsx("td",{style:{padding:"10px 4px",borderBottom:"1px solid #d1d5db",textAlign:"center"},children:c(A.sizes[g])},g)),a.jsx("td",{style:{padding:"10px 8px",borderBottom:"1px solid #d1d5db",color:"#6b7280"},children:"-"}),a.jsx("td",{style:{padding:"10px 8px",borderBottom:"1px solid #d1d5db",color:"#6b7280"},children:"-"})]}),d.map((g,f)=>{const x=g.type==="udhar",b=x?"#fef2f2":"#f0fdf4",_=x?"#dc2626":"#16a34a";return a.jsxs("tr",{style:{backgroundColor:b,borderBottom:"1px solid #e5e7eb"},children:[a.jsxs("td",{style:{padding:"8px 8px",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[a.jsx("span",{style:{width:"10px",height:"10px",borderRadius:"9999px",backgroundColor:_,display:"inline-block"}}),a.jsxs("span",{children:["#",g.challanNumber]})]}),a.jsx("td",{style:{padding:"8px 8px",whiteSpace:"nowrap"},children:new Date(g.date).toLocaleDateString("en-GB")}),a.jsx("td",{style:{padding:"8px 4px",textAlign:"center",fontWeight:500},children:g.grandTotal}),!o&&Od.map(C=>{var j;const N=(j=g.items)==null?void 0:j[`size_${C}_note`];return a.jsx("td",{style:{padding:"8px 4px",textAlign:"center"},children:u(g.sizes[C],N)},C)}),a.jsx("td",{style:{padding:"8px 8px"},children:g.site}),a.jsx("td",{style:{padding:"8px 8px"},children:g.driverName||"-"})]},`${g.type}-${g.challanId}-${f}`)})]})]})}),a.jsxs("section",{style:{marginTop:"24px",display:"flex",gap:"16px",fontSize:"14px"},children:[a.jsxs("div",{style:{flex:1,padding:"16px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px"},children:[a.jsx("p",{style:{fontWeight:600,color:"#b91c1c",marginBottom:"8px"},children:" "}),a.jsx("p",{style:{fontSize:"24px",fontWeight:700,color:"#991b1b"},children:h})]}),a.jsxs("div",{style:{flex:1,padding:"16px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px"},children:[a.jsx("p",{style:{fontWeight:600,color:"#15803d",marginBottom:"8px"},children:" "}),a.jsx("p",{style:{fontSize:"24px",fontWeight:700,color:"#166534"},children:m})]}),a.jsxs("div",{style:{flex:1,padding:"16px",backgroundColor:"#dbeafe",border:"1px solid #bfdbfe",borderRadius:"8px"},children:[a.jsx("p",{style:{fontWeight:600,color:"#1e40af",marginBottom:"8px"},children:" "}),a.jsx("p",{style:{fontSize:"24px",fontWeight:700,color:"#1e3a8a"},children:A.grandTotal})]})]}),a.jsx("div",{style:{textAlign:"center",padding:"4px 0",marginTop:"40px",fontSize:"18px",fontWeight:"600",color:"#dc2626",letterSpacing:"0.5px",opacity:.6},children:"      - 8866471567"})]})}async function jP(e,t){const r=document.getElementById(e);if(!r)throw new Error("Ledger element not found");try{const n=await aP(r,{quality:1,pixelRatio:2,backgroundColor:"#ffffff"}),s=document.createElement("a"),A=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);s.download=`ledger_${t}_${A}.png`,s.href=n,s.click()}catch(n){throw console.error("Error generating ledger image:",n),n}}function NP({ledger:e}){var y,w,g,f;const{language:t}=be(),r=gu[t],n=ut(),[s,A]=v.useState(!1),i=x=>x.charAt(0).toUpperCase(),o=async x=>{const b=R.loading("Generating ledger image...");try{const _=`client-ledger-download-${e.clientId}-${x}`;await jP(_,e.clientNicName),R.dismiss(b),R.success("Ledger downloaded successfully")}catch(_){R.dismiss(b),console.error("Error generating ledger:",_),R.error("Failed to generate ledger")}},l=x=>{x.stopPropagation(),n("/udhar-challan",{state:{preselectedClient:{id:e.clientId,nicName:e.clientNicName,fullName:e.clientFullName,site:e.clientSite,phone:e.clientPhone}}})},u=x=>{x.stopPropagation(),n("/jama-challan",{state:{preselectedClient:{id:e.clientId,nicName:e.clientNicName,fullName:e.clientFullName,site:e.clientSite,phone:e.clientPhone}}})},c=v.useRef(null),d=v.useRef(!1),h=x=>{x.stopPropagation(),d.current=!1,c.current=setTimeout(()=>{d.current=!0,o("simple"),navigator.vibrate&&navigator.vibrate(200)},2e3)},m=x=>{x.stopPropagation(),c.current&&(clearTimeout(c.current),c.current=null),d.current||o("detailed")},p=()=>{c.current&&(clearTimeout(c.current),c.current=null)};return a.jsxs("div",{className:"overflow-hidden bg-white border border-gray-200 rounded-lg shadow-md",children:[a.jsxs("div",{className:"p-4 pb-2 transition-colors cursor-pointer sm:p-5 sm:pb-3 hover:bg-gray-50",onClick:()=>A(!s),children:[a.jsxs("div",{className:"items-center justify-between hidden md:flex",children:[a.jsxs("div",{className:"flex items-center flex-1 gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 text-xl font-bold text-white bg-blue-500 rounded-full",children:i(e.clientNicName)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-base font-bold text-gray-900",children:e.clientNicName}),a.jsx("p",{className:"text-xs text-gray-500",children:e.clientFullName}),a.jsxs("div",{className:"flex items-center gap-4 mt-0.5 text-xs text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(yt,{className:"w-3.5 h-3.5"}),e.clientSite]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hr,{className:"w-3.5 h-3.5"}),e.clientPhone]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs text-gray-500",children:" "}),e.transactionsLoaded?a.jsx("span",{className:`text-sm font-semibold ${(((y=e.currentBalance)==null?void 0:y.grandTotal)??0)>0?"text-amber-600":"text-green-600"} `,children:((w=e.currentBalance)==null?void 0:w.grandTotal)??0}):a.jsx(Vi,{className:"w-5 h-5 animate-spin text-gray-400"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:l,className:"px-3 py-2 text-xs font-medium text-white transition-colors bg-red-500 rounded-full hover:bg-red-600",title:"Create Udhar Challan",children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ur,{className:"w-4 h-4"}),"Udhar"]})}),a.jsx("button",{onClick:u,className:"px-3 py-2 text-xs font-medium text-white transition-colors bg-green-500 rounded-full hover:bg-green-600",title:"Create Jama Challan",children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"flex items-center justify-center w-4 h-4 text-lg font-bold leading-none",children:"-"}),"Jama"]})}),a.jsx("button",{onMouseDown:h,onMouseUp:m,onMouseLeave:p,onTouchStart:h,onTouchEnd:m,className:"p-2 text-blue-600 transition-colors rounded-full bg-blue-50 hover:bg-blue-100 hover:text-blue-700 select-none",title:"Download: Click for Detailed, Hold 2s for Simple",children:a.jsx(Vr,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-gray-400 transition-colors rounded-full hover:bg-gray-100 hover:text-gray-600",children:s?a.jsx(Ls,{className:"w-5 h-5"}):a.jsx(an,{className:"w-5 h-5"})})]})]})]}),a.jsxs("div",{className:"md:hidden",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-base font-bold text-gray-900 truncate",children:e.clientNicName}),a.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 truncate",children:e.clientFullName})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"text-[10px] text-gray-500",children:" "}),e.transactionsLoaded?a.jsx("span",{className:`text-sm font-semibold ${(((g=e.currentBalance)==null?void 0:g.grandTotal)??0)>0?"text-amber-600":"text-green-600"} `,children:((f=e.currentBalance)==null?void 0:f.grandTotal)??0}):a.jsx(Vi,{className:"w-4 h-4 animate-spin text-gray-400"})]}),a.jsxs("div",{className:"flex flex-shrink-0 gap-1",children:[a.jsx("button",{onClick:l,className:"p-1.5 text-[10px] font-medium text-white bg-red-300 hover:bg-red-600 rounded-lg transition-colors touch-manipulation active:scale-95 flex items-center justify-center","aria-label":"Create Udhar",children:a.jsx(Ur,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:u,className:"p-1.5 text-[10px] font-medium text-white bg-green-300 hover:bg-green-600 rounded-lg transition-colors touch-manipulation active:scale-95 flex items-center justify-center","aria-label":"Create Jama",children:a.jsx("span",{className:"text-base font-bold leading-none",children:""})}),a.jsx("button",{onMouseDown:h,onMouseUp:m,onMouseLeave:p,onTouchStart:h,onTouchEnd:m,className:"p-1.5 sm:p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors touch-manipulation active:scale-95 select-none","aria-label":"Download Ledger (Hold 2s for Simple)",children:a.jsx(Vr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-[10px] sm:text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(yt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:e.clientSite})]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{children:e.clientPhone})]})]}),a.jsx("button",{className:"flex-shrink-0 ml-1 text-gray-600","aria-label":s?"Collapse":"Expand",children:s?a.jsx(Ls,{className:"w-2.5 h-2.5"}):a.jsx(an,{className:"w-2.5 h-2.5"})})]})]})]}),s&&a.jsxs("div",{className:"p-5 border-t border-gray-200 bg-gray-50",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h4",{className:"font-semibold text-gray-700 text-md",children:r.transactionHistory})}),a.jsx(_P,{transactions:e.transactions||[],currentBalance:e.currentBalance,clientNicName:e.clientNicName,clientFullName:e.clientFullName,clientSite:e.clientSite,clientPhone:e.clientPhone})]}),a.jsxs("div",{style:{position:"absolute",left:"-9999px",top:0},children:[a.jsx(Ly,{elementId:`client-ledger-download-${e.clientId}-detailed`,clientNicName:e.clientNicName,clientFullName:e.clientFullName,clientSite:e.clientSite,clientPhone:e.clientPhone,transactions:e.transactions,currentBalance:e.currentBalance,simpleMode:!1}),a.jsx(Ly,{elementId:`client-ledger-download-${e.clientId}-simple`,clientNicName:e.clientNicName,clientFullName:e.clientFullName,clientSite:e.clientSite,clientPhone:e.clientPhone,transactions:e.transactions,currentBalance:e.currentBalance,simpleMode:!0})]})]})}const E1=v.memo(()=>a.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm animate-pulse sm:hidden",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-200 rounded-full"}),a.jsxs("div",{children:[a.jsx("div",{className:"w-28 h-4 mb-1.5 bg-gray-200 rounded-md"}),a.jsx("div",{className:"w-20 h-3 bg-gray-200 rounded-md"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"w-10 h-3 mb-1 ml-auto bg-gray-200 rounded-md"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded-md w-14"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3.5 h-3.5 bg-gray-200 rounded-full"}),a.jsx("div",{className:"w-20 h-3 bg-gray-200 rounded-md"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-gray-200 rounded-full w-14 h-7"}),a.jsx("div",{className:"bg-gray-200 rounded-full w-14 h-7"}),a.jsx("div",{className:"bg-gray-200 rounded-full w-7 h-7"})]})]})]})),Q1=v.memo(()=>a.jsx("div",{className:"hidden p-4 bg-white border border-gray-200 shadow-sm sm:block rounded-xl lg:p-6 animate-pulse",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-200 rounded-full lg:w-14 lg:h-14"}),a.jsxs("div",{children:[a.jsx("div",{className:"w-48 h-5 mb-3 bg-gray-200 rounded-md lg:h-6"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-full"}),a.jsx("div",{className:"w-56 h-3.5 bg-gray-200 rounded-md"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-full"}),a.jsx("div",{className:"w-32 h-3.5 bg-gray-200 rounded-md"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"w-14 h-3.5 mb-1 bg-gray-200 rounded-md"}),a.jsx("div",{className:"w-20 h-5 bg-gray-200 rounded-md"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-20 h-8 bg-gray-200 rounded-full"}),a.jsx("div",{className:"w-20 h-8 bg-gray-200 rounded-full"}),a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"})]})]})]})})),Ra=v.memo(()=>a.jsxs(a.Fragment,{children:[a.jsx(E1,{}),a.jsx(Q1,{})]}));Ra.displayName="SkeletonCard";E1.displayName="MobileSkeletonCard";Q1.displayName="DesktopSkeletonCard";const Qa=10;function EP(){const{language:e}=be(),t=gu[e],[r,n]=v.useState([]),[s,A]=v.useState([]),[i,o]=v.useState(1),[l,u]=v.useState(!0),[c,d]=v.useState(!1),[h,m]=v.useState(!1),[p,y]=v.useState(!1),[w,g]=v.useState(""),[f,x]=v.useState("nameAZ"),[b,_]=v.useState(!1),C=v.useCallback(B=>{if(!w.trim())return B;const E=w.toLowerCase().trim(),S=parseInt(E),Q=!isNaN(S);return B.filter(H=>{if(Q){const P=(H.client_nic_name||"").match(/^(\d+)/);if(P&&parseInt(P[1])===S)return!0}const U=(H.client_nic_name||"").toLowerCase(),V=(H.client_name||"").toLowerCase(),Y=(H.site||"").toLowerCase();return U.includes(E)||V.includes(E)||Y.includes(E)})},[w]),N=v.useMemo(()=>{const B=new Map;return s.forEach(E=>B.set(E.clientId,E)),B},[s]),j=v.useMemo(()=>C(r),[r,C]),{filteredCount:F,hasMore:D}=v.useMemo(()=>({filteredCount:j.length,hasMore:i*Qa<j.length}),[j,i]),T=v.useCallback(B=>{const E={size_1:0,size_2:0,size_3:0,size_4:0,size_5:0,size_6:0,size_7:0,size_8:0,size_9:0,grandTotal:0};return B==null||B.forEach(S=>{const Q=S.items;if(Q)for(let H=1;H<=9;H++){const U=`size_${H}`,V=(Q[`size_${H}_qty`]||0)+(Q[`size_${H}_borrowed`]||0);E[U]+=V,E.grandTotal+=V}}),E},[]),G=v.useCallback(async(B,E=!1)=>{let S=[],Q={size_1:0,size_2:0,size_3:0,size_4:0,size_5:0,size_6:0,size_7:0,size_8:0,size_9:0,grandTotal:0},H={...Q},U={grandTotal:0,sizes:{}};for(let V=1;V<=9;V++)U.sizes[V]={main:0,borrowed:0,total:0};if(E)try{const V=await Mf(B.id),Y=[],O=[];S=V.map(P=>{const z={};let Z=0;for(let L=1;L<=9;L++){const ee=P.items[`size_${L}_qty`]||0,se=P.items[`size_${L}_borrowed`]||0;z[L]={qty:ee,borrowed:se},Z+=ee+se}const q={type:P.type,challanNumber:P.challanNumber,challanId:P.challanNumber,date:P.date,grandTotal:Z,sizes:z,site:P.site,driverName:P.driverName||"",items:P.items};return P.type==="udhar"?Y.push(q):O.push(q),q}),Q=T(Y),H=T(O),S.forEach(P=>{const z=P.type==="udhar"?1:-1;for(let Z=1;Z<=9;Z++){const q=P.sizes[Z];U.sizes[Z].main+=q.qty*z,U.sizes[Z].borrowed+=q.borrowed*z,U.sizes[Z].total=U.sizes[Z].main+U.sizes[Z].borrowed}}),U.grandTotal=Object.values(U.sizes).reduce((P,z)=>P+z.total,0)}catch(V){console.error("Error loading transactions:",V)}return{clientId:B.id,clientNicName:B.client_nic_name,clientFullName:B.client_name,clientSite:B.site,clientPhone:B.primary_phone_number,totalUdhar:Q,totalJama:H,currentBalance:U,udharCount:S.filter(V=>V.type==="udhar").length,jamaCount:S.filter(V=>V.type==="jama").length,transactions:S,transactionsLoaded:E}},[T]),I=v.useCallback(async()=>{const{data:B,error:E}=await X.from("clients").select("*").order("client_nic_name",{ascending:!0});if(E)throw E;return B||[]},[]),K=v.useCallback(async(B=!1)=>{u(!0),m(B);try{const E=await I();n(E);const S=E.slice(0,Qa),Q=await Promise.all(S.map(H=>G(H,!0)));A(Q),o(1),B&&R.success("Ledger data refreshed successfully")}catch(E){console.error("Error loading ledgers:",E),R.error("Failed to load client ledgers")}finally{u(!1),m(!1)}},[I,G]),W=v.useMemo(()=>[...j].sort((B,E)=>{var S,Q,H,U;if(w.trim()){const V=w.toLowerCase().trim(),Y=(B.client_nic_name||"").toLowerCase(),O=(E.client_nic_name||"").toLowerCase(),P=me=>{const Pe=me.match(/^(\d+)/);return Pe?Pe[1]:""},z=P(Y),Z=P(O),q=z===V,L=Z===V;if(q&&!L)return-1;if(L&&!q)return 1;const ee=Y.startsWith(V),se=O.startsWith(V);if(ee&&!se)return-1;if(se&&!ee)return 1}switch(f){case"nameAZ":return Pn(B.client_nic_name||"",E.client_nic_name||"");case"nameZA":return Pn(E.client_nic_name||"",B.client_nic_name||"");case"balanceHighLow":{const V=((S=N.get(B.id))==null?void 0:S.currentBalance.grandTotal)||0,Y=((Q=N.get(E.id))==null?void 0:Q.currentBalance.grandTotal)||0;return Y!==V?Y-V:Pn(B.client_nic_name||"",E.client_nic_name||"")}case"balanceLowHigh":{const V=((H=N.get(B.id))==null?void 0:H.currentBalance.grandTotal)||0,Y=((U=N.get(E.id))==null?void 0:U.currentBalance.grandTotal)||0;return V!==Y?V-Y:Pn(B.client_nic_name||"",E.client_nic_name||"")}default:return 0}}),[j,f,N,w]),ie=v.useCallback(async()=>{if(!c){d(!0);try{const E=i*Qa,Q=W.slice(0,E).filter(H=>{const U=N.get(H.id);return!U||!U.transactionsLoaded});if(Q.length>0){const H=await Promise.all(Q.map(U=>G(U,!0)));A(U=>{const V=[...U];return H.forEach(Y=>{const O=V.findIndex(P=>P.clientId===Y.clientId);O!==-1?V[O]=Y:V.push(Y)}),V})}}catch(B){console.error("Error loading ledgers:",B),R.error("Failed to load client data")}finally{d(!1)}}},[W,i,N,G,c]),te=v.useMemo(()=>{const E=i*Qa,S=W.slice(0,E),Q={grandTotal:0,sizes:{}};for(let U=1;U<=9;U++)Q.sizes[U]={main:0,borrowed:0,total:0};const H={size_1:0,size_2:0,size_3:0,size_4:0,size_5:0,size_6:0,size_7:0,size_8:0,size_9:0,grandTotal:0};return S.map(U=>{const V=N.get(U.id);return V||{clientId:U.id,clientNicName:U.client_nic_name,clientFullName:U.client_name,clientSite:U.site,clientPhone:U.primary_phone_number,totalUdhar:H,totalJama:H,currentBalance:Q,udharCount:0,jamaCount:0,transactions:[],transactionsLoaded:!1}})},[W,N,i]),k=async()=>{y(!0);try{const B=await I(),[E,S]=await Promise.all([Ji(),Xi()]),Q=[["Client Sort Name","Client Name","Site","Phone","Grand Total","Size 1","Size 2","Size 3","Size 4","Size 5","Size 6","Size 7","Size 8","Size 9"]],H=new Map,U=new Map;E.forEach(z=>{var q;const Z=z.clientId;H.has(Z)||H.set(Z,[]),(q=H.get(Z))==null||q.push(z)}),S.forEach(z=>{var q;const Z=z.clientId;U.has(Z)||U.set(Z,[]),(q=U.get(Z))==null||q.push(z)}),B.forEach(z=>{const Z=H.get(z.id)||[],q=U.get(z.id)||[],L=T(Z),ee=T(q),se={grandTotal:0};for(let me=1;me<=9;me++){const Pe=`size_${me}`,Ae=L[Pe],Et=ee[Pe];se[Pe]=Ae-Et}se.grandTotal=L.grandTotal-ee.grandTotal,Q.push([`"${z.client_nic_name||""}"`,`"${z.client_name||""}"`,`"${z.site||""}"`,`"${z.primary_phone_number||""}"`,se.grandTotal.toString(),se.size_1.toString(),se.size_2.toString(),se.size_3.toString(),se.size_4.toString(),se.size_5.toString(),se.size_6.toString(),se.size_7.toString(),se.size_8.toString(),se.size_9.toString()])});const V=Q.map(z=>z.join(",")).join(`
`),Y=new Blob([V],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),P=URL.createObjectURL(Y);O.setAttribute("href",P),O.setAttribute("download",`client_ledger_backup_${new Date().toISOString().split("T")[0]}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O),R.success("Backup downloaded successfully")}catch(B){console.error("Error downloading backup:",B),R.error("Failed to download backup")}finally{y(!1)}},M=v.useCallback(B=>{const E=B.currentTarget;!c&&D&&E.scrollHeight-E.scrollTop-E.clientHeight<100&&o(S=>S+1)},[c,D]);v.useEffect(()=>{K()},[K]),v.useEffect(()=>{o(1)},[w]),v.useEffect(()=>{ie()},[ie]);const $=B=>{switch(B){case"nameAZ":return t.nameAZ;case"nameZA":return t.nameZA;case"balanceHighLow":return t.balanceHighLow;case"balanceLowHigh":return t.balanceLowHigh;default:return""}};return v.useEffect(()=>{const B=E=>{E.target.closest(".sort-menu-container")||_(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Zt,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",fontSize:"13px",padding:"10px 14px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),a.jsx(xr,{}),a.jsx("main",{className:"flex-1 w-full ml-0 overflow-y-auto pt-14 sm:pt-0 lg:ml-64 h-[100dvh]",onScroll:M,children:a.jsxs("div",{className:"w-full h-full px-3 py-3 pb-20 mx-auto sm:px-4 sm:py-5 lg:px-8 lg:py-12 lg:pb-12 max-w-7xl",children:[a.jsxs("div",{className:"items-center justify-between hidden mb-6 sm:flex lg:mb-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 lg:text-3xl",children:t.clientLedger}),a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:t.rentalHistory})]}),a.jsx("button",{onClick:()=>K(!0),disabled:h,title:"Refresh",className:"p-2 text-gray-700 transition-colors bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 touch-manipulation active:scale-95",children:a.jsx($i,{className:`w-5 h-5 ${h?"animate-spin":""}`})})]}),a.jsx("div",{className:"relative mb-4",children:a.jsxs("div",{className:"relative flex items-center w-full",children:[a.jsx(ds,{className:"absolute w-4 h-4 text-gray-400 left-3"}),a.jsx("input",{type:"text",placeholder:t.searchClients,value:w,onChange:B=>g(B.target.value),className:"w-full pl-10 pr-28 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),a.jsxs("div",{className:"absolute flex items-center gap-2 right-2",children:[w&&a.jsx("button",{onClick:()=>g(""),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx("div",{className:"flex items-center justify-center w-4 h-4",children:""})}),a.jsxs("div",{className:"relative sort-menu-container flex items-center gap-2",children:[a.jsxs("button",{onClick:k,disabled:p,className:"flex items-center gap-1.5 px-2 py-1.5 text-xs text-gray-600 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50",title:"Download Backup (CSV)",children:[p?a.jsx(Vi,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(Vr,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Backup"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>_(B=>!B),className:"flex items-center gap-1.5 px-2 py-1.5 text-xs text-gray-600 rounded-md",children:[a.jsx(bu,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:$(f)})]}),b&&a.jsx("div",{className:"absolute right-0 z-10 w-40 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",children:["nameAZ","nameZA","balanceHighLow","balanceLowHigh"].map(B=>a.jsx("button",{onClick:()=>{x(B),_(!1)},className:`w-full px-4 py-2 text-xs text-left transition-colors hover:bg-gray-50 ${f===B?"text-blue-600 bg-blue-50":"text-gray-700"}`,children:$(B)},B))})]})]})]})]})}),l?a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsx(Ra,{}),a.jsx(Ra,{}),a.jsx(Ra,{}),a.jsx(Ra,{})]}):te.length===0?a.jsxs("div",{className:"p-8 text-center bg-white border border-gray-200 rounded-lg shadow-sm sm:p-12 lg:p-16 sm:rounded-xl",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-3 bg-gray-100 rounded-full sm:w-14 sm:h-14 sm:mb-4 lg:w-16 lg:h-16",children:a.jsx(Gi,{className:"w-6 h-6 text-gray-400 sm:w-7 sm:h-7 lg:w-8 lg:h-8"})}),a.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-900 sm:text-base lg:text-lg",children:w?t.noMatchingClients:t.noClients}),a.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-500",children:w?"Try adjusting your search criteria":"Add clients to start tracking their rental history"}),w&&a.jsx("button",{onClick:()=>g(""),className:"px-3 py-2 mt-3 text-xs font-medium text-blue-600 transition-colors rounded-lg sm:px-4 sm:py-2 sm:mt-4 sm:text-sm hover:text-blue-700 hover:bg-blue-50 touch-manipulation active:scale-95",children:"Clear search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3 sm:space-y-4",children:te.map(B=>a.jsx(NP,{ledger:B},B.clientId))}),D&&c&&a.jsx("div",{className:"flex justify-center py-4 sm:py-8",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 sm:text-sm",children:[a.jsx(Vi,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),a.jsx("span",{children:"Loading more clients..."})]})}),!D&&F>Qa&&a.jsx("div",{className:"py-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"You've reached the end of the list"})})]})]})})]})}const QP=({client:e,balance:t,onClick:r})=>a.jsxs("button",{onClick:r,className:"p-3 text-left transition-all bg-white border border-gray-200 shadow-sm sm:p-4 lg:p-5 group rounded-lg sm:rounded-xl hover:shadow-md hover:border-blue-500 touch-manipulation active:scale-[0.98]",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:gap-3 sm:mb-3",children:[a.jsx("div",{className:"p-1.5 sm:p-2 transition-colors bg-blue-100 rounded-md sm:rounded-lg group-hover:bg-blue-200",children:a.jsx(qt,{className:"w-4 h-4 text-blue-600 sm:w-5 sm:h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate transition-colors sm:text-base lg:text-lg group-hover:text-blue-600",children:e.client_nic_name}),a.jsx("p",{className:"text-[10px] sm:text-xs lg:text-sm text-gray-600 truncate",children:e.client_name})]}),t!==void 0&&t>0&&a.jsxs("div",{className:"text-right mr-2",children:[a.jsx("span",{className:"block text-[10px] text-gray-400 font-medium uppercase tracking-wider",children:"Payable"}),a.jsxs("span",{className:"text-xs font-bold text-red-600 sm:text-sm",children:["",t.toLocaleString("en-IN")]})]}),a.jsx(go,{className:"flex-shrink-0 w-4 h-4 text-gray-400 transition-transform sm:w-5 sm:h-5 group-hover:translate-x-1"})]}),a.jsxs("div",{className:"pt-2 mt-2 space-y-1 border-t border-gray-100 sm:pt-3 sm:mt-3 sm:space-y-1.5 lg:space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-[10px] sm:text-xs lg:text-sm text-gray-600",children:[a.jsx(yt,{className:"flex-shrink-0 w-3 h-3 text-gray-400 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{className:"truncate",children:e.site})]}),a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-[10px] sm:text-xs lg:text-sm text-gray-600",children:[a.jsx(hr,{className:"flex-shrink-0 w-3 h-3 text-gray-400 sm:w-3.5 sm:h-3.5"}),a.jsx("span",{children:e.primary_phone_number})]})]})]});function UP(){const e=ut(),{t}=be(),[r,n]=v.useState([]),[s,A]=v.useState({}),[i,o]=v.useState("");v.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:d,error:h}=await X.from("clients").select("*").order("client_nic_name",{ascending:!0});if(h)throw h;n(d||[]);const{data:m,error:p}=await X.from("bills").select("client_id, due_payment, to_date, created_at").order("to_date",{ascending:!1}).order("created_at",{ascending:!1});if(!p&&m){const y={},w=new Set;m.forEach(g=>{g.client_id&&!w.has(g.client_id)&&(y[g.client_id]=g.due_payment||0,w.add(g.client_id))}),A(y)}}catch(d){R.error("Error fetching clients"),console.error("Error fetching clients:",d)}},u=d=>{e(`/billing/create/${d}`)},c=r.filter(d=>d.client_nic_name.toLowerCase().includes(i.toLowerCase())||d.client_name.toLowerCase().includes(i.toLowerCase())||d.site.toLowerCase().includes(i.toLowerCase())||d.primary_phone_number.includes(i)).sort((d,h)=>{if(!i.trim())return 0;const m=i.toLowerCase().trim(),p=d.client_nic_name.toLowerCase(),y=h.client_nic_name.toLowerCase(),w=N=>{const j=N.match(/^(\d+)/);return j?j[1]:""},g=w(p),f=w(y),x=g===m,b=f===m;if(x&&!b)return-1;if(b&&!x)return 1;const _=p.startsWith(m),C=y.startsWith(m);return _&&!C?-1:C&&!_?1:0});return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(xr,{}),a.jsx("main",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"container max-w-6xl px-4 py-4 mx-auto sm:px-6 lg:px-8 sm:py-6 lg:py-8",children:[a.jsx("div",{className:"items-center justify-between hidden p-4 mb-4 bg-white border border-gray-200 sm:flex rounded-xl",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 lg:text-xl",children:t("selectClient")}),a.jsx("p",{className:"mt-0.5 text-xs text-gray-500 lg:text-sm",children:"Choose client for billing"})]})}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute text-gray-400 transform -translate-y-1/2 left-2.5 sm:left-3 top-1/2 w-4 h-4 sm:w-4.5 sm:h-4.5"}),a.jsx("input",{type:"text",value:i,onChange:d=>o(d.target.value),placeholder:t("searchClients")||"Search clients...",className:"w-full py-2 sm:py-2.5 lg:py-3 pl-8 sm:pl-10 pr-3 sm:pr-4 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs sm:text-sm"})]}),i&&a.jsx("div",{className:"px-3 py-1.5 sm:px-4 sm:py-2 border border-blue-200 rounded-lg bg-blue-50",children:a.jsxs("p",{className:"text-[10px] sm:text-xs lg:text-sm text-blue-700",children:["Found ",a.jsx("span",{className:"font-semibold",children:c.length})," client",c.length!==1?"s":""]})}),c.length===0?a.jsxs("div",{className:"p-8 text-center bg-white border border-gray-200 rounded-lg shadow-sm sm:p-12 lg:p-16 sm:rounded-xl",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-3 bg-gray-100 rounded-full sm:w-14 sm:h-14 sm:mb-4 lg:w-16 lg:h-16",children:a.jsx(qt,{className:"w-6 h-6 text-gray-400 sm:w-7 sm:h-7 lg:w-8 lg:h-8"})}),a.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-900 sm:text-base lg:text-lg",children:"No clients found"}),a.jsx("p",{className:"mb-3 text-[10px] sm:text-xs lg:text-sm text-gray-500 sm:mb-4",children:"Try adjusting your search"}),a.jsx("button",{onClick:()=>o(""),className:"px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium text-blue-600 transition-colors rounded-lg hover:text-blue-700 hover:bg-blue-50 touch-manipulation active:scale-95",children:"Clear search"})]}):a.jsx("div",{className:"grid grid-cols-1 gap-2 sm:gap-3 md:grid-cols-2 lg:grid-cols-3 lg:gap-4",children:c.map(d=>a.jsx(QP,{client:d,balance:s[d.id||""],onClick:()=>u(d.id||"")},d.id))})]})]})}),a.jsx(Zt,{})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kf=function(e,t){return Kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Kf(e,t)};function Ir(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kf(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Vf=function(){return Vf=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(t[A]=r[A])}return t},Vf.apply(this,arguments)};function vt(e,t,r,n){function s(A){return A instanceof r?A:new r(function(i){i(A)})}return new(r||(r=Promise))(function(A,i){function o(c){try{u(n.next(c))}catch(d){i(d)}}function l(c){try{u(n.throw(c))}catch(d){i(d)}}function u(c){c.done?A(c.value):s(c.value).then(o,l)}u((n=n.apply(e,[])).next())})}function mt(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,s,A,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(A=u[0]&2?s.return:u[0]?s.throw||((A=s.return)&&A.call(s),0):s.next)&&!(A=A.call(s,u[1])).done)return A;switch(s=0,A&&(u=[u[0]&2,A.value]),u[0]){case 0:case 1:A=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!A||u[1]>A[0]&&u[1]<A[3])){r.label=u[1];break}if(u[0]===6&&r.label<A[1]){r.label=A[1],A=u;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(u);break}A[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],s=0}finally{n=A=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function el(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,A;n<s;n++)(A||!(n in t))&&(A||(A=Array.prototype.slice.call(t,0,n)),A[n]=t[n]);return e.concat(A||t)}var xn=function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Eu=function(e,t){return xn.fromClientRect(e,t.getBoundingClientRect())},FP=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new xn(0,0,n,s)},Qu=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((s&1023)<<10)+(A&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},ze=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,A="";++s<r;){var i=e[s];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(s+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},Py="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tl=0;tl<Py.length;tl++)SP[Py.charCodeAt(tl)]=tl;var Hy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ma=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rl=0;rl<Hy.length;rl++)Ma[Hy.charCodeAt(rl)]=rl;var kP=function(e){var t=e.length*.75,r=e.length,n,s=0,A,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)A=Ma[e.charCodeAt(n)],i=Ma[e.charCodeAt(n+1)],o=Ma[e.charCodeAt(n+2)],l=Ma[e.charCodeAt(n+3)],c[s++]=A<<2|i>>4,c[s++]=(i&15)<<4|o>>2,c[s++]=(o&3)<<6|l&63;return u},IP=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},TP=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Hs=5,op=11,Rd=2,DP=op-Hs,U1=65536>>Hs,LP=1<<Hs,Md=LP-1,PP=1024>>Hs,HP=U1+PP,OP=HP,RP=32,MP=OP+RP,zP=65536>>op,KP=1<<DP,VP=KP-1,Oy=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},$P=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},GP=function(e,t){var r=kP(e),n=Array.isArray(r)?TP(r):new Uint32Array(r),s=Array.isArray(r)?IP(r):new Uint16Array(r),A=24,i=Oy(s,A/2,n[4]/2),o=n[5]===2?Oy(s,(A+n[4])/2):$P(n,Math.ceil((A+n[4])/4));return new WP(n[0],n[1],n[2],n[3],i,o)},WP=function(){function e(t,r,n,s,A,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=A,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Hs],r=(r<<Rd)+(t&Md),this.data[r];if(t<=65535)return r=this.index[U1+(t-55296>>Hs)],r=(r<<Rd)+(t&Md),this.data[r];if(t<this.highStart)return r=MP-zP+(t>>op),r=this.index[r],r+=t>>Hs&VP,r=this.index[r],r=(r<<Rd)+(t&Md),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ry="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nl=0;nl<Ry.length;nl++)qP[Ry.charCodeAt(nl)]=nl;var JP="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",My=50,XP=1,F1=2,S1=3,YP=4,ZP=5,zy=7,k1=8,Ky=9,Hn=10,$f=11,Vy=12,Gf=13,eH=14,za=15,Wf=16,sl=17,Ua=18,tH=19,$y=20,qf=21,Fa=22,zd=23,aA=24,Mt=25,Ka=26,Va=27,iA=28,rH=29,_s=30,nH=31,Al=32,al=33,Jf=34,Xf=35,Yf=36,Zi=37,Zf=38,Kl=39,Vl=40,Kd=41,I1=42,sH=43,AH=[9001,65288],T1="!",fe="",il="",em=GP(JP),Jr=[_s,Yf],tm=[XP,F1,S1,ZP],D1=[Hn,k1],Gy=[Va,Ka],aH=tm.concat(D1),Wy=[Zf,Kl,Vl,Jf,Xf],iH=[za,Gf],oH=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(A,i){var o=em.get(A);if(o>My?(s.push(!0),o-=My):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(A)!==-1)return n.push(i),r.push(Wf);if(o===YP||o===$f){if(i===0)return n.push(i),r.push(_s);var l=r[i-1];return aH.indexOf(l)===-1?(n.push(n[i-1]),r.push(l)):(n.push(i),r.push(_s))}if(n.push(i),o===nH)return r.push(t==="strict"?qf:Zi);if(o===I1||o===rH)return r.push(_s);if(o===sH)return A>=131072&&A<=196605||A>=196608&&A<=262141?r.push(Zi):r.push(_s);r.push(o)}),[n,r,s]},Vd=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var A=r;A<=n.length;){A++;var i=n[A];if(i===t)return!0;if(i!==Hn)break}if(s===Hn)for(var A=r;A>0;){A--;var o=n[A];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=r;l<=n.length;){l++;var i=n[l];if(i===t)return!0;if(i!==Hn)break}if(o!==Hn)break}return!1},qy=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===Hn)r--;else return n}return 0},lH=function(e,t,r,n,s){if(r[n]===0)return fe;var A=n-1;if(Array.isArray(s)&&s[A]===!0)return fe;var i=A-1,o=A+1,l=t[A],u=i>=0?t[i]:0,c=t[o];if(l===F1&&c===S1)return fe;if(tm.indexOf(l)!==-1)return T1;if(tm.indexOf(c)!==-1||D1.indexOf(c)!==-1)return fe;if(qy(A,t)===k1)return il;if(em.get(e[A])===$f||(l===Al||l===al)&&em.get(e[o])===$f||l===zy||c===zy||l===Ky||[Hn,Gf,za].indexOf(l)===-1&&c===Ky||[sl,Ua,tH,aA,iA].indexOf(c)!==-1||qy(A,t)===Fa||Vd(zd,Fa,A,t)||Vd([sl,Ua],qf,A,t)||Vd(Vy,Vy,A,t))return fe;if(l===Hn)return il;if(l===zd||c===zd)return fe;if(c===Wf||l===Wf)return il;if([Gf,za,qf].indexOf(c)!==-1||l===eH||u===Yf&&iH.indexOf(l)!==-1||l===iA&&c===Yf||c===$y||Jr.indexOf(c)!==-1&&l===Mt||Jr.indexOf(l)!==-1&&c===Mt||l===Va&&[Zi,Al,al].indexOf(c)!==-1||[Zi,Al,al].indexOf(l)!==-1&&c===Ka||Jr.indexOf(l)!==-1&&Gy.indexOf(c)!==-1||Gy.indexOf(l)!==-1&&Jr.indexOf(c)!==-1||[Va,Ka].indexOf(l)!==-1&&(c===Mt||[Fa,za].indexOf(c)!==-1&&t[o+1]===Mt)||[Fa,za].indexOf(l)!==-1&&c===Mt||l===Mt&&[Mt,iA,aA].indexOf(c)!==-1)return fe;if([Mt,iA,aA,sl,Ua].indexOf(c)!==-1)for(var d=A;d>=0;){var h=t[d];if(h===Mt)return fe;if([iA,aA].indexOf(h)!==-1)d--;else break}if([Va,Ka].indexOf(c)!==-1)for(var d=[sl,Ua].indexOf(l)!==-1?i:A;d>=0;){var h=t[d];if(h===Mt)return fe;if([iA,aA].indexOf(h)!==-1)d--;else break}if(Zf===l&&[Zf,Kl,Jf,Xf].indexOf(c)!==-1||[Kl,Jf].indexOf(l)!==-1&&[Kl,Vl].indexOf(c)!==-1||[Vl,Xf].indexOf(l)!==-1&&c===Vl||Wy.indexOf(l)!==-1&&[$y,Ka].indexOf(c)!==-1||Wy.indexOf(c)!==-1&&l===Va||Jr.indexOf(l)!==-1&&Jr.indexOf(c)!==-1||l===aA&&Jr.indexOf(c)!==-1||Jr.concat(Mt).indexOf(l)!==-1&&c===Fa&&AH.indexOf(e[o])===-1||Jr.concat(Mt).indexOf(c)!==-1&&l===Ua)return fe;if(l===Kd&&c===Kd){for(var m=r[A],p=1;m>0&&(m--,t[m]===Kd);)p++;if(p%2!==0)return fe}return l===Al&&c===al?fe:il},cH=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=oH(e,t.lineBreak),n=r[0],s=r[1],A=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(o){return[Mt,_s,I1].indexOf(o)!==-1?Zi:o}));var i=t.wordBreak==="keep-all"?A.map(function(o,l){return o&&e[l]>=19968&&e[l]<=40959}):void 0;return[n,s,i]},uH=function(){function e(t,r,n,s){this.codePoints=t,this.required=r===T1,this.start=n,this.end=s}return e.prototype.slice=function(){return ze.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),dH=function(e,t){var r=Qu(e),n=cH(r,t),s=n[0],A=n[1],i=n[2],o=r.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var c=fe;u<o&&(c=lH(r,A,s,++u,i))===fe;);if(c!==fe||u===o){var d=new uH(r,c,l,u);return l=u,{value:d,done:!1}}return{done:!0,value:null}}}},hH=1,fH=2,yo=4,Jy=8,Pc=10,Xy=47,di=92,mH=9,gH=32,ol=34,Sa=61,pH=35,xH=36,yH=37,ll=39,cl=40,ka=41,wH=95,Qt=45,vH=33,bH=60,BH=62,CH=64,_H=91,jH=93,NH=61,EH=123,ul=63,QH=125,Yy=124,UH=126,FH=128,Zy=65533,$d=42,Ss=43,SH=44,kH=58,IH=59,eo=46,TH=0,DH=8,LH=11,PH=14,HH=31,OH=127,Dr=-1,L1=48,P1=97,H1=101,RH=102,MH=117,zH=122,O1=65,R1=69,M1=70,KH=85,VH=90,gt=function(e){return e>=L1&&e<=57},$H=function(e){return e>=55296&&e<=57343},oA=function(e){return gt(e)||e>=O1&&e<=M1||e>=P1&&e<=RH},GH=function(e){return e>=P1&&e<=zH},WH=function(e){return e>=O1&&e<=VH},qH=function(e){return GH(e)||WH(e)},JH=function(e){return e>=FH},dl=function(e){return e===Pc||e===mH||e===gH},Hc=function(e){return qH(e)||JH(e)||e===wH},ew=function(e){return Hc(e)||gt(e)||e===Qt},XH=function(e){return e>=TH&&e<=DH||e===LH||e>=PH&&e<=HH||e===OH},Fn=function(e,t){return e!==di?!1:t!==Pc},hl=function(e,t,r){return e===Qt?Hc(t)||Fn(t,r):Hc(e)?!0:!!(e===di&&Fn(e,t))},Gd=function(e,t,r){return e===Ss||e===Qt?gt(t)?!0:t===eo&&gt(r):gt(e===eo?t:e)},YH=function(e){var t=0,r=1;(e[t]===Ss||e[t]===Qt)&&(e[t]===Qt&&(r=-1),t++);for(var n=[];gt(e[t]);)n.push(e[t++]);var s=n.length?parseInt(ze.apply(void 0,n),10):0;e[t]===eo&&t++;for(var A=[];gt(e[t]);)A.push(e[t++]);var i=A.length,o=i?parseInt(ze.apply(void 0,A),10):0;(e[t]===R1||e[t]===H1)&&t++;var l=1;(e[t]===Ss||e[t]===Qt)&&(e[t]===Qt&&(l=-1),t++);for(var u=[];gt(e[t]);)u.push(e[t++]);var c=u.length?parseInt(ze.apply(void 0,u),10):0;return r*(s+o*Math.pow(10,-i))*Math.pow(10,l*c)},ZH={type:2},e3={type:3},t3={type:4},r3={type:13},n3={type:8},s3={type:21},A3={type:9},a3={type:10},i3={type:11},o3={type:12},l3={type:14},fl={type:23},c3={type:1},u3={type:25},d3={type:24},h3={type:26},f3={type:27},m3={type:28},g3={type:29},p3={type:31},rm={type:32},z1=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Qu(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==rm;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case ol:return this.consumeStringToken(ol);case pH:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(ew(r)||Fn(n,s)){var A=hl(r,n,s)?fH:hH,i=this.consumeName();return{type:5,value:i,flags:A}}break;case xH:if(this.peekCodePoint(0)===Sa)return this.consumeCodePoint(),r3;break;case ll:return this.consumeStringToken(ll);case cl:return ZH;case ka:return e3;case $d:if(this.peekCodePoint(0)===Sa)return this.consumeCodePoint(),l3;break;case Ss:if(Gd(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case SH:return t3;case Qt:var o=t,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(Gd(o,l,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(hl(o,l,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Qt&&u===BH)return this.consumeCodePoint(),this.consumeCodePoint(),d3;break;case eo:if(Gd(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Xy:if(this.peekCodePoint(0)===$d)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===$d&&(c=this.consumeCodePoint(),c===Xy))return this.consumeToken();if(c===Dr)return this.consumeToken()}break;case kH:return h3;case IH:return f3;case bH:if(this.peekCodePoint(0)===vH&&this.peekCodePoint(1)===Qt&&this.peekCodePoint(2)===Qt)return this.consumeCodePoint(),this.consumeCodePoint(),u3;break;case CH:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),m=this.peekCodePoint(2);if(hl(d,h,m)){var i=this.consumeName();return{type:7,value:i}}break;case _H:return m3;case di:if(Fn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case jH:return g3;case NH:if(this.peekCodePoint(0)===Sa)return this.consumeCodePoint(),n3;break;case EH:return i3;case QH:return o3;case MH:case KH:var p=this.peekCodePoint(0),y=this.peekCodePoint(1);return p===Ss&&(oA(y)||y===ul)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Yy:if(this.peekCodePoint(0)===Sa)return this.consumeCodePoint(),A3;if(this.peekCodePoint(0)===Yy)return this.consumeCodePoint(),s3;break;case UH:if(this.peekCodePoint(0)===Sa)return this.consumeCodePoint(),a3;break;case Dr:return rm}return dl(t)?(this.consumeWhiteSpace(),p3):gt(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Hc(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:ze(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();oA(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===ul&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(ze.apply(void 0,t.map(function(l){return l===ul?L1:l})),16),A=parseInt(ze.apply(void 0,t.map(function(l){return l===ul?M1:l})),16);return{type:30,start:s,end:A}}var i=parseInt(ze.apply(void 0,t),16);if(this.peekCodePoint(0)===Qt&&oA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];oA(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var A=parseInt(ze.apply(void 0,o),16);return{type:30,start:i,end:A}}else return{type:30,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===cl?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===cl?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Dr)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ll||r===ol){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Dr||this.peekCodePoint(0)===ka)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),fl)}for(;;){var s=this.consumeCodePoint();if(s===Dr||s===ka)return{type:22,value:ze.apply(void 0,t)};if(dl(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Dr||this.peekCodePoint(0)===ka?(this.consumeCodePoint(),{type:22,value:ze.apply(void 0,t)}):(this.consumeBadUrlRemnants(),fl);if(s===ol||s===ll||s===cl||XH(s))return this.consumeBadUrlRemnants(),fl;if(s===di)if(Fn(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),fl;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;dl(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===ka||t===Dr)return;Fn(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=ze.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===Dr||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Pc)return this._value.splice(0,n),c3;if(s===di){var A=this._value[n+1];A!==Dr&&A!==void 0&&(A===Pc?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Fn(s,A)&&(r+=this.consumeStringSlice(n),r+=ze(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=yo,n=this.peekCodePoint(0);for((n===Ss||n===Qt)&&t.push(this.consumeCodePoint());gt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===eo&&gt(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Jy;gt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((n===R1||n===H1)&&((s===Ss||s===Qt)&&gt(A)||gt(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Jy;gt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[YH(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);if(hl(s,A,i)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return s===yH?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(oA(t)){for(var r=ze(t);oA(this.peekCodePoint(0))&&r.length<6;)r+=ze(this.consumeCodePoint());dl(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||$H(n)||n>1114111?Zy:n}return t===Dr?Zy:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(ew(r))t+=ze(r);else if(Fn(r,this.peekCodePoint(0)))t+=ze(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),K1=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new z1;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||y3(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?rm:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),wo=function(e){return e.type===15},fa=function(e){return e.type===17},Be=function(e){return e.type===20},x3=function(e){return e.type===0},nm=function(e,t){return Be(e)&&e.value===t},V1=function(e){return e.type!==31},ea=function(e){return e.type!==31&&e.type!==4},Gr=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},y3=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},as=function(e){return e.type===17||e.type===15},Ge=function(e){return e.type===16||as(e)},$1=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},it={type:17,number:0,flags:yo},lp={type:16,number:50,flags:yo},On={type:16,number:100,flags:yo},$a=function(e,t,r){var n=e[0],s=e[1];return[_e(n,t),_e(typeof s<"u"?s:n,r)]},_e=function(e,t){if(e.type===16)return e.number/100*t;if(wo(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},G1="deg",W1="grad",q1="rad",J1="turn",Uu={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case G1:return Math.PI*t.number/180;case W1:return Math.PI/200*t.number;case q1:return t.number;case J1:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},X1=function(e){return e.type===15&&(e.unit===G1||e.unit===W1||e.unit===q1||e.unit===J1)},Y1=function(e){var t=e.filter(Be).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[it,it];case"to top":case"bottom":return lr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[it,On];case"to right":case"left":return lr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[On,On];case"to bottom":case"top":return lr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[On,it];case"to left":case"right":return lr(270)}return 0},lr=function(e){return Math.PI*e/180},Xn={name:"color",parse:function(e,t){if(t.type===18){var r=w3[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),A=t.value.substring(2,3);return Rn(parseInt(n+n,16),parseInt(s+s,16),parseInt(A+A,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),A=t.value.substring(2,3),i=t.value.substring(3,4);return Rn(parseInt(n+n,16),parseInt(s+s,16),parseInt(A+A,16),parseInt(i+i,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),A=t.value.substring(4,6);return Rn(parseInt(n,16),parseInt(s,16),parseInt(A,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),A=t.value.substring(4,6),i=t.value.substring(6,8);return Rn(parseInt(n,16),parseInt(s,16),parseInt(A,16),parseInt(i,16)/255)}}if(t.type===20){var o=ln[t.value.toUpperCase()];if(typeof o<"u")return o}return ln.TRANSPARENT}},Yn=function(e){return(255&e)===0},et=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},Rn=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},tw=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},rw=function(e,t){var r=t.filter(ea);if(r.length===3){var n=r.map(tw),s=n[0],A=n[1],i=n[2];return Rn(s,A,i,1)}if(r.length===4){var o=r.map(tw),s=o[0],A=o[1],i=o[2],l=o[3];return Rn(s,A,i,l)}return 0};function Wd(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var nw=function(e,t){var r=t.filter(ea),n=r[0],s=r[1],A=r[2],i=r[3],o=(n.type===17?lr(n.number):Uu.parse(e,n))/(Math.PI*2),l=Ge(s)?s.number/100:0,u=Ge(A)?A.number/100:0,c=typeof i<"u"&&Ge(i)?_e(i,1):1;if(l===0)return Rn(u*255,u*255,u*255,1);var d=u<=.5?u*(l+1):u+l-u*l,h=u*2-d,m=Wd(h,d,o+1/3),p=Wd(h,d,o),y=Wd(h,d,o-1/3);return Rn(m*255,p*255,y*255,c)},w3={hsl:nw,hsla:nw,rgb:rw,rgba:rw},hi=function(e,t){return Xn.parse(e,K1.create(t).parseComponentValue())},ln={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},v3={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Be(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},b3={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fu=function(e,t){var r=Xn.parse(e,t[0]),n=t[1];return n&&Ge(n)?{color:r,stop:n}:{color:r,stop:null}},sw=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=it),n.stop===null&&(n.stop=On);for(var s=[],A=0,i=0;i<e.length;i++){var o=e[i].stop;if(o!==null){var l=_e(o,t);l>A?s.push(l):s.push(A),A=l}else s.push(null)}for(var u=null,i=0;i<s.length;i++){var c=s[i];if(c===null)u===null&&(u=i);else if(u!==null){for(var d=i-u,h=s[u-1],m=(c-h)/(d+1),p=1;p<=d;p++)s[u+p-1]=m*p;u=null}}return e.map(function(y,w){var g=y.color;return{color:g,stop:Math.max(Math.min(1,s[w]/t),0)}})},B3=function(e,t,r){var n=t/2,s=r/2,A=_e(e[0],t)-n,i=s-_e(e[1],r);return(Math.atan2(i,A)+Math.PI*2)%(Math.PI*2)},C3=function(e,t,r){var n=typeof e=="number"?e:B3(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),A=t/2,i=r/2,o=s/2,l=Math.sin(n-Math.PI/2)*o,u=Math.cos(n-Math.PI/2)*o;return[s,A-u,A+u,i-l,i+l]},vr=function(e,t){return Math.sqrt(e*e+t*t)},Aw=function(e,t,r,n,s){var A=[[0,0],[0,t],[e,0],[e,t]];return A.reduce(function(i,o){var l=o[0],u=o[1],c=vr(r-l,n-u);return(s?c<i.optimumDistance:c>i.optimumDistance)?{optimumCorner:o,optimumDistance:c}:i},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},_3=function(e,t,r,n,s){var A=0,i=0;switch(e.size){case 0:e.shape===0?A=i=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(A=Math.min(Math.abs(t),Math.abs(t-n)),i=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)A=i=Math.min(vr(t,r),vr(t,r-s),vr(t-n,r),vr(t-n,r-s));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),l=Aw(n,s,t,r,!0),u=l[0],c=l[1];A=vr(u-t,(c-r)/o),i=o*A}break;case 1:e.shape===0?A=i=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(A=Math.max(Math.abs(t),Math.abs(t-n)),i=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)A=i=Math.max(vr(t,r),vr(t,r-s),vr(t-n,r),vr(t-n,r-s));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),d=Aw(n,s,t,r,!1),u=d[0],c=d[1];A=vr(u-t,(c-r)/o),i=o*A}break}return Array.isArray(e.size)&&(A=_e(e.size[0],n),i=e.size.length===2?_e(e.size[1],s):A),[A,i]},j3=function(e,t){var r=lr(180),n=[];return Gr(t).forEach(function(s,A){if(A===0){var i=s[0];if(i.type===20&&i.value==="to"){r=Y1(s);return}else if(X1(i)){r=Uu.parse(e,i);return}}var o=Fu(e,s);n.push(o)}),{angle:r,stops:n,type:1}},ml=function(e,t){var r=lr(180),n=[];return Gr(t).forEach(function(s,A){if(A===0){var i=s[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){r=Y1(s);return}else if(X1(i)){r=(Uu.parse(e,i)+lr(270))%lr(360);return}}var o=Fu(e,s);n.push(o)}),{angle:r,stops:n,type:1}},N3=function(e,t){var r=lr(180),n=[],s=1,A=0,i=3,o=[];return Gr(t).forEach(function(l,u){var c=l[0];if(u===0){if(Be(c)&&c.value==="linear"){s=1;return}else if(Be(c)&&c.value==="radial"){s=2;return}}if(c.type===18){if(c.name==="from"){var d=Xn.parse(e,c.values[0]);n.push({stop:it,color:d})}else if(c.name==="to"){var d=Xn.parse(e,c.values[0]);n.push({stop:On,color:d})}else if(c.name==="color-stop"){var h=c.values.filter(ea);if(h.length===2){var d=Xn.parse(e,h[1]),m=h[0];fa(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:d})}}}}),s===1?{angle:(r+lr(180))%lr(360),stops:n,type:s}:{size:i,shape:A,stops:n,position:o,type:s}},Z1="closest-side",ej="farthest-side",tj="closest-corner",rj="farthest-corner",nj="circle",sj="ellipse",Aj="cover",aj="contain",E3=function(e,t){var r=0,n=3,s=[],A=[];return Gr(t).forEach(function(i,o){var l=!0;if(o===0){var u=!1;l=i.reduce(function(d,h){if(u)if(Be(h))switch(h.value){case"center":return A.push(lp),d;case"top":case"left":return A.push(it),d;case"right":case"bottom":return A.push(On),d}else(Ge(h)||as(h))&&A.push(h);else if(Be(h))switch(h.value){case nj:return r=0,!1;case sj:return r=1,!1;case"at":return u=!0,!1;case Z1:return n=0,!1;case Aj:case ej:return n=1,!1;case aj:case tj:return n=2,!1;case rj:return n=3,!1}else if(as(h)||Ge(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},l)}if(l){var c=Fu(e,i);s.push(c)}}),{size:n,shape:r,stops:s,position:A,type:2}},gl=function(e,t){var r=0,n=3,s=[],A=[];return Gr(t).forEach(function(i,o){var l=!0;if(o===0?l=i.reduce(function(c,d){if(Be(d))switch(d.value){case"center":return A.push(lp),!1;case"top":case"left":return A.push(it),!1;case"right":case"bottom":return A.push(On),!1}else if(Ge(d)||as(d))return A.push(d),!1;return c},l):o===1&&(l=i.reduce(function(c,d){if(Be(d))switch(d.value){case nj:return r=0,!1;case sj:return r=1,!1;case aj:case Z1:return n=0,!1;case ej:return n=1,!1;case tj:return n=2,!1;case Aj:case rj:return n=3,!1}else if(as(d)||Ge(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return c},l)),l){var u=Fu(e,i);s.push(u)}}),{size:n,shape:r,stops:s,position:A,type:2}},Q3=function(e){return e.type===1},U3=function(e){return e.type===2},cp={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=ij[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function F3(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!ij[e.name])}var ij={"linear-gradient":j3,"-moz-linear-gradient":ml,"-ms-linear-gradient":ml,"-o-linear-gradient":ml,"-webkit-linear-gradient":ml,"radial-gradient":E3,"-moz-radial-gradient":gl,"-ms-radial-gradient":gl,"-o-radial-gradient":gl,"-webkit-radial-gradient":gl,"-webkit-gradient":N3},S3={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return ea(n)&&F3(n)}).map(function(n){return cp.parse(e,n)})}},k3={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Be(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},I3={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Gr(t).map(function(r){return r.filter(Ge)}).map($1)}},T3={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Gr(t).map(function(r){return r.filter(Be).map(function(n){return n.value}).join(" ")}).map(D3)}},D3=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},MA;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(MA||(MA={}));var L3={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Gr(t).map(function(r){return r.filter(P3)})}},P3=function(e){return Be(e)||Ge(e)},Su=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},H3=Su("top"),O3=Su("right"),R3=Su("bottom"),M3=Su("left"),ku=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return $1(r.filter(Ge))}}},z3=ku("top-left"),K3=ku("top-right"),V3=ku("bottom-right"),$3=ku("bottom-left"),Iu=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},G3=Iu("top"),W3=Iu("right"),q3=Iu("bottom"),J3=Iu("left"),Tu=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return wo(r)?r.number:0}}},X3=Tu("top"),Y3=Tu("right"),Z3=Tu("bottom"),eO=Tu("left"),tO={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},rO={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},nO={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Be).reduce(function(r,n){return r|sO(n.value)},0)}},sO=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},AO={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},aO={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Oc;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Oc||(Oc={}));var iO={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Oc.STRICT;case"normal":default:return Oc.NORMAL}}},oO={name:"line-height",initialValue:"normal",prefix:!1,type:4},aw=function(e,t){return Be(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Ge(e)?_e(e,t):t},lO={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:cp.parse(e,t)}},cO={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},sm={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Du=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},uO=Du("top"),dO=Du("right"),hO=Du("bottom"),fO=Du("left"),mO={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Be).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},gO={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Lu=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},pO=Lu("top"),xO=Lu("right"),yO=Lu("bottom"),wO=Lu("left"),vO={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},bO={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},BO={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&nm(t[0],"none")?[]:Gr(t).map(function(r){for(var n={color:ln.TRANSPARENT,offsetX:it,offsetY:it,blur:it},s=0,A=0;A<r.length;A++){var i=r[A];as(i)?(s===0?n.offsetX=i:s===1?n.offsetY=i:n.blur=i,s++):n.color=Xn.parse(e,i)}return n})}},CO={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_O={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=EO[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},jO=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},NO=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],A=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,s,A,i,o]:null},EO={matrix:jO,matrix3d:NO},iw={type:16,number:50,flags:yo},QO=[iw,iw],UO={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Ge);return r.length!==2?QO:[r[0],r[1]]}},FO={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},fi;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(fi||(fi={}));var SO={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return fi.BREAK_ALL;case"keep-all":return fi.KEEP_ALL;case"normal":default:return fi.NORMAL}}},kO={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(fa(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},oj={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},IO={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return fa(t)?t.number:1}},TO={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},DO={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Be).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},LO={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},PO={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},HO={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(fa(t))return t.number;if(Be(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},OO={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Be).map(function(r){return r.value})}},RO={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ye=function(e,t){return(e&t)!==0},MO={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},zO={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(V1),A=0;A<s.length;A++){var i=s[A],o=s[A+1];if(i.type===20){var l=o&&fa(o)?o.number:1;n.push({counter:i.value,increment:l})}}return n}},KO={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(V1),s=0;s<n.length;s++){var A=n[s],i=n[s+1];if(Be(A)&&A.value!=="none"){var o=i&&fa(i)?i.number:0;r.push({counter:A.value,reset:o})}}return r}},VO={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(wo).map(function(r){return oj.parse(e,r)})}},$O={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(x3);if(s.length%2!==0)return null;for(var A=0;A<s.length;A+=2){var i=s[A].value,o=s[A+1].value;n.push({open:i,close:o})}return n}},ow=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},GO={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&nm(t[0],"none")?[]:Gr(t).map(function(r){for(var n={color:255,offsetX:it,offsetY:it,blur:it,spread:it,inset:!1},s=0,A=0;A<r.length;A++){var i=r[A];nm(i,"inset")?n.inset=!0:as(i)?(s===0?n.offsetX=i:s===1?n.offsetY=i:s===2?n.blur=i:n.spread=i,s++):n.color=Xn.parse(e,i)}return n})}},WO={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Be).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},qO={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},JO={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return wo(t)?t.number:0}},XO=function(){function e(t,r){var n,s;this.animationDuration=ne(t,VO,r.animationDuration),this.backgroundClip=ne(t,v3,r.backgroundClip),this.backgroundColor=ne(t,b3,r.backgroundColor),this.backgroundImage=ne(t,S3,r.backgroundImage),this.backgroundOrigin=ne(t,k3,r.backgroundOrigin),this.backgroundPosition=ne(t,I3,r.backgroundPosition),this.backgroundRepeat=ne(t,T3,r.backgroundRepeat),this.backgroundSize=ne(t,L3,r.backgroundSize),this.borderTopColor=ne(t,H3,r.borderTopColor),this.borderRightColor=ne(t,O3,r.borderRightColor),this.borderBottomColor=ne(t,R3,r.borderBottomColor),this.borderLeftColor=ne(t,M3,r.borderLeftColor),this.borderTopLeftRadius=ne(t,z3,r.borderTopLeftRadius),this.borderTopRightRadius=ne(t,K3,r.borderTopRightRadius),this.borderBottomRightRadius=ne(t,V3,r.borderBottomRightRadius),this.borderBottomLeftRadius=ne(t,$3,r.borderBottomLeftRadius),this.borderTopStyle=ne(t,G3,r.borderTopStyle),this.borderRightStyle=ne(t,W3,r.borderRightStyle),this.borderBottomStyle=ne(t,q3,r.borderBottomStyle),this.borderLeftStyle=ne(t,J3,r.borderLeftStyle),this.borderTopWidth=ne(t,X3,r.borderTopWidth),this.borderRightWidth=ne(t,Y3,r.borderRightWidth),this.borderBottomWidth=ne(t,Z3,r.borderBottomWidth),this.borderLeftWidth=ne(t,eO,r.borderLeftWidth),this.boxShadow=ne(t,GO,r.boxShadow),this.color=ne(t,tO,r.color),this.direction=ne(t,rO,r.direction),this.display=ne(t,nO,r.display),this.float=ne(t,AO,r.cssFloat),this.fontFamily=ne(t,LO,r.fontFamily),this.fontSize=ne(t,PO,r.fontSize),this.fontStyle=ne(t,RO,r.fontStyle),this.fontVariant=ne(t,OO,r.fontVariant),this.fontWeight=ne(t,HO,r.fontWeight),this.letterSpacing=ne(t,aO,r.letterSpacing),this.lineBreak=ne(t,iO,r.lineBreak),this.lineHeight=ne(t,oO,r.lineHeight),this.listStyleImage=ne(t,lO,r.listStyleImage),this.listStylePosition=ne(t,cO,r.listStylePosition),this.listStyleType=ne(t,sm,r.listStyleType),this.marginTop=ne(t,uO,r.marginTop),this.marginRight=ne(t,dO,r.marginRight),this.marginBottom=ne(t,hO,r.marginBottom),this.marginLeft=ne(t,fO,r.marginLeft),this.opacity=ne(t,IO,r.opacity);var A=ne(t,mO,r.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=ne(t,gO,r.overflowWrap),this.paddingTop=ne(t,pO,r.paddingTop),this.paddingRight=ne(t,xO,r.paddingRight),this.paddingBottom=ne(t,yO,r.paddingBottom),this.paddingLeft=ne(t,wO,r.paddingLeft),this.paintOrder=ne(t,WO,r.paintOrder),this.position=ne(t,bO,r.position),this.textAlign=ne(t,vO,r.textAlign),this.textDecorationColor=ne(t,TO,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ne(t,DO,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=ne(t,BO,r.textShadow),this.textTransform=ne(t,CO,r.textTransform),this.transform=ne(t,_O,r.transform),this.transformOrigin=ne(t,UO,r.transformOrigin),this.visibility=ne(t,FO,r.visibility),this.webkitTextStrokeColor=ne(t,qO,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ne(t,JO,r.webkitTextStrokeWidth),this.wordBreak=ne(t,SO,r.wordBreak),this.zIndex=ne(t,kO,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Yn(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ye(this.display,4)||Ye(this.display,33554432)||Ye(this.display,268435456)||Ye(this.display,536870912)||Ye(this.display,67108864)||Ye(this.display,134217728)},e}(),YO=function(){function e(t,r){this.content=ne(t,MO,r.content),this.quotes=ne(t,$O,r.quotes)}return e}(),lw=function(){function e(t,r){this.counterIncrement=ne(t,zO,r.counterIncrement),this.counterReset=ne(t,KO,r.counterReset)}return e}(),ne=function(e,t,r){var n=new z1,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var A=new K1(n.read());switch(t.type){case 2:var i=A.parseComponentValue();return t.parse(e,Be(i)?i.value:t.initialValue);case 0:return t.parse(e,A.parseComponentValue());case 1:return t.parse(e,A.parseComponentValues());case 4:return A.parseComponentValue();case 3:switch(t.format){case"angle":return Uu.parse(e,A.parseComponentValue());case"color":return Xn.parse(e,A.parseComponentValue());case"image":return cp.parse(e,A.parseComponentValue());case"length":var o=A.parseComponentValue();return as(o)?o:it;case"length-percentage":var l=A.parseComponentValue();return Ge(l)?l:it;case"time":return oj.parse(e,A.parseComponentValue())}break}},ZO="data-html2canvas-debug",eR=function(e){var t=e.getAttribute(ZO);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Am=function(e,t){var r=eR(e);return r===1||t===r},Wr=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Am(r,3))debugger;this.styles=new XO(t,window.getComputedStyle(r,null)),om(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Eu(this.context,r),Am(r,4)&&(this.flags|=16)}return e}(),tR="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",cw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ga=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pl=0;pl<cw.length;pl++)Ga[cw.charCodeAt(pl)]=pl;var rR=function(e){var t=e.length*.75,r=e.length,n,s=0,A,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)A=Ga[e.charCodeAt(n)],i=Ga[e.charCodeAt(n+1)],o=Ga[e.charCodeAt(n+2)],l=Ga[e.charCodeAt(n+3)],c[s++]=A<<2|i>>4,c[s++]=(i&15)<<4|o>>2,c[s++]=(o&3)<<6|l&63;return u},nR=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},sR=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Os=5,up=11,qd=2,AR=up-Os,lj=65536>>Os,aR=1<<Os,Jd=aR-1,iR=1024>>Os,oR=lj+iR,lR=oR,cR=32,uR=lR+cR,dR=65536>>up,hR=1<<AR,fR=hR-1,uw=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},mR=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},gR=function(e,t){var r=rR(e),n=Array.isArray(r)?sR(r):new Uint32Array(r),s=Array.isArray(r)?nR(r):new Uint16Array(r),A=24,i=uw(s,A/2,n[4]/2),o=n[5]===2?uw(s,(A+n[4])/2):mR(n,Math.ceil((A+n[4])/4));return new pR(n[0],n[1],n[2],n[3],i,o)},pR=function(){function e(t,r,n,s,A,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=A,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Os],r=(r<<qd)+(t&Jd),this.data[r];if(t<=65535)return r=this.index[lj+(t-55296>>Os)],r=(r<<qd)+(t&Jd),this.data[r];if(t<this.highStart)return r=uR-dR+(t>>up),r=this.index[r],r+=t>>Os&fR,r=this.index[r],r=(r<<qd)+(t&Jd),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),dw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xl=0;xl<dw.length;xl++)xR[dw.charCodeAt(xl)]=xl;var yR=1,Xd=2,Yd=3,hw=4,fw=5,wR=7,mw=8,Zd=9,eh=10,gw=11,pw=12,xw=13,yw=14,th=15,vR=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((s&1023)<<10)+(A&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},bR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,A="";++s<r;){var i=e[s];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(s+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},BR=gR(tR),nr="",rh="",CR=function(e){return BR.get(e)},_R=function(e,t,r){var n=r-2,s=t[n],A=t[r-1],i=t[r];if(A===Xd&&i===Yd)return nr;if(A===Xd||A===Yd||A===hw||i===Xd||i===Yd||i===hw)return rh;if(A===mw&&[mw,Zd,gw,pw].indexOf(i)!==-1||(A===gw||A===Zd)&&(i===Zd||i===eh)||(A===pw||A===eh)&&i===eh||i===xw||i===fw||i===wR||A===yR)return nr;if(A===xw&&i===yw){for(;s===fw;)s=t[--n];if(s===yw)return nr}if(A===th&&i===th){for(var o=0;s===th;)o++,s=t[--n];if(o%2===0)return nr}return rh},jR=function(e){var t=vR(e),r=t.length,n=0,s=0,A=t.map(CR);return{next:function(){if(n>=r)return{done:!0,value:null};for(var i=nr;n<r&&(i=_R(t,A,++n))===nr;);if(i!==nr||n===r){var o=bR.apply(null,t.slice(s,n));return s=n,{value:o,done:!1}}return{done:!0,value:null}}}},NR=function(e){for(var t=jR(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},ER=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),A=Math.round(s.height);if(e.body.removeChild(n),A===t)return!0}}return!1},QR=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=Qu(n.data).map(function(l){return ze(l)}),A=0,i={},o=s.every(function(l,u){r.setStart(n,A),r.setEnd(n,A+l.length);var c=r.getBoundingClientRect();A+=l.length;var d=c.x>i.x||c.y>i.y;return i=c,u===0?!0:d});return e.body.removeChild(t),o},UR=function(){return typeof new Image().crossOrigin<"u"},FR=function(){return typeof new XMLHttpRequest().responseType=="string"},SR=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},ww=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},kR=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,A=t.toDataURL();s.src=A;var i=am(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),vw(i).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+A+")",u.style.height=r+"px",ww(l)?vw(am(r,r,0,0,u)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),ww(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},am=function(e,t,r,n,s){var A="http://www.w3.org/2000/svg",i=document.createElementNS(A,"svg"),o=document.createElementNS(A,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(s),i},vw=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},At={get SUPPORT_RANGE_BOUNDS(){var e=ER(document);return Object.defineProperty(At,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=At.SUPPORT_RANGE_BOUNDS&&QR(document);return Object.defineProperty(At,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=SR(document);return Object.defineProperty(At,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?kR(document):Promise.resolve(!1);return Object.defineProperty(At,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=UR();return Object.defineProperty(At,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=FR();return Object.defineProperty(At,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(At,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(At,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},mi=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),IR=function(e,t,r,n){var s=LR(t,r),A=[],i=0;return s.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(At.SUPPORT_RANGE_BOUNDS){var l=bw(n,i,o.length).getClientRects();if(l.length>1){var u=dp(o),c=0;u.forEach(function(h){A.push(new mi(h,xn.fromDOMRectList(e,bw(n,c+i,h.length).getClientRects()))),c+=h.length})}else A.push(new mi(o,xn.fromDOMRectList(e,l)))}else{var d=n.splitText(o.length);A.push(new mi(o,TR(e,n))),n=d}else At.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));i+=o.length}),A},TR=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var A=Eu(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),A}}return xn.EMPTY},bw=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},dp=function(e){if(At.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return NR(e)},DR=function(e,t){if(At.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return HR(e,t)},LR=function(e,t){return t.letterSpacing!==0?dp(e):DR(e,t)},PR=[32,160,4961,65792,65793,4153,4241],HR=function(e,t){for(var r=dH(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,A=function(){if(s.value){var i=s.value.slice(),o=Qu(i),l="";o.forEach(function(u){PR.indexOf(u)===-1?l+=ze(u):(l.length&&n.push(l),n.push(ze(u)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)A();return n},OR=function(){function e(t,r,n){this.text=RR(r.data,n.textTransform),this.textBounds=IR(t,this.text,n,r)}return e}(),RR=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(MR,zR);case 2:return e.toUpperCase();default:return e}},MR=/(^|\s|:|-|\(|\))([a-z])/g,zR=function(e,t,r){return e.length>0?t+r.toUpperCase():e},cj=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Wr),uj=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t}(Wr),dj=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this,A=new XMLSerializer,i=Eu(r,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Wr),hj=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Wr),im=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t}(Wr),KR=[{type:15,flags:0,unit:"px",number:3}],VR=[{type:16,flags:0,number:50}],$R=function(e){return e.width>e.height?new xn(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new xn(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},GR=function(e){var t=e.type===WR?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},Rc="checkbox",Mc="radio",WR="password",Bw=707406591,hp=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=GR(n),(s.type===Rc||s.type===Mc)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=$R(s.bounds)),s.type){case Rc:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=KR;break;case Mc:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=VR;break}return s}return t}(Wr),fj=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this,A=n.options[n.selectedIndex||0];return s.value=A&&A.text||"",s}return t}(Wr),mj=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Wr),gj=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=xj(r,n.contentWindow.document.documentElement);var A=n.contentWindow.document.documentElement?hi(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ln.TRANSPARENT,i=n.contentWindow.document.body?hi(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ln.TRANSPARENT;s.backgroundColor=Yn(A)?Yn(i)?s.styles.backgroundColor:i:A}}catch{}return s}return t}(Wr),qR=["OL","UL","MENU"],$l=function(e,t,r,n){for(var s=t.firstChild,A=void 0;s;s=A)if(A=s.nextSibling,yj(s)&&s.data.trim().length>0)r.textNodes.push(new OR(e,s,r.styles));else if(kA(s))if(Bj(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return $l(e,o,r,n)});else{var i=pj(e,s);i.styles.isVisible()&&(JR(s,i,n)?i.flags|=4:XR(i.styles)&&(i.flags|=2),qR.indexOf(s.tagName)!==-1&&(i.flags|=8),r.elements.push(i),s.slot,s.shadowRoot?$l(e,s.shadowRoot,i,n):!zc(s)&&!wj(s)&&!Kc(s)&&$l(e,s,i,n))}},pj=function(e,t){return lm(t)?new cj(e,t):vj(t)?new uj(e,t):wj(t)?new dj(e,t):YR(t)?new hj(e,t):ZR(t)?new im(e,t):eM(t)?new hp(e,t):Kc(t)?new fj(e,t):zc(t)?new mj(e,t):bj(t)?new gj(e,t):new Wr(e,t)},xj=function(e,t){var r=pj(e,t);return r.flags|=4,$l(e,t,r,r),r},JR=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||fp(e)&&r.styles.isTransparent()},XR=function(e){return e.isPositioned()||e.isFloating()},yj=function(e){return e.nodeType===Node.TEXT_NODE},kA=function(e){return e.nodeType===Node.ELEMENT_NODE},om=function(e){return kA(e)&&typeof e.style<"u"&&!Gl(e)},Gl=function(e){return typeof e.className=="object"},YR=function(e){return e.tagName==="LI"},ZR=function(e){return e.tagName==="OL"},eM=function(e){return e.tagName==="INPUT"},tM=function(e){return e.tagName==="HTML"},wj=function(e){return e.tagName==="svg"},fp=function(e){return e.tagName==="BODY"},vj=function(e){return e.tagName==="CANVAS"},Cw=function(e){return e.tagName==="VIDEO"},lm=function(e){return e.tagName==="IMG"},bj=function(e){return e.tagName==="IFRAME"},_w=function(e){return e.tagName==="STYLE"},rM=function(e){return e.tagName==="SCRIPT"},zc=function(e){return e.tagName==="TEXTAREA"},Kc=function(e){return e.tagName==="SELECT"},Bj=function(e){return e.tagName==="SLOT"},jw=function(e){return e.tagName.indexOf("-")>0},nM=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,A=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(A=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var i=[];return A&&s.forEach(function(o){var l=r.counters[o.counter];i.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),i},e}(),Nw={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ew={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},AM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},lA=function(e,t,r,n,s,A){return e<t||e>r?to(e,s,A.length>0):n.integers.reduce(function(i,o,l){for(;e>=o;)e-=o,i+=n.values[l];return i},"")+A},Cj=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},Re=function(e,t,r,n,s){var A=r-t+1;return(e<0?"-":"")+(Cj(Math.abs(e),A,n,function(i){return ze(Math.floor(i%A)+t)})+s)},ps=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return Cj(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},fA=1,Nn=2,En=4,Wa=8,Xr=function(e,t,r,n,s,A){if(e<-9999||e>9999)return to(e,4,s.length>0);var i=Math.abs(e),o=s;if(i===0)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var u=i%10;u===0&&Ye(A,fA)&&o!==""?o=t[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Ye(A,Nn)||u===1&&l===1&&Ye(A,En)&&e>100||u===1&&l>1&&Ye(A,Wa)?o=t[u]+(l>0?r[l-1]:"")+o:u===1&&l>0&&(o=r[l-1]+o),i=Math.floor(i/10)}return(e<0?n:"")+o},Qw="",Uw="",Fw="",nh="",to=function(e,t,r){var n=r?". ":"",s=r?"":"",A=r?", ":"",i=r?" ":"";switch(t){case 0:return""+i;case 1:return""+i;case 2:return""+i;case 5:var o=Re(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return ps(e,"",s);case 6:return lA(e,1,3999,Nw,3,n).toLowerCase();case 7:return lA(e,1,3999,Nw,3,n);case 8:return Re(e,945,969,!1,n);case 9:return Re(e,97,122,!1,n);case 10:return Re(e,65,90,!1,n);case 11:return Re(e,1632,1641,!0,n);case 12:case 49:return lA(e,1,9999,Ew,3,n);case 35:return lA(e,1,9999,Ew,3,n).toLowerCase();case 13:return Re(e,2534,2543,!0,n);case 14:case 30:return Re(e,6112,6121,!0,n);case 15:return ps(e,"",s);case 16:return ps(e,"",s);case 17:case 48:return Xr(e,"",Qw,"",s,Nn|En|Wa);case 47:return Xr(e,"",Uw,"",s,fA|Nn|En|Wa);case 42:return Xr(e,"",Qw,"",s,Nn|En|Wa);case 41:return Xr(e,"",Uw,"",s,fA|Nn|En|Wa);case 26:return Xr(e,"","",Fw,s,0);case 25:return Xr(e,"","",Fw,s,fA|Nn|En);case 31:return Xr(e,"","",nh,A,fA|Nn|En);case 33:return Xr(e,"","",nh,A,0);case 32:return Xr(e,"","",nh,A,fA|Nn|En);case 18:return Re(e,2406,2415,!0,n);case 20:return lA(e,1,19999,AM,3,n);case 21:return Re(e,2790,2799,!0,n);case 22:return Re(e,2662,2671,!0,n);case 22:return lA(e,1,10999,sM,3,n);case 23:return ps(e,"");case 24:return ps(e,"");case 27:return Re(e,3302,3311,!0,n);case 28:return ps(e,"",s);case 29:return ps(e,"",s);case 34:return Re(e,3792,3801,!0,n);case 37:return Re(e,6160,6169,!0,n);case 38:return Re(e,4160,4169,!0,n);case 39:return Re(e,2918,2927,!0,n);case 40:return Re(e,1776,1785,!0,n);case 43:return Re(e,3046,3055,!0,n);case 44:return Re(e,3174,3183,!0,n);case 45:return Re(e,3664,3673,!0,n);case 46:return Re(e,3872,3881,!0,n);case 3:default:return Re(e,48,57,!0,n)}},_j="data-html2canvas-ignore",Sw=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new nM,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=aM(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var A=t.defaultView.pageXOffset,i=t.defaultView.pageYOffset,o=s.contentWindow,l=o.document,u=lM(s).then(function(){return vt(n,void 0,void 0,function(){var c,d;return mt(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(hM),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),c=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,oM(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,d)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(uM(document.doctype)+"<html></html>"),dM(this.referenceElement.ownerDocument,A,i),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},e.prototype.createElementClone=function(t){if(Am(t,2))debugger;if(vj(t))return this.createCanvasClone(t);if(Cw(t))return this.createVideoClone(t);if(_w(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return lm(r)&&(lm(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),jw(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return sh(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(A,i){return i&&typeof i.cssText=="string"?A+i.cssText:A},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(A){if(this.context.logger.error("Unable to access cssRules property",A),A.name!=="SecurityError")throw A}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var A=t.getContext("2d"),i=s.getContext("2d");if(i)if(!this.options.allowTaint&&A)i.putImageData(A.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!kA(r)||!rM(r)&&!r.hasAttribute(_j)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!kA(r)||!_w(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,A=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;A;A=A.nextSibling)if(kA(A)&&Bj(A)&&typeof A.assignedNodes=="function"){var i=A.assignedNodes();i.length&&i.forEach(function(o){return s.appendChildNode(r,o,n)})}else this.appendChildNode(r,A,n)},e.prototype.cloneNode=function(t,r){if(yj(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&kA(t)&&(om(t)||Gl(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var A=n.getComputedStyle(t),i=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&om(s)&&(this.clonedReferenceElement=s),fp(s)&&gM(s);var l=this.counters.parse(new lw(this.context,A)),u=this.resolvePseudoContent(t,s,i,gi.BEFORE);jw(t)&&(r=!0),Cw(t)||this.cloneChildNodes(t,s,r),u&&s.insertBefore(u,s.firstChild);var c=this.resolvePseudoContent(t,s,o,gi.AFTER);return c&&s.appendChild(c),this.counters.pop(l),(A&&(this.options.copyStyles||Gl(t))&&!bj(t)||r)&&sh(A,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(zc(t)||Kc(t))&&(zc(s)||Kc(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var A=this;if(n){var i=n.content,o=r.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new lw(this.context,n));var l=new YO(this.context,n),u=o.createElement("html2canvaspseudoelement");sh(n,u),l.content.forEach(function(d){if(d.type===0)u.appendChild(o.createTextNode(d.value));else if(d.type===22){var h=o.createElement("img");h.src=d.value,h.style.opacity="1",u.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var m=d.values.filter(Be);m.length&&u.appendChild(o.createTextNode(t.getAttribute(m[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(ea),y=p[0],w=p[1];if(y&&Be(y)){var g=A.counters.getCounterValue(y.value),f=w&&Be(w)?sm.parse(A.context,w.value):3;u.appendChild(o.createTextNode(to(g,f,!1)))}}else if(d.name==="counters"){var x=d.values.filter(ea),y=x[0],b=x[1],w=x[2];if(y&&Be(y)){var _=A.counters.getCounterValues(y.value),C=w&&Be(w)?sm.parse(A.context,w.value):3,N=b&&b.type===0?b.value:"",j=_.map(function(T){return to(T,C,!1)}).join(N);u.appendChild(o.createTextNode(j))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(o.createTextNode(ow(l.quotes,A.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(ow(l.quotes,--A.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(d.value))}}),u.className=cm+" "+um;var c=s===gi.BEFORE?" "+cm:" "+um;return Gl(r)?r.className.baseValue+=c:r.className+=c,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),gi;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(gi||(gi={}));var aM=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(_j,"true"),e.body.appendChild(r),r},iM=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},oM=function(e){return Promise.all([].slice.call(e.images,0).map(iM))},lM=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var A=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(A),t(e))},50)}})},cM=["all","d","content"],sh=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);cM.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},uM=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},dM=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},hM=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},fM=":before",mM=":after",cm="___html2canvas___pseudoelement_before",um="___html2canvas___pseudoelement_after",kw=`{
    content: "" !important;
    display: none !important;
}`,gM=function(e){pM(e,"."+cm+fM+kw+`
         .`+um+mM+kw)},pM=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},jj=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),xM=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(ah(t)||bM(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return vt(this,void 0,void 0,function(){var r,n,s,A,i=this;return mt(this,function(o){switch(o.label){case 0:return r=jj.isSameOrigin(t),n=!Ah(t)&&this._options.useCORS===!0&&At.SUPPORT_CORS_IMAGES&&!r,s=!Ah(t)&&!r&&!ah(t)&&typeof this._options.proxy=="string"&&At.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Ah(t)&&!ah(t)&&!s&&!n?[2]:(A=t,s?[4,this.proxy(A)]:[3,2]);case 1:A=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,u){var c=new Image;c.onload=function(){return l(c)},c.onerror=u,(BM(A)||n)&&(c.crossOrigin="anonymous"),c.src=A,c.complete===!0&&setTimeout(function(){return l(c)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(A,i){var o=At.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")A(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return A(d.result)},!1),d.addEventListener("error",function(h){return i(h)},!1),d.readAsDataURL(l.response)}else i("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var c=r._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return i("Timed out ("+c+"ms) proxying "+s)}}l.send()})},e}(),yM=/^data:image\/svg\+xml/i,wM=/^data:image\/.*;base64,/i,vM=/^data:image\/.*/i,bM=function(e){return At.SUPPORT_SVG_DRAWING||!CM(e)},Ah=function(e){return vM.test(e)},BM=function(e){return wM.test(e)},ah=function(e){return e.substr(0,4)==="blob"},CM=function(e){return e.substr(-3).toLowerCase()==="svg"||yM.test(e)},re=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),cA=function(e,t,r){return new re(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},yl=function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=cA(this.start,this.startControl,t),s=cA(this.startControl,this.endControl,t),A=cA(this.endControl,this.end,t),i=cA(n,s,t),o=cA(s,A,t),l=cA(i,o,t);return r?new e(this.start,n,i,l):new e(l,o,A,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ar=function(e){return e.type===1},_M=function(){function e(t){var r=t.styles,n=t.bounds,s=$a(r.borderTopLeftRadius,n.width,n.height),A=s[0],i=s[1],o=$a(r.borderTopRightRadius,n.width,n.height),l=o[0],u=o[1],c=$a(r.borderBottomRightRadius,n.width,n.height),d=c[0],h=c[1],m=$a(r.borderBottomLeftRadius,n.width,n.height),p=m[0],y=m[1],w=[];w.push((A+l)/n.width),w.push((p+d)/n.width),w.push((i+y)/n.height),w.push((u+h)/n.height);var g=Math.max.apply(Math,w);g>1&&(A/=g,i/=g,l/=g,u/=g,d/=g,h/=g,p/=g,y/=g);var f=n.width-l,x=n.height-h,b=n.width-d,_=n.height-y,C=r.borderTopWidth,N=r.borderRightWidth,j=r.borderBottomWidth,F=r.borderLeftWidth,D=_e(r.paddingTop,t.bounds.width),T=_e(r.paddingRight,t.bounds.width),G=_e(r.paddingBottom,t.bounds.width),I=_e(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||i>0?Qe(n.left+F/3,n.top+C/3,A-F/3,i-C/3,ye.TOP_LEFT):new re(n.left+F/3,n.top+C/3),this.topRightBorderDoubleOuterBox=A>0||i>0?Qe(n.left+f,n.top+C/3,l-N/3,u-C/3,ye.TOP_RIGHT):new re(n.left+n.width-N/3,n.top+C/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?Qe(n.left+b,n.top+x,d-N/3,h-j/3,ye.BOTTOM_RIGHT):new re(n.left+n.width-N/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=p>0||y>0?Qe(n.left+F/3,n.top+_,p-F/3,y-j/3,ye.BOTTOM_LEFT):new re(n.left+F/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=A>0||i>0?Qe(n.left+F*2/3,n.top+C*2/3,A-F*2/3,i-C*2/3,ye.TOP_LEFT):new re(n.left+F*2/3,n.top+C*2/3),this.topRightBorderDoubleInnerBox=A>0||i>0?Qe(n.left+f,n.top+C*2/3,l-N*2/3,u-C*2/3,ye.TOP_RIGHT):new re(n.left+n.width-N*2/3,n.top+C*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?Qe(n.left+b,n.top+x,d-N*2/3,h-j*2/3,ye.BOTTOM_RIGHT):new re(n.left+n.width-N*2/3,n.top+n.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||y>0?Qe(n.left+F*2/3,n.top+_,p-F*2/3,y-j*2/3,ye.BOTTOM_LEFT):new re(n.left+F*2/3,n.top+n.height-j*2/3),this.topLeftBorderStroke=A>0||i>0?Qe(n.left+F/2,n.top+C/2,A-F/2,i-C/2,ye.TOP_LEFT):new re(n.left+F/2,n.top+C/2),this.topRightBorderStroke=A>0||i>0?Qe(n.left+f,n.top+C/2,l-N/2,u-C/2,ye.TOP_RIGHT):new re(n.left+n.width-N/2,n.top+C/2),this.bottomRightBorderStroke=d>0||h>0?Qe(n.left+b,n.top+x,d-N/2,h-j/2,ye.BOTTOM_RIGHT):new re(n.left+n.width-N/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=p>0||y>0?Qe(n.left+F/2,n.top+_,p-F/2,y-j/2,ye.BOTTOM_LEFT):new re(n.left+F/2,n.top+n.height-j/2),this.topLeftBorderBox=A>0||i>0?Qe(n.left,n.top,A,i,ye.TOP_LEFT):new re(n.left,n.top),this.topRightBorderBox=l>0||u>0?Qe(n.left+f,n.top,l,u,ye.TOP_RIGHT):new re(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||h>0?Qe(n.left+b,n.top+x,d,h,ye.BOTTOM_RIGHT):new re(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||y>0?Qe(n.left,n.top+_,p,y,ye.BOTTOM_LEFT):new re(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||i>0?Qe(n.left+F,n.top+C,Math.max(0,A-F),Math.max(0,i-C),ye.TOP_LEFT):new re(n.left+F,n.top+C),this.topRightPaddingBox=l>0||u>0?Qe(n.left+Math.min(f,n.width-N),n.top+C,f>n.width+N?0:Math.max(0,l-N),Math.max(0,u-C),ye.TOP_RIGHT):new re(n.left+n.width-N,n.top+C),this.bottomRightPaddingBox=d>0||h>0?Qe(n.left+Math.min(b,n.width-F),n.top+Math.min(x,n.height-j),Math.max(0,d-N),Math.max(0,h-j),ye.BOTTOM_RIGHT):new re(n.left+n.width-N,n.top+n.height-j),this.bottomLeftPaddingBox=p>0||y>0?Qe(n.left+F,n.top+Math.min(_,n.height-j),Math.max(0,p-F),Math.max(0,y-j),ye.BOTTOM_LEFT):new re(n.left+F,n.top+n.height-j),this.topLeftContentBox=A>0||i>0?Qe(n.left+F+I,n.top+C+D,Math.max(0,A-(F+I)),Math.max(0,i-(C+D)),ye.TOP_LEFT):new re(n.left+F+I,n.top+C+D),this.topRightContentBox=l>0||u>0?Qe(n.left+Math.min(f,n.width+F+I),n.top+C+D,f>n.width+F+I?0:l-F+I,u-(C+D),ye.TOP_RIGHT):new re(n.left+n.width-(N+T),n.top+C+D),this.bottomRightContentBox=d>0||h>0?Qe(n.left+Math.min(b,n.width-(F+I)),n.top+Math.min(x,n.height+C+D),Math.max(0,d-(N+T)),h-(j+G),ye.BOTTOM_RIGHT):new re(n.left+n.width-(N+T),n.top+n.height-(j+G)),this.bottomLeftContentBox=p>0||y>0?Qe(n.left+F+I,n.top+_,Math.max(0,p-(F+I)),y-(j+G),ye.BOTTOM_LEFT):new re(n.left+F+I,n.top+n.height-(j+G))}return e}(),ye;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ye||(ye={}));var Qe=function(e,t,r,n,s){var A=4*((Math.sqrt(2)-1)/3),i=r*A,o=n*A,l=e+r,u=t+n;switch(s){case ye.TOP_LEFT:return new yl(new re(e,u),new re(e,u-o),new re(l-i,t),new re(l,t));case ye.TOP_RIGHT:return new yl(new re(e,t),new re(e+i,t),new re(l,u-o),new re(l,u));case ye.BOTTOM_RIGHT:return new yl(new re(l,t),new re(l,t+o),new re(e+i,u),new re(e,u));case ye.BOTTOM_LEFT:default:return new yl(new re(l,u),new re(l-i,u),new re(e,t+o),new re(e,t))}},Vc=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},jM=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},$c=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},NM=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),wl=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),EM=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),QM=function(e){return e.type===0},Nj=function(e){return e.type===1},UM=function(e){return e.type===2},Iw=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},FM=function(e,t,r,n,s){return e.map(function(A,i){switch(i){case 0:return A.add(t,r);case 1:return A.add(t+n,r);case 2:return A.add(t+n,r+s);case 3:return A.add(t,r+s)}return A})},Ej=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Qj=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new _M(this.container),this.container.styles.opacity<1&&this.effects.push(new EM(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new NM(n,s,A))}if(this.container.styles.overflowX!==0){var i=Vc(this.curves),o=$c(this.curves);Iw(i,o)?this.effects.push(new wl(i,6)):(this.effects.push(new wl(i,2)),this.effects.push(new wl(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var A=n.effects.filter(function(l){return!Nj(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,A),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=Vc(n.curves),o=$c(n.curves);Iw(i,o)||s.unshift(new wl(o,6))}}else s.unshift.apply(s,A);n=n.parent}return s.filter(function(l){return Ye(l.target,t)})},e}(),dm=function(e,t,r,n){e.container.elements.forEach(function(s){var A=Ye(s.flags,4),i=Ye(s.flags,2),o=new Qj(s,e);Ye(s.styles.display,2048)&&n.push(o);var l=Ye(s.flags,8)?[]:n;if(A||i){var u=A||s.styles.isPositioned()?r:t,c=new Ej(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var h=0;u.negativeZIndex.some(function(p,y){return d>p.element.container.styles.zIndex.order?(h=y,!1):h>0}),u.negativeZIndex.splice(h,0,c)}else if(d>0){var m=0;u.positiveZIndex.some(function(p,y){return d>=p.element.container.styles.zIndex.order?(m=y+1,!1):m>0}),u.positiveZIndex.splice(m,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else s.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);dm(o,c,A?c:r,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),dm(o,t,r,l);Ye(s.flags,8)&&Uj(s,l)})},Uj=function(e,t){for(var r=e instanceof im?e.start:1,n=e instanceof im?e.reversed:!1,s=0;s<t.length;s++){var A=t[s];A.container instanceof hj&&typeof A.container.value=="number"&&A.container.value!==0&&(r=A.container.value),A.listValue=to(r,A.container.styles.listStyleType,!0),r+=n?-1:1}},SM=function(e){var t=new Qj(e,null),r=new Ej(t),n=[];return dm(t,r,r,n),Uj(t.container,n),r},Tw=function(e,t){switch(t){case 0:return cr(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return cr(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return cr(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return cr(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},kM=function(e,t){switch(t){case 0:return cr(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return cr(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return cr(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return cr(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},IM=function(e,t){switch(t){case 0:return cr(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return cr(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return cr(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return cr(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},TM=function(e,t){switch(t){case 0:return vl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return vl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return vl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return vl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},vl=function(e,t){var r=[];return ar(e)?r.push(e.subdivide(.5,!1)):r.push(e),ar(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},cr=function(e,t,r,n){var s=[];return ar(e)?s.push(e.subdivide(.5,!1)):s.push(e),ar(r)?s.push(r.subdivide(.5,!0)):s.push(r),ar(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),ar(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},Fj=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Gc=function(e){var t=e.styles,r=e.bounds,n=_e(t.paddingLeft,r.width),s=_e(t.paddingRight,r.width),A=_e(t.paddingTop,r.width),i=_e(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,A+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+A+i))},DM=function(e,t){return e===0?t.bounds:e===2?Gc(t):Fj(t)},LM=function(e,t){return e===0?t.bounds:e===2?Gc(t):Fj(t)},ih=function(e,t,r){var n=DM(mA(e.styles.backgroundOrigin,t),e),s=LM(mA(e.styles.backgroundClip,t),e),A=PM(mA(e.styles.backgroundSize,t),r,n),i=A[0],o=A[1],l=$a(mA(e.styles.backgroundPosition,t),n.width-i,n.height-o),u=HM(mA(e.styles.backgroundRepeat,t),l,A,n,s),c=Math.round(n.left+l[0]),d=Math.round(n.top+l[1]);return[u,c,d,i,o]},uA=function(e){return Be(e)&&e.value===MA.AUTO},bl=function(e){return typeof e=="number"},PM=function(e,t,r){var n=t[0],s=t[1],A=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Ge(i)&&o&&Ge(o))return[_e(i,r.width),_e(o,r.height)];var l=bl(A);if(Be(i)&&(i.value===MA.CONTAIN||i.value===MA.COVER)){if(bl(A)){var u=r.width/r.height;return u<A!=(i.value===MA.COVER)?[r.width,r.width/A]:[r.height*A,r.height]}return[r.width,r.height]}var c=bl(n),d=bl(s),h=c||d;if(uA(i)&&(!o||uA(o))){if(c&&d)return[n,s];if(!l&&!h)return[r.width,r.height];if(h&&l){var m=c?n:s*A,p=d?s:n/A;return[m,p]}var y=c?n:r.width,w=d?s:r.height;return[y,w]}if(l){var g=0,f=0;return Ge(i)?g=_e(i,r.width):Ge(o)&&(f=_e(o,r.height)),uA(i)?g=f*A:(!o||uA(o))&&(f=g/A),[g,f]}var x=null,b=null;if(Ge(i)?x=_e(i,r.width):o&&Ge(o)&&(b=_e(o,r.height)),x!==null&&(!o||uA(o))&&(b=c&&d?x/n*s:r.height),b!==null&&uA(i)&&(x=c&&d?b/s*n:r.width),x!==null&&b!==null)return[x,b];throw new Error("Unable to calculate background-size for element")},mA=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},HM=function(e,t,r,n,s){var A=t[0],i=t[1],o=r[0],l=r[1];switch(e){case 2:return[new re(Math.round(n.left),Math.round(n.top+i)),new re(Math.round(n.left+n.width),Math.round(n.top+i)),new re(Math.round(n.left+n.width),Math.round(l+n.top+i)),new re(Math.round(n.left),Math.round(l+n.top+i))];case 3:return[new re(Math.round(n.left+A),Math.round(n.top)),new re(Math.round(n.left+A+o),Math.round(n.top)),new re(Math.round(n.left+A+o),Math.round(n.height+n.top)),new re(Math.round(n.left+A),Math.round(n.height+n.top))];case 1:return[new re(Math.round(n.left+A),Math.round(n.top+i)),new re(Math.round(n.left+A+o),Math.round(n.top+i)),new re(Math.round(n.left+A+o),Math.round(n.top+i+l)),new re(Math.round(n.left+A),Math.round(n.top+i+l))];default:return[new re(Math.round(s.left),Math.round(s.top)),new re(Math.round(s.left+s.width),Math.round(s.top)),new re(Math.round(s.left+s.width),Math.round(s.height+s.top)),new re(Math.round(s.left),Math.round(s.height+s.top))]}},OM="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Dw="Hidden Text",RM=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),A=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),s.src=OM,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",A.style.fontFamily=t,A.style.fontSize=r,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(Dw)),n.appendChild(A),n.appendChild(s);var o=s.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(Dw)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:l}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),Sj=function(){function e(t,r){this.context=t,this.options=r}return e}(),MM=1e4,zM=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new RM(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),UM(r)&&(this.ctx.globalAlpha=r.opacity),QM(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Nj(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return vt(this,void 0,void 0,function(){var n;return mt(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return vt(this,void 0,void 0,function(){return mt(this,function(n){switch(n.label){case 0:if(Ye(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var A=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var i=dp(r.text);i.reduce(function(o,l){return A.ctx.fillText(l,o,r.bounds.top+s),o+A.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),s=WM(r.fontFamily).join(", "),A=wo(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,A,s].join(" "),s,A]},t.prototype.renderTextNode=function(r,n){return vt(this,void 0,void 0,function(){var s,A,i,o,l,u,c,d,h=this;return mt(this,function(m){return s=this.createFontStyle(n),A=s[0],i=s[1],o=s[2],this.ctx.font=A,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,o),u=l.baseline,c=l.middle,d=n.paintOrder,r.textBounds.forEach(function(p){d.forEach(function(y){switch(y){case 0:h.ctx.fillStyle=et(n.color),h.renderTextWithLetterSpacing(p,n.letterSpacing,u);var w=n.textShadow;w.length&&p.text.trim().length&&(w.slice(0).reverse().forEach(function(g){h.ctx.shadowColor=et(g.color),h.ctx.shadowOffsetX=g.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=g.offsetY.number*h.options.scale,h.ctx.shadowBlur=g.blur.number,h.renderTextWithLetterSpacing(p,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=et(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(g){switch(g){case 1:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+u),p.bounds.width,1);break;case 2:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:h.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+c),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(h.ctx.strokeStyle=et(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var A=Gc(r),i=$c(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return vt(this,void 0,void 0,function(){var n,s,A,i,o,l,f,f,u,c,d,h,b,m,p,_,y,w,g,f,x,b,_;return mt(this,function(C){switch(C.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,A=n.styles,i=0,o=n.textNodes,C.label=1;case 1:return i<o.length?(l=o[i],[4,this.renderTextNode(l,A)]):[3,4];case 2:C.sent(),C.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof cj))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return f=C.sent(),this.renderReplacedElement(n,s,f),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof uj&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof dj))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return f=C.sent(),this.renderReplacedElement(n,s,f),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof gj&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:c=C.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),C.label=14;case 14:if(n instanceof hp&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===Rc?n.checked&&(this.ctx.save(),this.path([new re(n.bounds.left+d*.39363,n.bounds.top+d*.79),new re(n.bounds.left+d*.16,n.bounds.top+d*.5549),new re(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new re(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new re(n.bounds.left+d*.72983,n.bounds.top+d*.23),new re(n.bounds.left+d*.84,n.bounds.top+d*.34085),new re(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=et(Bw),this.ctx.fill(),this.ctx.restore()):n.type===Mc&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=et(Bw),this.ctx.fill(),this.ctx.restore())),KM(n)&&n.value.length){switch(h=this.createFontStyle(A),b=h[0],m=h[1],p=this.fontMetrics.getMetrics(b,m).baseline,this.ctx.font=b,this.ctx.fillStyle=et(A.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=$M(n.styles.textAlign),_=Gc(n),y=0,n.styles.textAlign){case 1:y+=_.width/2;break;case 2:y+=_.width;break}w=_.add(y,0,0,-_.height/2+1),this.ctx.save(),this.path([new re(_.left,_.top),new re(_.left+_.width,_.top),new re(_.left+_.width,_.top+_.height),new re(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new mi(n.value,w),A.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ye(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(g=n.styles.listStyleImage,g.type!==0)return[3,18];f=void 0,x=g.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return f=C.sent(),this.ctx.drawImage(f,n.bounds.left-(f.width+10),n.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(b=this.createFontStyle(A)[0],this.ctx.font=b,this.ctx.fillStyle=et(A.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new xn(n.bounds.left,n.bounds.top+_e(n.styles.paddingTop,n.bounds.width),n.bounds.width,aw(A.lineHeight,A.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new mi(r.listValue,_),A.letterSpacing,aw(A.lineHeight,A.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return vt(this,void 0,void 0,function(){var n,s,g,A,i,g,o,l,g,u,c,g,d,h,g,m,p,g,y,w,g;return mt(this,function(f){switch(f.label){case 0:if(Ye(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:f.sent(),n=0,s=r.negativeZIndex,f.label=2;case 2:return n<s.length?(g=s[n],[4,this.renderStack(g)]):[3,5];case 3:f.sent(),f.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:f.sent(),A=0,i=r.nonInlineLevel,f.label=7;case 7:return A<i.length?(g=i[A],[4,this.renderNode(g)]):[3,10];case 8:f.sent(),f.label=9;case 9:return A++,[3,7];case 10:o=0,l=r.nonPositionedFloats,f.label=11;case 11:return o<l.length?(g=l[o],[4,this.renderStack(g)]):[3,14];case 12:f.sent(),f.label=13;case 13:return o++,[3,11];case 14:u=0,c=r.nonPositionedInlineLevel,f.label=15;case 15:return u<c.length?(g=c[u],[4,this.renderStack(g)]):[3,18];case 16:f.sent(),f.label=17;case 17:return u++,[3,15];case 18:d=0,h=r.inlineLevel,f.label=19;case 19:return d<h.length?(g=h[d],[4,this.renderNode(g)]):[3,22];case 20:f.sent(),f.label=21;case 21:return d++,[3,19];case 22:m=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,f.label=23;case 23:return m<p.length?(g=p[m],[4,this.renderStack(g)]):[3,26];case 24:f.sent(),f.label=25;case 25:return m++,[3,23];case 26:y=0,w=r.positiveZIndex,f.label=27;case 27:return y<w.length?(g=w[y],[4,this.renderStack(g)]):[3,30];case 28:f.sent(),f.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,A){var i=ar(s)?s.start:s;A===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),ar(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,A){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,A),this.ctx.fill(),this.ctx.translate(-s,-A)},t.prototype.resizeImage=function(r,n,s){var A;if(r.width===n&&r.height===s)return r;var i=(A=this.canvas.ownerDocument)!==null&&A!==void 0?A:document,o=i.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,s);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),o},t.prototype.renderBackgroundImage=function(r){return vt(this,void 0,void 0,function(){var n,s,A,i,o,l;return mt(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,s=function(c){var d,h,m,D,ie,te,I,K,j,p,D,ie,te,I,K,y,w,g,f,x,b,_,C,N,j,F,D,T,G,I,K,W,ie,te,k,M,$,B,E,S,Q,H;return mt(this,function(U){switch(U.label){case 0:if(c.type!==0)return[3,5];d=void 0,h=c.url,U.label=1;case 1:return U.trys.push([1,3,,4]),[4,A.context.cache.match(h)];case 2:return d=U.sent(),[3,4];case 3:return U.sent(),A.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(m=ih(r,n,[d.width,d.height,d.width/d.height]),D=m[0],ie=m[1],te=m[2],I=m[3],K=m[4],j=A.ctx.createPattern(A.resizeImage(d,I,K),"repeat"),A.renderRepeat(D,j,ie,te)),[3,6];case 5:Q3(c)?(p=ih(r,n,[null,null,null]),D=p[0],ie=p[1],te=p[2],I=p[3],K=p[4],y=C3(c.angle,I,K),w=y[0],g=y[1],f=y[2],x=y[3],b=y[4],_=document.createElement("canvas"),_.width=I,_.height=K,C=_.getContext("2d"),N=C.createLinearGradient(g,x,f,b),sw(c.stops,w).forEach(function(V){return N.addColorStop(V.stop,et(V.color))}),C.fillStyle=N,C.fillRect(0,0,I,K),I>0&&K>0&&(j=A.ctx.createPattern(_,"repeat"),A.renderRepeat(D,j,ie,te))):U3(c)&&(F=ih(r,n,[null,null,null]),D=F[0],T=F[1],G=F[2],I=F[3],K=F[4],W=c.position.length===0?[lp]:c.position,ie=_e(W[0],I),te=_e(W[W.length-1],K),k=_3(c,ie,te,I,K),M=k[0],$=k[1],M>0&&$>0&&(B=A.ctx.createRadialGradient(T+ie,G+te,0,T+ie,G+te,M),sw(c.stops,M*2).forEach(function(V){return B.addColorStop(V.stop,et(V.color))}),A.path(D),A.ctx.fillStyle=B,M!==$?(E=r.bounds.left+.5*r.bounds.width,S=r.bounds.top+.5*r.bounds.height,Q=$/M,H=1/Q,A.ctx.save(),A.ctx.translate(E,S),A.ctx.transform(1,0,0,Q,0,0),A.ctx.translate(-E,-S),A.ctx.fillRect(T,H*(G-S)+S,I,K*H),A.ctx.restore()):A.ctx.fill())),U.label=6;case 6:return n--,[2]}})},A=this,i=0,o=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<o.length?(l=o[i],[5,s(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return vt(this,void 0,void 0,function(){return mt(this,function(A){return this.path(Tw(s,n)),this.ctx.fillStyle=et(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,A){return vt(this,void 0,void 0,function(){var i,o;return mt(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,A)]:[3,2];case 1:return l.sent(),[2];case 2:return i=kM(A,s),this.path(i),this.ctx.fillStyle=et(r),this.ctx.fill(),o=IM(A,s),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return vt(this,void 0,void 0,function(){var n,s,A,i,o,l,u,c,d=this;return mt(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Yn(n.backgroundColor)||n.backgroundImage.length,A=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=VM(mA(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),Yn(n.backgroundColor)||(this.ctx.fillStyle=et(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){d.ctx.save();var p=Vc(r.curves),y=m.inset?0:MM,w=FM(p,-y+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(d.path(p),d.ctx.clip(),d.mask(w)):(d.mask(p),d.ctx.clip(),d.path(w)),d.ctx.shadowOffsetX=m.offsetX.number+y,d.ctx.shadowOffsetY=m.offsetY.number,d.ctx.shadowColor=et(m.color),d.ctx.shadowBlur=m.blur.number,d.ctx.fillStyle=m.inset?et(m.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:o=0,l=0,u=A,h.label=3;case 3:return l<u.length?(c=u[l],c.style!==0&&!Yn(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,r.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,A,i){return vt(this,void 0,void 0,function(){var o,l,u,c,d,h,m,p,y,w,g,f,x,b,_,C,_,C;return mt(this,function(N){return this.ctx.save(),o=TM(A,s),l=Tw(A,s),i===2&&(this.path(l),this.ctx.clip()),ar(l[0])?(u=l[0].start.x,c=l[0].start.y):(u=l[0].x,c=l[0].y),ar(l[1])?(d=l[1].end.x,h=l[1].end.y):(d=l[1].x,h=l[1].y),s===0||s===2?m=Math.abs(u-d):m=Math.abs(c-h),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(l.slice(0,2)),p=n<3?n*3:n*2,y=n<3?n*2:n,i===3&&(p=n,y=n),w=!0,m<=p*2?w=!1:m<=p*2+y?(g=m/(2*p+y),p*=g,y*=g):(f=Math.floor((m+y)/(p+y)),x=(m-f*p)/(f-1),b=(m-(f+1)*p)/f,y=b<=0||Math.abs(y-x)<Math.abs(y-b)?x:b),w&&(i===3?this.ctx.setLineDash([0,p+y]):this.ctx.setLineDash([p,y])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=et(r),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(ar(l[0])&&(_=l[3],C=l[0],this.ctx.beginPath(),this.formatPath([new re(_.end.x,_.end.y),new re(C.start.x,C.start.y)]),this.ctx.stroke()),ar(l[1])&&(_=l[1],C=l[2],this.ctx.beginPath(),this.formatPath([new re(_.end.x,_.end.y),new re(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return vt(this,void 0,void 0,function(){var n;return mt(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=et(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=SM(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(Sj),KM=function(e){return e instanceof mj||e instanceof fj?!0:e instanceof hp&&e.type!==Mc&&e.type!==Rc},VM=function(e,t){switch(e){case 0:return Vc(t);case 2:return jM(t);case 1:default:return $c(t)}},$M=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},GM=["-apple-system","system-ui"],WM=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return GM.indexOf(t)===-1}):e},qM=function(e){Ir(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return vt(this,void 0,void 0,function(){var n,s;return mt(this,function(A){switch(A.label){case 0:return n=am(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,JM(n)];case 1:return s=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=et(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(Sj),JM=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},XM=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,el([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,el([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,el([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,el([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),YM=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new XM({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new xM(this,t)}return e.instanceCount=1,e}(),ZM=function(e,t){return t===void 0&&(t={}),e6(e,t)};typeof window<"u"&&jj.setContext(window);var e6=function(e,t){return vt(void 0,void 0,void 0,function(){var r,n,s,A,i,o,l,u,c,d,h,m,p,y,w,g,f,x,b,_,N,C,N,j,F,D,T,G,I,K,W,ie,te,k,M,$,B,E,S,Q;return mt(this,function(H){switch(H.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(j=t.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(F=t.imageTimeout)!==null&&F!==void 0?F:15e3,proxy:t.proxy,useCORS:(D=t.useCORS)!==null&&D!==void 0?D:!1},A=Vf({logging:(T=t.logging)!==null&&T!==void 0?T:!0,cache:t.cache},s),i={windowWidth:(G=t.windowWidth)!==null&&G!==void 0?G:n.innerWidth,windowHeight:(I=t.windowHeight)!==null&&I!==void 0?I:n.innerHeight,scrollX:(K=t.scrollX)!==null&&K!==void 0?K:n.pageXOffset,scrollY:(W=t.scrollY)!==null&&W!==void 0?W:n.pageYOffset},o=new xn(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),l=new YM(A,o),u=(ie=t.foreignObjectRendering)!==null&&ie!==void 0?ie:!1,c={allowTaint:(te=t.allowTaint)!==null&&te!==void 0?te:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new Sw(l,e,c),h=d.clonedReferenceElement,h?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=H.sent(),p=fp(h)||tM(h)?FP(h.ownerDocument):Eu(l,h),y=p.width,w=p.height,g=p.left,f=p.top,x=t6(l,h,t.backgroundColor),b={canvas:t.canvas,backgroundColor:x,scale:(M=(k=t.scale)!==null&&k!==void 0?k:n.devicePixelRatio)!==null&&M!==void 0?M:1,x:(($=t.x)!==null&&$!==void 0?$:0)+g,y:((B=t.y)!==null&&B!==void 0?B:0)+f,width:(E=t.width)!==null&&E!==void 0?E:Math.ceil(y),height:(S=t.height)!==null&&S!==void 0?S:Math.ceil(w)},u?(l.logger.debug("Document cloned, using foreign object rendering"),N=new qM(l,b),[4,N.render(h)]):[3,3];case 2:return _=H.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+f+" with size "+y+"x"+w+" using computed rendering"),l.logger.debug("Starting DOM parsing"),C=xj(l,h),x===C.styles.backgroundColor&&(C.styles.backgroundColor=ln.TRANSPARENT),l.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),N=new zM(l,b),[4,N.render(C)];case 4:_=H.sent(),H.label=5;case 5:return(!((Q=t.removeContainer)!==null&&Q!==void 0)||Q)&&(Sw.destroy(m)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,_]}})})},t6=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?hi(e,getComputedStyle(n.documentElement).backgroundColor):ln.TRANSPARENT,A=n.body?hi(e,getComputedStyle(n.body).backgroundColor):ln.TRANSPARENT,i=typeof r=="string"?hi(e,r):r===null?ln.TRANSPARENT:4294967295;return t===n.documentElement?Yn(s)?Yn(A)?i:A:s:i};const ro=async e=>{await new Promise(n=>setTimeout(n,500));const t=document.getElementById("invoice-template");if(!t)throw new Error("Invoice template not found");const r=t.cloneNode(!0);r.style.display="block",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.zIndex="-9999",r.style.width="794px",r.style.backgroundColor="#ffffff",document.body.appendChild(r);try{const s=(await ZM(r,{scale:2,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff",width:794,height:r.scrollHeight,logging:!1,removeContainer:!0,windowWidth:794})).toDataURL("image/jpeg",.95),A=document.createElement("a");A.download=`Bill_${e}.jpg`,A.href=s,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(s)}catch(n){throw console.error("Error generating bill JPEG:",n),n}finally{document.body.contains(r)&&document.body.removeChild(r)}},Cn=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),ta=({companyDetails:e,billDetails:t,clientDetails:r,rentalCharges:n,extraCosts:s,discounts:A,payments:i,summary:o,mainNote:l,previousBill:u})=>a.jsxs("div",{className:"invoice-container",style:{padding:"30px",maxWidth:"800px",margin:"0 auto",fontFamily:'"Arya", "Noto Sans Gujarati", sans-serif',backgroundColor:"#fff",color:"#000"},children:[a.jsxs("div",{style:{border:"2px solid #000",padding:"0",position:"relative",minHeight:"900px",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{borderBottom:"2px solid #000",padding:"15px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px"},children:[a.jsxs("div",{style:{textAlign:"center",fontWeight:"bold",fontSize:"14px"},children:[" ",a.jsx("br",{}),"()"]}),a.jsxs("div",{style:{textAlign:"center",fontWeight:"bold",fontSize:"14px"},children:[" ",a.jsx("br",{}),"  "]}),a.jsxs("div",{style:{textAlign:"right",fontWeight:"bold",fontSize:"14px"},children:["  -  ",a.jsx("br",{}),"  -  ",a.jsx("br",{}),"  -  "]})]}),a.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"10px auto",width:"100%"},children:a.jsxs("div",{style:{border:"2px solid #000",borderRadius:"50px",padding:"10px 40px",display:"flex",alignItems:"baseline",justifyContent:"center",width:"100%",maxWidth:"700px",backgroundColor:"#fff"},children:[a.jsx("span",{style:{fontSize:"48px",fontWeight:"bold",marginRight:"20px"},children:""}),a.jsx("span",{style:{fontSize:"32px",fontWeight:"bold"},children:" "})]})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 10px",marginTop:"10px"},children:[a.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:",  ,  , ."}),a.jsxs("div",{style:{border:"2px solid #000",borderRadius:"15px",padding:"2px 15px",fontWeight:"bold",fontSize:"14px"},children:["  : ",t.billNumber]})]})]}),a.jsx("div",{style:{padding:"5px 15px"},children:a.jsxs("div",{style:{border:"2px solid #000",padding:"8px",borderRadius:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[a.jsxs("div",{style:{display:"flex",width:"70%",alignItems:"baseline"},children:[a.jsx("span",{style:{fontWeight:"bold",fontSize:"16px",whiteSpace:"nowrap"},children:":"}),a.jsx("span",{style:{borderBottom:"1px dotted #000",flex:1,marginLeft:"5px",fontWeight:"bold",fontSize:"16px",paddingLeft:"5px"},children:r.name})]}),a.jsxs("div",{style:{display:"flex",width:"25%",alignItems:"baseline"},children:[a.jsx("span",{style:{fontWeight:"bold",fontSize:"16px",whiteSpace:"nowrap"},children:"ID:"}),a.jsx("span",{style:{borderBottom:"1px dotted #000",flex:1,marginLeft:"5px",textAlign:"center",fontWeight:"bold",fontSize:"16px"},children:r.nicName})]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",width:"70%",alignItems:"baseline"},children:[a.jsx("span",{style:{fontWeight:"bold",fontSize:"16px",whiteSpace:"nowrap"},children:":"}),a.jsx("span",{style:{borderBottom:"1px dotted #000",flex:1,marginLeft:"5px",fontWeight:"bold",fontSize:"16px",paddingLeft:"5px"},children:r.site})]}),a.jsxs("div",{style:{display:"flex",width:"25%",alignItems:"baseline"},children:[a.jsx("span",{style:{fontWeight:"bold",fontSize:"16px",whiteSpace:"nowrap"},children:":"}),a.jsx("span",{style:{borderBottom:"1px dotted #000",flex:1,marginLeft:"5px",textAlign:"center",fontWeight:"bold",fontSize:"16px"},children:xe(new Date(t.billDate),"dd/MM/yyyy")})]})]})]})}),a.jsxs("div",{className:"rental-section",style:{padding:"0",flex:1},children:[a.jsxs("table",{className:"invoice-table",style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"#000",color:"#fff"},children:[a.jsx("th",{style:{backgroundColor:"#000",color:"#fff",border:"1px solid #fff",padding:"10px",textAlign:"center",fontWeight:"bold"},children:".    "}),a.jsx("th",{style:{backgroundColor:"#000",color:"#fff",border:"1px solid #fff",padding:"10px",textAlign:"center",fontWeight:"bold"},children:"/"}),a.jsx("th",{style:{backgroundColor:"#000",color:"#fff",border:"1px solid #fff",padding:"10px",textAlign:"center",fontWeight:"bold"},children:" "}),a.jsx("th",{style:{backgroundColor:"#000",color:"#fff",border:"1px solid #fff",padding:"10px",textAlign:"center",fontWeight:"bold"},children:""}),a.jsx("th",{style:{backgroundColor:"#000",color:"#fff",border:"1px solid #fff",padding:"10px",textAlign:"center",fontWeight:"bold"},children:""}),a.jsx("th",{style:{backgroundColor:"#000",color:"#fff",border:"1px solid #fff",padding:"10px",textAlign:"center",fontWeight:"bold"},children:""})]})}),a.jsxs("tbody",{children:[u&&u.amount>0&&a.jsxs("tr",{style:{backgroundColor:"#fff"},children:[a.jsxs("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold",color:"#dc2626"},children:["  #",u.billNumber," "]}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:"-"}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:"-"}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:"-"}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:"-"}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold",color:"#dc2626"},children:Cn(u.amount)})]}),n.map((c,d)=>{var g,f;const h=c.startDate?new Date(c.startDate):new Date(t.fromDate),m=c.endDate?new Date(c.endDate):new Date(t.toDate);let p=0,y=0;if(c.udharQty!==void 0||c.jamaQty!==void 0)p=c.udharQty||0,y=c.jamaQty||0;else{const x=c.causeType==="jama",b=d>0?n[d-1].pieces:0,_=Math.abs(c.pieces-b),C=c.txnQty||_||c.pieces,N=c.startDate||t.fromDate,j=c.endDate||t.toDate,F=n.find((T,G)=>{if(G===d)return!1;const I=T.startDate||t.fromDate,K=T.endDate||t.toDate;return I===N&&K===j&&T.causeType!==c.causeType});if(x&&F)return null;const D=F?F.txnQty||Math.abs(F.pieces-(n.findIndex(T=>T===F)>0?n[n.findIndex(T=>T===F)-1].pieces:0)):0;p=x?D:C,y=x?C:D}const w=c.pieces===0&&c.days===0;return a.jsxs("tr",{children:[a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:w?xe(h,"dd/MM/yyyy"):a.jsxs(a.Fragment,{children:[xe(h,"dd/MM/yyyy"),"  ",xe(m,"dd/MM/yyyy")]})}),a.jsxs("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:[c.udharDetails&&c.udharDetails.length>1?c.udharDetails.map((x,b)=>a.jsxs("div",{style:{color:"#dc2626"},children:["+",x.qty]},`ud-${b}`)):p>0&&a.jsxs("div",{style:{color:"#dc2626"},children:["+",p]}),c.jamaDetails&&c.jamaDetails.length>1?c.jamaDetails.map((x,b)=>a.jsxs("div",{style:{color:"#16a34a"},children:["-",x.qty]},`jd-${b}`)):y>0&&a.jsxs("div",{style:{color:"#16a34a"},children:["-",y]}),p===0&&y===0&&!((g=c.udharDetails)!=null&&g.length)&&!((f=c.jamaDetails)!=null&&f.length)&&a.jsx("span",{style:{color:"#6b7280"},children:"-"})]}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:w?"800":"600",color:w?"#dc2626":void 0},children:c.pieces}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:w?"-":c.rate||t.dailyRent}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:w?"-":c.days}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:w?"-":Cn(Math.round(c.amount))})]},`rent-${d}`)}).filter(Boolean),s.length>0&&a.jsx(a.Fragment,{children:s.map((c,d)=>a.jsxs("tr",{children:[a.jsxs("td",{colSpan:5,style:{border:"1px solid #000",padding:"8px 12px"},children:[a.jsx("span",{style:{fontWeight:"600"},children:c.description}),(c.description===" "||c.description==="Service Charge")&&c.pieces&&c.rate&&a.jsxs("span",{style:{fontSize:"12px",color:"#6b7280",marginLeft:"10px"},children:["(",c.pieces," X ",c.rate,")"]})]}),a.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"600"},children:Cn(c.amount)})]},`extra-${d}`))})]})]}),i.length>0&&a.jsxs("div",{style:{marginTop:"20px",padding:"0 15px"},children:[a.jsx("div",{style:{fontWeight:"bold",borderBottom:"1px solid #000",paddingBottom:"5px",marginBottom:"5px"},children:" "}),a.jsx("table",{style:{width:"100%",fontSize:"14px"},children:a.jsx("tbody",{children:i.map((c,d)=>a.jsxs("tr",{children:[a.jsx("td",{style:{padding:"4px 0"},children:xe(new Date(c.date),"dd/MM/yyyy")}),a.jsxs("td",{style:{padding:"4px 0"},children:[c.method," ",c.note?`(${c.note})`:""]}),a.jsx("td",{style:{padding:"4px 0",textAlign:"right",fontWeight:"bold",color:"#16a34a"},children:Cn(c.amount)})]},`pay-${d}`))})})]}),l&&a.jsxs("div",{style:{marginTop:"20px",padding:"10px 15px",fontStyle:"italic",color:"#4b5563"},children:[a.jsx("span",{style:{fontWeight:"bold"},children:":"})," ",l]})]}),a.jsxs("div",{style:{borderTop:"2px solid #000",display:"flex",marginTop:"auto"},children:[a.jsxs("div",{style:{width:"65%",padding:"10px",borderRight:"2px solid #000",display:"flex",flexDirection:"column",justifyContent:"space-between",fontFamily:"Arial, sans-serif"},children:[a.jsx("div",{style:{fontWeight:"bold",fontSize:"14px",marginBottom:"20px"},children:" :         ."}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginTop:"10px"},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},children:"  ....................."}),a.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},children:"  ....................."})]})]}),a.jsx("div",{style:{width:"35%"},children:a.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #e5e7eb",fontWeight:"600"},children:" :"}),a.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #e5e7eb",textAlign:"right",fontWeight:"600",fontSize:"16px"},children:Cn(Math.round(o.grandTotal))})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #e5e7eb",fontWeight:"600",color:"#16a34a"},children:":"}),a.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #e5e7eb",textAlign:"right",fontWeight:"700",color:"#16a34a",fontSize:"16px"},children:Cn(Math.round(o.totalPaid))})]}),o.discounts>0&&a.jsxs("tr",{children:[a.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #e5e7eb",fontWeight:"600"},children:":"}),a.jsxs("td",{style:{padding:"12px",borderBottom:"1px solid #e5e7eb",textAlign:"right",fontWeight:"600",color:"#dc2626"},children:["-",Cn(Math.round(o.discounts))]})]}),a.jsxs("tr",{style:{backgroundColor:"#fee2e2"},children:[a.jsx("td",{style:{padding:"15px 12px",borderTop:"2px solid #000",fontWeight:"800",fontSize:"18px",color:"#dc2626"},children:" :"}),a.jsx("td",{style:{padding:"15px 12px",borderTop:"2px solid #000",textAlign:"right",fontWeight:"800",fontSize:"20px",color:"#dc2626"},children:Cn(Math.round(o.duePayment))})]})]})})})]})]}),a.jsx("div",{style:{textAlign:"center",padding:"4px 0",marginTop:"2px",fontSize:"18px",fontWeight:"600",color:"#dc2626",letterSpacing:"0.5px",opacity:.6},children:"      - 8866471567"})]});function r6(e,t){const r=[];return e.forEach(n=>{const s=Array.isArray(n.items)?n.items:[n.items],A=s.reduce((i,o)=>{if(!o)return i;let l=0;for(let u=1;u<=9;u++)l+=(o[`size_${u}_qty`]||0)+(o[`size_${u}_borrowed`]||0);return i+l},0);console.log("Udhar Entry plateCount:",A,"from items:",s),r.push({date:n.udhar_date,effectiveDate:n.udhar_date,type:"udhar",plateCount:A,challanNumber:n.udhar_challan_number,sortPriority:1})}),t.forEach(n=>{const A=(Array.isArray(n.items)?n.items:[n.items]).reduce((l,u)=>{if(!u)return l;let c=0;for(let d=1;d<=9;d++)c+=(u[`size_${d}_qty`]||0)+(u[`size_${d}_borrowed`]||0);return l+c},0),i=e.some(l=>l.udhar_date===n.jama_date);let o;i?o=n.jama_date:o=xe(_u(Tt(n.jama_date),1),"yyyy-MM-dd"),r.push({date:n.jama_date,effectiveDate:o,type:"jama",plateCount:A,challanNumber:n.jama_challan_number,sortPriority:2})}),r.sort((n,s)=>{const A=n.effectiveDate.localeCompare(s.effectiveDate);return A!==0?A:n.sortPriority-s.sortPriority})}function n6(e){let t=0;const r=[];return[...e].sort((s,A)=>{const i=new Date(s.date).getTime()-new Date(A.date).getTime();return i===0?s.sortPriority-A.sortPriority:i}).forEach(s=>{const A=t;s.type==="udhar"?t+=s.plateCount:t-=s.plateCount,r.push({transactionDate:s.date,effectiveDate:s.effectiveDate,balanceBefore:A,[s.type==="udhar"?"udharAmount":"jamaAmount"]:s.plateCount,balanceAfter:t,entryType:s.type,challanNumber:s.challanNumber,sortPriority:s.sortPriority})}),r}function s6(e,t,r){let n=0;const s=[];let A=0;e.sort((c,d)=>{const h=new Date(c.date).getTime()-new Date(d.date).getTime();return h===0?c.sortPriority-d.sortPriority:h});const i=n6(e),l=e.filter(c=>c.date<=t).reduce((c,d)=>{const h=d.effectiveDate;return c[h]||(c[h]=[]),c[h].push(d),c},{}),u=Object.keys(l).sort();for(let c=0;c<u.length;c++){const d=u[c],h=c<u.length-1?u[c+1]:t;if([...l[d]].sort((p,y)=>p.sortPriority-y.sortPriority).forEach(p=>{if(p.plateCount<=0){console.warn(`Invalid plate count in ${p.type} challan ${p.challanNumber}`);return}p.type==="udhar"?n+=p.plateCount:n<p.plateCount?(console.warn(`Warning: Jama ${p.plateCount} plates exceeds current balance of ${n}`),n=0):n-=p.plateCount}),n>=0){const p=l[d],y=p.filter(C=>C.type==="udhar"),w=p.filter(C=>C.type==="jama"),g=y.length>0?y.reduce((C,N)=>C+N.plateCount,0):void 0,f=w.length>0?w.reduce((C,N)=>C+N.plateCount,0):void 0,x=y.map(C=>({challanNumber:C.challanNumber,qty:C.plateCount})),b=w.map(C=>({challanNumber:C.challanNumber,qty:C.plateCount})),_=p[0].plateCount||0;if(n===0)s.push({startDate:d,endDate:d,plateCount:0,days:0,rent:0,causeType:l[d][0].type,challanNumber:l[d][0].challanNumber,txnQty:_,udharQty:g,jamaQty:f,udharDetails:x.length>0?x:void 0,jamaDetails:b.length>0?b:void 0});else{let C=null;try{const N=Tt(d);if(isNaN(N.getTime()))throw new Error(`Invalid start date: ${d}`);if(c<u.length-1){const j=Tt(h);if(isNaN(j.getTime()))throw new Error(`Invalid end date: ${h}`);C={days:qi(j,N),endDate:h}}else{const j=Tt(t);if(isNaN(j.getTime()))throw new Error(`Invalid bill date: ${t}`);C={days:qi(j,N)+1,endDate:xe(_u(j,1),"yyyy-MM-dd")}}}catch(N){console.error("Date processing error:",N);continue}if(C&&C.days>0){let N=C.days;const j=Math.round(r*100),F=n*N*j,D=Math.round(F)/100;console.log("Period txnQty:",_,"udharQty:",g,"jamaQty:",f,"from date:",d),s.push({startDate:d,endDate:C.endDate,plateCount:n,days:N,rent:D,causeType:l[d][0].type,challanNumber:l[d][0].challanNumber,txnQty:_,udharQty:g,jamaQty:f,udharDetails:x.length>0?x:void 0,jamaDetails:b.length>0?b:void 0}),A+=D}}}}return{entries:e,ledger:i,periods:s,totalRent:A}}function mp(e,t,r,n,s=[],A=[],i=[],o=10,l){const u=r6(e,t);let c=s6(u,r,n);if(l){const b=[];let _=0;c.periods.forEach(C=>{if(C.endDate<l)return;if(C.startDate>=l){b.push(C),_+=C.rent;return}const N=l,j=Math.round(n*100),F=qi(Tt(C.endDate),Tt(C.startDate)),D=C.days>F,T=qi(Tt(C.endDate),Tt(N)),G=D?T+1:T;if(G>0){const I=C.plateCount*G*j,K=Math.round(I)/100;b.push({...C,startDate:N,days:G,rent:K}),_+=K}}),c={...c,periods:b,totalRent:_}}const d=s.reduce((b,_)=>b+_.amount,0),h=A.reduce((b,_)=>b+_.amount,0),m=i.reduce((b,_)=>b+_.amount,0),p=c.periods.reduce((b,_)=>b+_.plateCount*o,0),y=c.periods.reduce((b,_)=>{const C=Math.round(_.rent*100);return b+C},0),w=Math.round(y)/100,g=Math.round(w*100+d*100+p*100-h*100),f=Math.round(g)/100,x=f-m;return{billingPeriods:c,extraChargesTotal:d,discountsTotal:h,paymentsTotal:m,serviceChargeTotal:p,grandTotal:f,dueAmount:x}}const Lw=async e=>{var t;try{const{data:r,error:n}=await X.from("clients").select("*").eq("id",e).single();if(n)return{success:!1,message:"Failed to fetch client data",error:n};if(!r)return{success:!1,message:"Client not found"};const{data:s,error:A}=await X.from("udhar_challans").select("*").eq("client_id",e).order("udhar_date",{ascending:!0});if(A)return{success:!1,message:"Failed to fetch udhar challans",error:A};const i={};if(s&&s.length>0){const{data:d,error:h}=await X.from("udhar_items").select("*").in("udhar_challan_number",s.map(m=>m.udhar_challan_number));if(h)return{success:!1,message:"Failed to fetch udhar items",error:h};d&&d.forEach(m=>{i[m.udhar_challan_number]||(i[m.udhar_challan_number]=[]),i[m.udhar_challan_number].push(m)}),s.forEach(m=>{m.items=i[m.udhar_challan_number]||[]})}s&&s.length>0?console.log("First Udhar Challan Structure:",{challan:s[0],hasItems:Array.isArray(s[0].udhar_items),itemsLength:(t=s[0].udhar_items)==null?void 0:t.length}):console.log("No udhar challans found for client");const{data:o,error:l}=await X.from("jama_challans").select("*").eq("client_id",e).order("jama_date",{ascending:!0});if(l)return{success:!1,message:"Failed to fetch jama challans",error:l};const u={};if(o&&o.length>0){const{data:d,error:h}=await X.from("jama_items").select("*").in("jama_challan_number",o.map(m=>m.jama_challan_number));if(h)return{success:!1,message:"Failed to fetch jama items",error:h};d&&d.forEach(m=>{u[m.jama_challan_number]||(u[m.jama_challan_number]=[]),u[m.jama_challan_number].push(m)}),o.forEach(m=>{m.items=u[m.jama_challan_number]||[]})}const c={clientData:A6(r),udharChallans:a6(s||[]),jamaChallans:i6(o||[])};return c.clientData.valid?c.udharChallans.valid?c.jamaChallans.valid?{success:!0,message:"All data fetched and validated successfully",data:{client:r,udharChallans:s,jamaChallans:o,validation:c}}:{success:!1,message:`Invalid jama challans: ${c.jamaChallans.errors.join(", ")}`}:{success:!1,message:`Invalid udhar challans: ${c.udharChallans.errors.join(", ")}`}:{success:!1,message:`Invalid client data: ${c.clientData.errors.join(", ")}`}}catch(r){return{success:!1,message:"Unexpected error during validation",error:r}}},A6=e=>{const t=[];return e.id||t.push("Missing client ID"),e.client_name||t.push("Missing client name"),e.client_nic_name||t.push("Missing client nickname"),e.primary_phone_number||t.push("Missing phone number"),e.site||t.push("Missing site"),{valid:t.length===0,errors:t}},a6=e=>{const t=[];return Array.isArray(e)?(e.forEach((r,n)=>{var s;if(console.log(`Validating Udhar Challan ${n+1}:`,{challanNumber:r.udhar_challan_number,date:r.udhar_date,itemsCount:(s=r.items)==null?void 0:s.length}),r.udhar_date||t.push(`Challan ${r.udhar_challan_number||n+1}: Missing date`),r.udhar_challan_number||t.push(`Challan ${n+1}: Missing challan number`),!Array.isArray(r.items)){console.error(`Invalid items for challan ${r.udhar_challan_number}:`,r.items),t.push(`Challan ${r.udhar_challan_number||n+1}: Missing or invalid items`);return}if(r.items.length===0){console.warn(`No items found for challan ${r.udhar_challan_number}`),t.push(`Challan ${r.udhar_challan_number||n+1}: No items found`);return}r.items.forEach(A=>{let i=!1;for(let o=1;o<=9;o++){const l=`size_${o}_qty`,u=`size_${o}_borrowed`,c=Math.max(0,Number(A[l])||0),d=Math.max(0,Number(A[u])||0);A[l]=c,A[u]=d,(c>0||d>0)&&(i=!0)}i||console.warn(`No quantities found in item for challan ${r.udhar_challan_number}:`,A)})}),{valid:t.length===0,errors:t}):{valid:!1,errors:["Invalid challans data structure"]}},i6=e=>{const t=[];return Array.isArray(e)?(e.forEach((r,n)=>{var s;if(console.log(`Validating Jama Challan ${n+1}:`,{challanNumber:r.jama_challan_number,date:r.jama_date,itemsCount:(s=r.items)==null?void 0:s.length}),r.jama_date||t.push(`Challan ${r.jama_challan_number||n+1}: Missing date`),r.jama_challan_number||t.push(`Challan ${n+1}: Missing challan number`),!Array.isArray(r.items)){console.error(`Invalid items for challan ${r.jama_challan_number}:`,r.items),t.push(`Challan ${r.jama_challan_number||n+1}: Missing or invalid items`);return}if(r.items.length===0){console.warn(`No items found for challan ${r.jama_challan_number}`),t.push(`Challan ${r.jama_challan_number||n+1}: No items found`);return}r.items.forEach(A=>{let i=!1;for(let o=1;o<=9;o++){const l=`size_${o}_qty`,u=`size_${o}_borrowed`,c=Math.max(0,Number(A[l])||0),d=Math.max(0,Number(A[u])||0);A[l]=c,A[u]=d,(c>0||d>0)&&(i=!0)}i||console.warn(`No quantities found in item for challan ${r.jama_challan_number}:`,A)})}),{valid:t.length===0,errors:t}):{valid:!1,errors:["Invalid challans data structure"]}};function o6(){const{clientId:e}=LQ(),t=ut(),[r]=NU(),n=r.get("edit"),s=!!n,{t:A}=be(),[i,o]=v.useState(null),[l,u]=v.useState(null),[c,d]=v.useState({billNumber:"",billDate:xe(new Date,"yyyy-MM-dd"),toDate:xe(new Date,"yyyy-MM-dd"),dailyRent:1,extraCosts:[],discounts:[],payments:[],mainNote:"",errors:{},transactions:[],currentBalance:{grandTotal:0,sizes:{}}}),[h,m]=v.useState(!1),[p,y]=v.useState({grandTotal:0,sizes:{}}),[w,g]=v.useState(!1),[f,x]=v.useState(!1),[b,_]=v.useState(!1),[C,N]=v.useState(0),[j,F]=v.useState("");v.useEffect(()=>{e&&(s&&n?D(n):T())},[e,s,n]),v.useEffect(()=>{if(h&&c.toDate&&c.dailyRent){const B=setTimeout(()=>{M()},500);return()=>clearTimeout(B)}},[c.toDate,c.dailyRent]);const D=async B=>{g(!0);try{const{data:E,error:S}=await X.from("bills").select("*").eq("bill_number",B).single();if(S||!E)throw new Error("Bill not found");const Q=await Lw(e);if(!Q.success){R.error("Client data issue");return}o(Q.data.client);const{data:H}=await X.from("bill_extra_costs").select("*").eq("bill_number",B),{data:U}=await X.from("bill_discounts").select("*").eq("bill_number",B),{data:V}=await X.from("bill_payments").select("*").eq("bill_number",B),{data:Y}=await X.from("bills").select("bill_number, due_payment, to_date").eq("client_id",e).neq("bill_number",B).lt("to_date",E.from_date||E.billing_date).order("to_date",{ascending:!0});let O=0,P="";if(Y&&Y.length>0){O=Y[Y.length-1].due_payment||0;const Z=Y.filter(q=>(q.due_payment||0)>0);Z.length>0&&(P=Z[Z.length-1].bill_number)}N(O),F(P),d({billNumber:E.bill_number,billDate:E.billing_date||E.created_at.split("T")[0],toDate:E.to_date,fromDate:E.from_date,dailyRent:E.daily_rent,extraCosts:(H||[]).map(z=>({id:z.id,date:z.date,note:z.note,pieces:z.pieces,pricePerPiece:z.price_per_piece,total:z.total_amount||z.pieces*z.price_per_piece})),discounts:(U||[]).map(z=>({id:z.id,date:z.date,note:z.note,pieces:z.pieces,discountPerPiece:z.discount_per_piece,total:z.total_amount||z.pieces*z.discount_per_piece})),payments:(V||[]).map(z=>({id:z.id,date:z.date,note:z.note,amount:z.amount,method:z.payment_method})),mainNote:"",errors:{}}),m(!0)}catch(E){console.error("Error loading bill for edit:",E),R.error("Failed to load bill details"),t("/bill-book")}finally{g(!1)}},T=async()=>{var B;try{const E=await Lw(e);if(!E.success){console.error("Data validation failed:",E.message),R.error(E.message),t("/billing");return}const{client:S,udharChallans:Q}=E.data,{data:H,error:U}=await X.from("bills").select("bill_number").order("bill_number",{ascending:!1}).limit(100);if(!U){let P=1;const z=(S==null?void 0:S.client_nic_name)||e,Z=(H==null?void 0:H.filter(L=>L.bill_number.startsWith(z+"/")))||[];if(Z.length>0){const L=Z.map(ee=>{const se=ee.bill_number.match(/\/(\d+)$/);return se?parseInt(se[1]):0});P=Math.max(...L)+1}const q=`${z}/${P}`;d(L=>({...L,billNumber:q}))}const{data:V,error:Y}=await X.from("bills").select("bill_number, due_payment, created_at, to_date").eq("client_id",e).order("to_date",{ascending:!0});let O=((B=Q==null?void 0:Q[0])==null?void 0:B.udhar_date)||"";if(!Y&&V&&V.length>0){const P=V[V.length-1],z=P.due_payment||0;N(z);const Z=V.filter(q=>(q.due_payment||0)>0);if(Z.length>0?F(Z[Z.length-1].bill_number):F(""),P.to_date){const q=_u(Tt(P.to_date),1);O=xe(q,"yyyy-MM-dd"),console.log(`Auto-setting fromDate to ${O} (Day after last bill end date ${P.to_date})`)}}else Y?console.error("Error fetching pending amount:",Y):Q!=null&&Q[0];console.log("Data Validation Results:",{client:E.data.validation.clientData,udharChallans:E.data.validation.udharChallans,jamaChallans:E.data.validation.jamaChallans}),o(S),d(O?P=>({...P,fromDate:O,dailyRent:(S==null?void 0:S.daily_rent_price)??1}):P=>({...P,dailyRent:(S==null?void 0:S.daily_rent_price)??1}))}catch(E){console.error("Error fetching client:",E),R.error(E instanceof Error?E.message:"Error fetching client data"),t("/billing")}},G=async B=>{if(!B.trim())return!1;try{const{data:E,error:S}=await X.from("bills").select("bill_number").eq("bill_number",B).maybeSingle();if(S)throw S;return!E}catch(E){return console.error("Error validating bill number:",E),!1}},I=async(B,E)=>{const S={...c.errors};B==="billNumber"&&(await G(E)?delete S.billNumber:S.billNumber="Bill number already exists"),d(Q=>({...Q,[B]:E,billDate:B==="toDate"?E:Q.billDate,errors:S}))},K=(l==null?void 0:l.billingPeriods.totalRent)||0,W=l?{totalRent:K,totalUdharPlates:p!=null&&p.sizes?Object.values(p.sizes).reduce((B,E)=>B+(E.main||0),0):0,totalJamaPlates:p!=null&&p.sizes?Object.values(p.sizes).reduce((B,E)=>B+(E.borrowed||0),0):0,netPlates:p!=null&&p.sizes?Object.values(p.sizes).reduce((B,E)=>B+((E.main||0)-(E.borrowed||0)),0):0,serviceCharge:0,totalExtraCosts:c.extraCosts.reduce((B,E)=>B+E.total,0),discounts:c.discounts.reduce((B,E)=>B+E.total,0),grandTotal:K+c.extraCosts.reduce((B,E)=>B+E.total,0)+(C||0),totalPaid:c.payments.reduce((B,E)=>B+E.amount,0),advancePaid:0,duePayment:K+c.extraCosts.reduce((B,E)=>B+E.total,0)+(C||0)-c.discounts.reduce((B,E)=>B+E.total,0)-c.payments.reduce((B,E)=>B+E.amount,0)}:{totalRent:0,totalUdharPlates:0,totalJamaPlates:0,netPlates:0,serviceCharge:0,totalExtraCosts:0,discounts:0,grandTotal:0,totalPaid:0,advancePaid:0,duePayment:0},ie={" ":W.totalRent," ":W.totalExtraCosts," ":W.totalRent+W.totalExtraCosts,:W.discounts," ":W.grandTotal," ":W.totalPaid," ":W.duePayment},te=async()=>{try{if(g(!0),s){const{error:B}=await X.from("bills").update({billing_date:c.billDate,from_date:c.fromDate,to_date:c.toDate,daily_rent:c.dailyRent,total_rent_amount:W.totalRent,total_extra_cost:W.totalExtraCosts,total_discount:W.discounts,total_payment:W.totalPaid,due_payment:Math.round(W.duePayment)}).eq("bill_number",c.billNumber);if(B)throw B;if(await X.from("bill_extra_costs").delete().eq("bill_number",c.billNumber),await X.from("bill_discounts").delete().eq("bill_number",c.billNumber),await X.from("bill_payments").delete().eq("bill_number",c.billNumber),c.extraCosts.length>0){const E=c.extraCosts.map(Q=>({bill_number:c.billNumber,date:Q.date,note:Q.note,pieces:Q.pieces,price_per_piece:Q.pricePerPiece})),{error:S}=await X.from("bill_extra_costs").insert(E);if(S)throw S}if(c.discounts.length>0){const E=c.discounts.map(Q=>({bill_number:c.billNumber,date:Q.date,note:Q.note,pieces:Q.pieces,discount_per_piece:Q.discountPerPiece})),{error:S}=await X.from("bill_discounts").insert(E);if(S)throw S}if(c.payments.length>0){const E=c.payments.map(Q=>({bill_number:c.billNumber,date:Q.date,note:Q.note,amount:Q.amount,payment_method:Q.method})),{error:S}=await X.from("bill_payments").insert(E);if(S)throw S}R.success("Bill updated successfully!")}else{const{error:B}=await X.from("bills").insert({bill_number:c.billNumber,billing_date:c.billDate,from_date:c.fromDate,to_date:c.toDate,daily_rent:c.dailyRent,client_id:e,total_rent_amount:W.totalRent,total_extra_cost:W.totalExtraCosts,total_discount:W.discounts,total_payment:W.totalPaid,due_payment:Math.round(W.duePayment)});if(B)throw B;if(c.extraCosts.length>0){const E=c.extraCosts.map(Q=>({bill_number:c.billNumber,date:Q.date,note:Q.note,pieces:Q.pieces,price_per_piece:Q.pricePerPiece})),{error:S}=await X.from("bill_extra_costs").insert(E);if(S)throw S}if(c.discounts.length>0){const E=c.discounts.map(Q=>({bill_number:c.billNumber,date:Q.date,note:Q.note,pieces:Q.pieces,discount_per_piece:Q.discountPerPiece})),{error:S}=await X.from("bill_discounts").insert(E);if(S)throw S}if(c.payments.length>0){const E=c.payments.map(Q=>({bill_number:c.billNumber,date:Q.date,note:Q.note,amount:Q.amount,payment_method:Q.method})),{error:S}=await X.from("bill_payments").insert(E);if(S)throw S}R.success("Bill generated successfully!")}try{await ro(c.billNumber),R.success(s?"Bill JPEG updated successfully":"Bill JPEG generated successfully"),setTimeout(()=>{t("/bill-book")},1e3)}catch(B){console.error("Error generating bill JPEG:",B),R.error("Failed to generate bill JPEG"),setTimeout(()=>{t("/bill-book")},1e3)}}catch(B){console.error("Error generating/updating bill:",B),R.error(s?"Failed to update bill":"Failed to generate bill"),setTimeout(()=>{t("/bill-book")},1500)}finally{g(!1)}},k=async()=>{if(!(!e||!c.dailyRent))try{const{error:B}=await X.from("clients").update({daily_rent_price:c.dailyRent}).eq("id",e);if(B)throw B;R.success(A("saveSuccess")||"Saved Successfully")}catch(B){console.error("Error updating daily rent:",B),R.error("Failed to update daily rent")}},M=async()=>{g(!0);try{const{data:B,error:E}=await X.from("udhar_challans").select(`
          udhar_challan_number,
          udhar_date,
          driver_name,
          alternative_site,
          items:udhar_items (
            size_1_qty,
            size_2_qty,
            size_3_qty,
            size_4_qty,
            size_5_qty,
            size_6_qty,
            size_7_qty,
            size_8_qty,
            size_9_qty,
            size_1_borrowed,
            size_2_borrowed,
            size_3_borrowed,
            size_4_borrowed,
            size_5_borrowed,
            size_6_borrowed,
            size_7_borrowed,
            size_8_borrowed,
            size_9_borrowed
          )
        `).eq("client_id",e).order("udhar_date",{ascending:!0});if(console.log("Udhar Challans:",B),E)throw console.error("Error fetching Udhar challans:",E),E;const{data:S,error:Q}=await X.from("jama_challans").select(`
          jama_challan_number,
          jama_date,
          driver_name,
          alternative_site,
          items:jama_items (
            size_1_qty,
            size_2_qty,
            size_3_qty,
            size_4_qty,
            size_5_qty,
            size_6_qty,
            size_7_qty,
            size_8_qty,
            size_9_qty,
            size_1_borrowed,
            size_2_borrowed,
            size_3_borrowed,
            size_4_borrowed,
            size_5_borrowed,
            size_6_borrowed,
            size_7_borrowed,
            size_8_borrowed,
            size_9_borrowed
          )
        `).eq("client_id",e).order("jama_date",{ascending:!0});if(console.log("Jama Challans:",S),Q)throw Q;if(B&&B.length>0){const H=B[0].udhar_date,U=c.extraCosts.map(q=>({amount:q.pieces*q.pricePerPiece})),V=c.discounts.map(q=>({amount:q.pieces*q.discountPerPiece})),Y=c.payments.map(q=>({amount:q.amount})),O=mp(B,S,c.toDate,c.dailyRent,U,V,Y,10,c.fromDate);u(O);const P=O.billingPeriods.periods[O.billingPeriods.periods.length-1],z={grandTotal:(P==null?void 0:P.plateCount)||0,sizes:{}};if(O.billingPeriods.ledger[O.billingPeriods.ledger.length-1])for(let q=1;q<=9;q++)z.sizes[q.toString()]={size:q.toString(),main:0,borrowed:0,total:0};y(z),d(q=>({...q,currentBalance:z,transactions:O.billingPeriods.ledger.map(L=>({type:L.entryType,challanNumber:L.challanNumber,date:L.transactionDate,grandTotal:L.entryType==="udhar"?L.udharAmount||0:L.jamaAmount||0,items:[],sizes:{},site:"",driverName:"",challanId:L.challanNumber}))})),m(!0)}}catch(B){console.error("Error calculating bill:",B),R.error("Failed to calculate bill")}finally{g(!1)}};if(!i)return null;const $={companyDetails:{name:"Nilkanth Plate Depot",address:"Street Address",phone:"Phone Number"},billDetails:{billNumber:c.billNumber,billDate:c.billDate,fromDate:c.fromDate||"",toDate:c.toDate,dailyRent:c.dailyRent},clientDetails:{name:(i==null?void 0:i.client_name)||"",nicName:(i==null?void 0:i.client_nic_name)||"",site:(i==null?void 0:i.site)||"",phone:(i==null?void 0:i.primary_phone_number)||""},rentalCharges:(l==null?void 0:l.billingPeriods.periods.map(B=>{let E=Tt(B.endDate);const S=Tc(E).toISOString();return{size:"All",pieces:B.plateCount,days:B.days,rate:c.dailyRent,amount:B.plateCount*B.days*c.dailyRent,startDate:B.startDate,endDate:S,causeType:B.causeType,udharQty:B.udharQty,jamaQty:B.jamaQty,udharDetails:B.udharDetails,jamaDetails:B.jamaDetails}}))||[],extraCosts:c.extraCosts.map(B=>({id:B.id,date:B.date,description:B.note,amount:B.total,pieces:B.pieces,rate:B.pricePerPiece})),discounts:c.discounts.map(B=>({id:B.id,date:B.date,description:B.note,amount:B.total})),payments:c.payments.map(B=>({id:B.id,date:B.date,method:B.method,note:B.note,amount:B.amount})),summary:W,mainNote:c.mainNote,previousBill:C>0?{billNumber:j,amount:C}:void 0};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(xr,{}),a.jsx("div",{className:"container max-w-6xl px-4 py-4 mx-auto mt-16 sm:px-6 lg:px-8 sm:py-6 lg:py-8",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"px-4 py-3 bg-white border border-gray-200 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-baseline gap-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.client_nic_name}),a.jsx("p",{className:"text-sm text-gray-500",children:i.client_name})]})}),a.jsx("button",{onClick:()=>t("/billing"),className:"p-2 text-gray-400 transition-colors rounded-lg hover:bg-gray-100 hover:text-gray-600",children:a.jsx(An,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"mt-0",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(yt,{className:"flex-shrink-0 w-4 h-4 text-gray-400"}),a.jsx("span",{children:i.site})]})}),C>0&&a.jsxs("div",{className:"flex items-center gap-3 p-3 mt-4 bg-red-50 border border-red-100 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:a.jsx(Hf,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:"Total Pending Amount"}),a.jsxs("p",{className:"text-lg font-bold text-red-700",children:["",C.toLocaleString("en-IN")]})]})]})]}),a.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-xl",children:[a.jsx("h4",{className:"mb-4 text-base font-medium text-gray-900",children:A("billDetails")}),a.jsx("form",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:[A("billNumber"),a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Hf,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),a.jsx("input",{type:"text",disabled:s,value:c.billNumber,onChange:B=>I("billNumber",B.target.value),className:`block w-full py-2 pl-10 pr-3 text-sm border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.errors.billNumber?"border-red-500":"border-gray-300"} ${s?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`,placeholder:"Auto-generated (BILL-YYYYMM-###)"})]}),c.errors.billNumber&&a.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.errors.billNumber})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:[A("tillDate"),a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ns,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),a.jsx("input",{type:"date",value:c.toDate,onChange:B=>I("toDate",B.target.value),className:"block w-full py-2 pl-10 pr-3 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:[A("dailyRent"),a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(VT,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),a.jsx("input",{type:"number",step:"0.01",value:c.dailyRent,onChange:B=>I("dailyRent",parseFloat(B.target.value)),onWheel:B=>B.target.blur(),className:"block w-full py-2 pl-10 pr-3 text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"E.g., 5.00"})]}),a.jsx("button",{type:"button",onClick:k,className:"p-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",title:"Update Default Rent",children:a.jsx(tD,{className:"w-5 h-5"})})]})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:M,disabled:w||!c.billNumber||!c.billDate||!c.toDate||!c.dailyRent||Object.keys(c.errors).length>0,className:"px-4 py-2 text-sm font-medium text-white transition-colors bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-blue-300",children:w?"   ...":`${A("calculateBill")}`})}),h&&c.fromDate&&a.jsxs("div",{className:"p-4 mb-4 bg-white border border-gray-200 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-base font-medium text-gray-900",children:A("rentalCalculation")}),a.jsx("button",{onClick:()=>x(!f),className:"p-1 text-gray-500 rounded hover:bg-gray-100",title:f?"Hide Calculation":"Show Calculation",children:f?a.jsx(vu,{className:"w-5 h-5"}):a.jsx(Gs,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("table",{className:"w-full overflow-hidden text-sm border border-gray-200 rounded-lg",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:" "}),a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:" "}),a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:" "})]})}),a.jsx("tbody",{children:a.jsxs("tr",{className:"bg-white",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:xe(new Date(c.fromDate),"dd/MM/yyyy")}),a.jsx("td",{className:"px-4 py-3 font-medium",children:xe(new Date(c.toDate),"dd/MM/yyyy")}),a.jsxs("td",{className:"px-4 py-3 font-medium",children:[qi(new Date(c.toDate),new Date(c.fromDate))+1," ",""]})]})})]}),a.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:a.jsxs("table",{className:`w-full text-sm ${f?"min-w-[600px]":""} sm:min-w-0`,children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"w-1/4 px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:""}),a.jsx("th",{className:"w-1/6 px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:""}),f&&a.jsx("th",{className:"px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:""}),a.jsx("th",{className:"w-1/6 px-4 py-3 text-xs font-medium tracking-wider text-right text-gray-500 uppercase",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:l==null?void 0:l.billingPeriods.periods.map((B,E)=>{let S=Tt(B.endDate);const Q=xe(Tc(S),"dd/MM/yyyy"),H=B.plateCount*B.days*c.dailyRent;return a.jsxs("tr",{className:B.causeType==="udhar"?"bg-red-50":"bg-green-50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-col gap-1",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${B.causeType==="udhar"?"bg-red-500":"bg-green-500"}`}),a.jsxs("span",{children:[xe(Tt(B.startDate),"dd/MM/yyyy")," "," ",Q]})]})})}),a.jsx("td",{className:"px-4 py-3",children:B.days}),f&&a.jsxs("td",{className:"px-4 py-3",children:[B.plateCount,"   ",B.days,"   ",c.dailyRent]}),a.jsxs("td",{className:"px-4 py-3 font-medium text-right",children:["",H.toLocaleString("en-IN")]})]},E)})})]})}),a.jsx("div",{className:"pt-4 mt-4 border-t",children:a.jsxs("div",{className:"flex justify-between text-base font-semibold",children:[a.jsx("span",{children:" :"}),a.jsxs("span",{children:["",((l==null?void 0:l.billingPeriods.totalRent)||0).toLocaleString("en-IN")]})]})})]})]}),h&&c.fromDate&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"justify-end hidden gap-2 mb-4 overflow-x-auto md:flex scrollbar-hide",children:[a.jsxs("button",{onClick:()=>{d(B=>({...B,extraCosts:[...B.extraCosts,{id:crypto.randomUUID(),date:xe(new Date,"yyyy-MM-dd"),note:"",pieces:1,pricePerPiece:1,total:1}]}))},className:"flex items-center flex-shrink-0 gap-1 px-3 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100",children:[a.jsx(Ur,{className:"w-4 h-4"}),""]}),a.jsxs("button",{onClick:()=>{d(B=>({...B,discounts:[...B.discounts,{id:crypto.randomUUID(),date:xe(new Date,"yyyy-MM-dd"),note:"",pieces:0,discountPerPiece:0,total:0}]}))},className:"flex items-center flex-shrink-0 gap-1 px-3 py-2 text-sm font-medium text-green-700 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100",children:[a.jsx(Ur,{className:"w-4 h-4"}),""]}),a.jsxs("button",{onClick:()=>{d(B=>({...B,payments:[...B.payments,{id:crypto.randomUUID(),date:xe(new Date,"yyyy-MM-dd"),note:"",amount:0,method:"cash"}]}))},className:"flex items-center flex-shrink-0 gap-1 px-3 py-2 text-sm font-medium text-purple-700 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100",children:[a.jsx(Ur,{className:"w-4 h-4"}),""]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-3",children:[a.jsxs("div",{className:`p-4 bg-white border border-gray-200 rounded-xl ${c.extraCosts.length===0?"hidden":"block"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-base font-medium text-gray-900",children:" "}),a.jsx("div",{className:"flex items-center gap-2",children:c.extraCosts.length>0&&a.jsx("button",{onClick:()=>{d(B=>({...B,extraCosts:[]}))},className:"block p-1 text-red-600 transition-colors rounded hover:bg-red-50",title:"Clear all",children:a.jsx(Bt,{className:"w-5 h-5"})})})]}),c.extraCosts.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[a.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""})]})}),a.jsxs("tbody",{children:[c.extraCosts.map((B,E)=>a.jsxs("tr",{className:"bg-white",children:[a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"date",value:B.date,onChange:S=>{const Q=[...c.extraCosts];Q[E]={...B,date:S.target.value},d(H=>({...H,extraCosts:Q}))},className:"px-2 py-1 border rounded w-36"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"text",value:B.note,onChange:S=>{const Q=[...c.extraCosts];Q[E]={...B,note:S.target.value},d(H=>({...H,extraCosts:Q}))},placeholder:"  ",list:"cost-suggestions",className:"w-full px-2 py-1 border rounded"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"number",value:B.pieces===0?"":B.pieces,onChange:S=>{const Q=parseInt(S.target.value)||0,H=[...c.extraCosts];H[E]={...B,pieces:Q,total:Q*(B.pricePerPiece||1)},d(U=>({...U,extraCosts:H}))},onWheel:S=>S.target.blur(),min:"0",className:"w-20 px-2 py-1 border rounded"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"number",value:B.pricePerPiece===0?"":B.pricePerPiece,onChange:S=>{const Q=parseFloat(S.target.value)||0,H=[...c.extraCosts];H[E]={...B,pricePerPiece:Q,total:(B.pieces||1)*Q},d(U=>({...U,extraCosts:H}))},onWheel:S=>S.target.blur(),min:"0",step:"0.01",className:"w-24 px-2 py-1 border rounded"})}),a.jsxs("td",{className:"px-4 py-2",children:["",B.total.toLocaleString("en-IN")]}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("button",{onClick:()=>{const S=c.extraCosts.filter(Q=>Q.id!==B.id);d(Q=>({...Q,extraCosts:S}))},className:"text-red-600 hover:text-red-800",children:a.jsx(on,{className:"w-4 h-4"})})})]},B.id)),c.extraCosts.length>0&&a.jsxs("tr",{className:"font-medium bg-gray-50",children:[a.jsx("td",{colSpan:4,className:"px-4 py-3 text-right",children:" :"}),a.jsxs("td",{colSpan:2,className:"px-4 py-3",children:["",c.extraCosts.reduce((B,E)=>B+E.total,0).toLocaleString("en-IN")]})]})]})]})}),a.jsxs("div",{className:"space-y-3 md:hidden",children:[c.extraCosts.map((B,E)=>a.jsxs("div",{className:"relative p-3 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-2 mb-2 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"date",value:B.date,onChange:S=>{const Q=[...c.extraCosts];Q[E]={...B,date:S.target.value},d(H=>({...H,extraCosts:Q}))},className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"text",value:B.note,onChange:S=>{const Q=[...c.extraCosts];Q[E]={...B,note:S.target.value},d(H=>({...H,extraCosts:Q}))},placeholder:"",list:"cost-suggestions",className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsx("button",{onClick:()=>{const S=c.extraCosts.filter(Q=>Q.id!==B.id);d(Q=>({...Q,extraCosts:S}))},className:"p-2 mb-0.5 text-red-600 transition-colors rounded hover:bg-red-50",title:"Delete",children:a.jsx(Bt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"number",value:B.pieces===0?"":B.pieces,onChange:S=>{const Q=parseInt(S.target.value)||0,H=[...c.extraCosts];H[E]={...B,pieces:Q,total:Q*(B.pricePerPiece||1)},d(U=>({...U,extraCosts:H}))},onWheel:S=>S.target.blur(),min:"0",className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"number",value:B.pricePerPiece===0?"":B.pricePerPiece,onChange:S=>{const Q=parseFloat(S.target.value)||0,H=[...c.extraCosts];H[E]={...B,pricePerPiece:Q,total:(B.pieces||1)*Q},d(U=>({...U,extraCosts:H}))},onWheel:S=>S.target.blur(),min:"0",step:"0.01",className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsxs("div",{className:"px-2 py-1 text-sm font-medium text-gray-900",children:["",B.total.toLocaleString("en-IN")]})]})]})]},B.id)),a.jsxs("div",{className:"flex justify-between p-3 font-medium border-t-2 border-gray-300 bg-gray-50",children:[a.jsx("span",{children:" :"}),a.jsxs("span",{children:["",c.extraCosts.reduce((B,E)=>B+E.total,0).toLocaleString("en-IN")]})]})]})]})]}),a.jsxs("div",{className:`p-4 bg-white border border-gray-200 rounded-xl ${c.discounts.length===0?"hidden md:block":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-base font-medium text-gray-900",children:""}),a.jsx("div",{className:"flex items-center gap-2",children:c.discounts.length>0&&a.jsx("button",{onClick:()=>{d(B=>({...B,discounts:[]}))},className:"block p-1 text-red-600 transition-colors rounded hover:bg-red-50",title:"Clear all",children:a.jsx(Bt,{className:"w-5 h-5"})})}),a.jsxs("datalist",{id:"cost-suggestions",children:[a.jsx("option",{value:" "}),a.jsx("option",{value:" / "})]})]}),c.discounts.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[a.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""})]})}),a.jsxs("tbody",{children:[c.discounts.map((B,E)=>a.jsxs("tr",{className:"bg-white",children:[a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"date",value:B.date,onChange:S=>{const Q=[...c.discounts];Q[E]={...B,date:S.target.value},d(H=>({...H,discounts:Q}))},className:"px-2 py-1 border rounded w-36"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"text",value:B.note,onChange:S=>{const Q=[...c.discounts];Q[E]={...B,note:S.target.value},d(H=>({...H,discounts:Q}))},placeholder:"Enter note",className:"w-full px-2 py-1 border rounded"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"number",value:B.pieces===0?"":B.pieces,onChange:S=>{const Q=parseInt(S.target.value)||0,H=[...c.discounts];H[E]={...B,pieces:Q,total:Q*B.discountPerPiece},d(U=>({...U,discounts:H}))},onWheel:S=>S.target.blur(),min:"0",className:"w-20 px-2 py-1 border rounded"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"number",value:B.discountPerPiece===0?"":B.discountPerPiece,onChange:S=>{const Q=parseFloat(S.target.value)||0,H=[...c.discounts];H[E]={...B,discountPerPiece:Q,total:B.pieces*Q},d(U=>({...U,discounts:H}))},onWheel:S=>S.target.blur(),min:"0",step:"0.01",className:"w-24 px-2 py-1 border rounded"})}),a.jsxs("td",{className:"px-4 py-2",children:["",B.total.toLocaleString("en-IN")]}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("button",{onClick:()=>{const S=c.discounts.filter(Q=>Q.id!==B.id);d(Q=>({...Q,discounts:S}))},className:"text-red-600 hover:text-red-800",children:a.jsx(on,{className:"w-4 h-4"})})})]},B.id)),c.discounts.length>0&&a.jsxs("tr",{className:"font-medium bg-gray-50",children:[a.jsx("td",{colSpan:4,className:"px-4 py-3 text-right",children:" :"}),a.jsxs("td",{colSpan:2,className:"px-4 py-3",children:["",c.discounts.reduce((B,E)=>B+E.total,0).toLocaleString("en-IN")]})]})]})]})}),a.jsxs("div",{className:"space-y-3 md:hidden",children:[c.discounts.map((B,E)=>a.jsxs("div",{className:"relative p-3 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-2 mb-2 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"date",value:B.date,onChange:S=>{const Q=[...c.discounts];Q[E]={...B,date:S.target.value},d(H=>({...H,discounts:Q}))},className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"text",value:B.note,onChange:S=>{const Q=[...c.discounts];Q[E]={...B,note:S.target.value},d(H=>({...H,discounts:Q}))},placeholder:"",className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsx("button",{onClick:()=>{const S=c.discounts.filter(Q=>Q.id!==B.id);d(Q=>({...Q,discounts:S}))},className:"p-2 mb-0.5 text-red-600 transition-colors rounded hover:bg-red-50",title:"Delete",children:a.jsx(Bt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"number",value:B.pieces===0?"":B.pieces,onChange:S=>{const Q=parseInt(S.target.value)||0,H=[...c.discounts];H[E]={...B,pieces:Q,total:Q*B.discountPerPiece},d(U=>({...U,discounts:H}))},onWheel:S=>S.target.blur(),min:"0",className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"number",value:B.discountPerPiece===0?"":B.discountPerPiece,onChange:S=>{const Q=parseFloat(S.target.value)||0,H=[...c.discounts];H[E]={...B,discountPerPiece:Q,total:B.pieces*Q},d(U=>({...U,discounts:H}))},onWheel:S=>S.target.blur(),min:"0",step:"0.01",className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsxs("div",{className:"px-2 py-1 text-sm font-medium text-gray-900",children:["",B.total.toLocaleString("en-IN")]})]})]})]},B.id)),a.jsxs("div",{className:"flex justify-between p-3 font-medium border-t-2 border-gray-300 bg-gray-50",children:[a.jsx("span",{children:" :"}),a.jsxs("span",{children:["",c.discounts.reduce((B,E)=>B+E.total,0).toLocaleString("en-IN")]})]})]})]})]}),a.jsxs("div",{className:`p-4 bg-white border border-gray-200 rounded-xl ${c.payments.length===0?"hidden md:block":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-base font-medium text-gray-900",children:""}),a.jsx("div",{className:"flex items-center gap-2",children:c.payments.length>0&&a.jsx("button",{onClick:()=>{d(B=>({...B,payments:[]}))},className:"block p-1 text-red-600 transition-colors rounded hover:bg-red-50",title:"Clear all",children:a.jsx(Bt,{className:"w-5 h-5"})})})]}),c.payments.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[a.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:" "}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""})]})}),a.jsxs("tbody",{children:[c.payments.map((B,E)=>a.jsxs("tr",{className:"bg-white",children:[a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"date",value:B.date,onChange:S=>{const Q=[...c.payments];Q[E]={...B,date:S.target.value},d(H=>({...H,payments:Q}))},className:"px-2 py-1 border rounded w-36"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"text",value:B.note,onChange:S=>{const Q=[...c.payments];Q[E]={...B,note:S.target.value},d(H=>({...H,payments:Q}))},placeholder:"Enter note",className:"w-full px-2 py-1 border rounded"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsxs("select",{value:B.method,onChange:S=>{const Q=[...c.payments];Q[E]={...B,method:S.target.value},d(H=>({...H,payments:Q}))},className:"w-32 px-2 py-1 border rounded",children:[a.jsx("option",{value:"cash",children:""}),a.jsx("option",{value:"bank",children:""}),a.jsx("option",{value:"upi",children:"UPI"}),a.jsx("option",{value:"cheque",children:""}),a.jsx("option",{value:"card",children:""}),a.jsx("option",{value:"other",children:""})]})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"number",value:B.amount===0?"":B.amount,onChange:S=>{const Q=parseFloat(S.target.value)||0,H=[...c.payments];H[E]={...B,amount:Q},d(U=>({...U,payments:H}))},onWheel:S=>S.target.blur(),min:"0",step:"0.01",className:"w-32 px-2 py-1 border rounded"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("button",{onClick:()=>{const S=c.payments.filter(Q=>Q.id!==B.id);d(Q=>({...Q,payments:S}))},className:"text-red-600 hover:text-red-800",children:a.jsx(on,{className:"w-4 h-4"})})})]},B.id)),c.payments.length>0&&a.jsxs("tr",{className:"font-medium bg-gray-50",children:[a.jsx("td",{colSpan:3,className:"px-4 py-3 text-right",children:" :"}),a.jsxs("td",{colSpan:2,className:"px-4 py-3",children:["",c.payments.reduce((B,E)=>B+E.amount,0).toLocaleString("en-IN")]})]})]})]})}),a.jsxs("div",{className:"space-y-3 md:hidden",children:[c.payments.map((B,E)=>a.jsxs("div",{className:"relative p-3 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-2 mb-2 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"date",value:B.date,onChange:S=>{const Q=[...c.payments];Q[E]={...B,date:S.target.value},d(H=>({...H,payments:Q}))},className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"text",value:B.note,onChange:S=>{const Q=[...c.payments];Q[E]={...B,note:S.target.value},d(H=>({...H,payments:Q}))},placeholder:"",className:"w-full px-2 py-1 text-sm border rounded"})]}),a.jsx("button",{onClick:()=>{const S=c.payments.filter(Q=>Q.id!==B.id);d(Q=>({...Q,payments:S}))},className:"p-2 mb-0.5 text-red-600 transition-colors rounded hover:bg-red-50",title:"Delete",children:a.jsx(Bt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsxs("select",{value:B.method,onChange:S=>{const Q=[...c.payments];Q[E]={...B,method:S.target.value},d(H=>({...H,payments:Q}))},className:"w-full px-2 py-1 text-sm border rounded",children:[a.jsx("option",{value:"cash",children:""}),a.jsx("option",{value:"bank",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-xs font-medium text-gray-600",children:""}),a.jsx("input",{type:"number",value:B.amount===0?"":B.amount,onChange:S=>{const Q=parseFloat(S.target.value)||0,H=[...c.payments];H[E]={...B,amount:Q},d(U=>({...U,payments:H}))},onWheel:S=>S.target.blur(),min:"0",step:"0.01",className:"w-full px-2 py-1 text-sm border rounded"})]})]})]},B.id)),a.jsxs("div",{className:"flex justify-between p-3 font-medium border-t-2 border-gray-300 bg-gray-50",children:[a.jsx("span",{children:" :"}),a.jsxs("span",{children:["",c.payments.reduce((B,E)=>B+E.amount,0).toLocaleString("en-IN")]})]})]})]})]})]}),a.jsxs("div",{className:"flex gap-2 mb-4 md:hidden",children:[a.jsx("button",{onClick:()=>{d(B=>({...B,extraCosts:[...B.extraCosts,{id:crypto.randomUUID(),date:xe(new Date,"yyyy-MM-dd"),note:"",pieces:1,pricePerPiece:1,total:1}]}))},className:"flex-1 px-3 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-200 rounded-lg shadow-sm active:bg-gray-100",children:"+ "}),a.jsx("button",{onClick:()=>{d(B=>({...B,discounts:[...B.discounts,{id:crypto.randomUUID(),date:xe(new Date,"yyyy-MM-dd"),note:"",pieces:0,discountPerPiece:0,total:0}]}))},className:"flex-1 px-3 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-200 rounded-lg shadow-sm active:bg-gray-100",children:"+ "}),a.jsx("button",{onClick:()=>{d(B=>({...B,payments:[...B.payments,{id:crypto.randomUUID(),date:xe(new Date,"yyyy-MM-dd"),note:"",amount:0,method:"cash"}]}))},className:"flex-1 px-3 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-200 rounded-lg shadow-sm active:bg-gray-100",children:"+ "})]})]}),h&&c.fromDate&&a.jsxs("div",{className:"p-4 mb-4 bg-white border border-gray-200 rounded-xl",children:[a.jsx("h4",{className:"mb-4 text-base font-medium text-gray-900",children:" "}),a.jsx("div",{className:"space-y-3 text-sm",children:Object.entries(ie).map(([B,E])=>a.jsxs("div",{className:`flex justify-between items-center ${B.startsWith("Sub Total")||B.startsWith("GRAND TOTAL")||B.startsWith("DUE PAYMENT")?"pt-2 text-base font-semibold border-t border-gray-200":""} ${B.startsWith("DUE PAYMENT")?E>0?"text-red-600":"text-green-600":B.startsWith("GRAND TOTAL")?"text-blue-600":""}`,children:[a.jsxs("span",{children:[B,":"]}),a.jsxs("span",{children:["",Math.abs(E).toLocaleString("en-IN")]})]},B))})]}),h&&c.fromDate&&a.jsxs("div",{className:"p-4 mb-4 bg-white border border-gray-200 rounded-xl",children:[a.jsx("h4",{className:"mb-4 text-base font-medium text-gray-900",children:" "}),a.jsx("textarea",{value:c.mainNote,onChange:B=>d(E=>({...E,mainNote:B.target.value})),placeholder:" ...",className:"w-full h-32 px-3 py-2 border rounded-lg resize-none"})]}),h&&c.fromDate&&a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>_(!0),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:""}),a.jsx("button",{onClick:te,className:`px-6 py-2 text-sm font-medium text-white rounded-lg hover:bg-green-700 ${s?"bg-amber-600 hover:bg-amber-700":"bg-green-600"}`,children:s?"  ":"  "})]})]})}),a.jsx(Zt,{}),b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:a.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-white rounded-lg shadow-xl flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold",children:" "}),a.jsx("button",{onClick:()=>_(!1),className:"p-1 text-gray-500 hover:text-gray-700",children:a.jsx(Bt,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-4 overflow-y-auto overflow-x-hidden bg-gray-100 flex-1 flex justify-center",children:a.jsx("div",{className:"bg-white shadow-lg origin-top transform scale-[0.45] sm:scale-75 md:scale-100 shrink-0 w-[794px]",children:a.jsx(ta,{...$})})}),a.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t bg-gray-50",children:[a.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:" "}),a.jsx("button",{onClick:()=>{_(!1),te()},className:`px-4 py-2 text-sm font-medium text-white rounded-md ${s?"bg-amber-600 hover:bg-amber-700":"bg-green-600 hover:bg-green-700"}`,children:s?"  ":"  "})]})]})}),a.jsx("div",{id:"invoice-template",style:{display:"none"},children:a.jsx(ta,{...$})})]})}const kj=({bill:e,t,onView:r,onDownload:n,onDelete:s,onEdit:A})=>{var l,u,c;const i=e.grand_total||e.total_amount||0,o=e.billing_date||e.bill_date||e.created_at;return a.jsx("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-blue-50 text-blue-600 rounded-md",children:a.jsx(lt,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-gray-900 text-sm",children:["#",e.bill_number]}),a.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium ${e.status==="cancelled"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:e.status||"Generated"})]})]}),a.jsxs("div",{className:"text-right",children:[i>0&&a.jsxs("div",{className:"text-base font-bold text-blue-600",children:["",i.toLocaleString("en-IN")]}),(e.due_payment||0)>0&&a.jsxs("div",{className:"text-xs font-bold text-red-600",children:["Due: ",(e.due_payment||0).toLocaleString("en-IN")]}),a.jsx("div",{className:"text-[10px] text-gray-500",children:o?xe(new Date(o),"dd MMM yy"):t("noDate")})]})]}),a.jsxs("div",{className:"space-y-1 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-700",children:[a.jsx(qt,{className:"w-3.5 h-3.5 text-gray-400"}),a.jsx("span",{className:"font-semibold",children:((l=e.client)==null?void 0:l.client_nic_name)||t("unknownClient")}),a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{className:"truncate",children:(u=e.client)==null?void 0:u.client_name})]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[a.jsx(yt,{className:"w-3.5 h-3.5 text-gray-400"}),a.jsx("span",{className:"truncate",children:((c=e.client)==null?void 0:c.site)||"No Site"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-50",children:[a.jsxs("button",{onClick:()=>A(e),className:"flex-1 flex items-center justify-center gap-1.5 px-2 py-1.5 text-xs font-medium text-amber-600 bg-amber-50 rounded hover:bg-amber-100 transition-colors",children:[a.jsx(YT,{className:"w-3.5 h-3.5"}),"Edit"]}),a.jsxs("button",{onClick:()=>r(e),className:"flex-1 flex items-center justify-center gap-1.5 px-2 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 rounded hover:bg-blue-100 transition-colors",children:[a.jsx(Gs,{className:"w-3.5 h-3.5"}),"View"]}),a.jsxs("button",{onClick:()=>n(e),className:"flex-1 flex items-center justify-center gap-1.5 px-2 py-1.5 text-xs font-medium text-green-600 bg-green-50 rounded hover:bg-green-100 transition-colors",children:[a.jsx(Vr,{className:"w-3.5 h-3.5"}),"PDF"]}),a.jsx("button",{onClick:()=>s(e),className:"flex items-center justify-center gap-1.5 px-2 py-1.5 text-xs font-medium text-red-600 bg-red-50 rounded hover:bg-red-100 transition-colors",title:"Delete Bill",children:a.jsx(on,{className:"w-3.5 h-3.5"})})]})]})})};function l6(){const{t:e}=be(),t=ut(),[r,n]=v.useState([]),[s,A]=v.useState(!0),[i,o]=v.useState(!1),[l,u]=v.useState(""),[c,d]=v.useState("dateNewOld"),[h,m]=v.useState(!1),[p,y]=v.useState(null),[w,g]=v.useState(!1),[f,x]=v.useState(!1),b=v.useRef(null),_=async(I=!1)=>{I?o(!0):A(!0);try{const{data:K,error:W}=await X.from("bills").select(`
          *,
          client:clients (
            client_name,
            client_nic_name,
            site,
            primary_phone_number
          )
        `).order("created_at",{ascending:!1});if(W)throw W;n(K||[]),I&&R.success("Bills refreshed")}catch(K){console.error("Error loading bills:",K),R.error("Failed to load bills")}finally{A(!1),o(!1)}};v.useEffect(()=>{_()},[]);const C=v.useMemo(()=>r.filter(K=>{var W,ie,te,k,M,$;return K.bill_number.toLowerCase().includes(l.toLowerCase())||((ie=(W=K.client)==null?void 0:W.client_name)==null?void 0:ie.toLowerCase().includes(l.toLowerCase()))||((k=(te=K.client)==null?void 0:te.client_nic_name)==null?void 0:k.toLowerCase().includes(l.toLowerCase()))||(($=(M=K.client)==null?void 0:M.site)==null?void 0:$.toLowerCase().includes(l.toLowerCase()))}).sort((K,W)=>{var $,B;if(l.trim()){const E=l.toLowerCase().trim(),S=K.bill_number.toLowerCase(),Q=W.bill_number.toLowerCase();if(S===E&&Q!==E)return-1;if(Q===E&&S!==E)return 1;const H=((($=K.client)==null?void 0:$.client_nic_name)||"").toLowerCase(),U=(((B=W.client)==null?void 0:B.client_nic_name)||"").toLowerCase(),V=L=>{const ee=L.match(/^(\d+)/);return ee?ee[1]:""},Y=V(H),O=V(U),P=Y===E,z=O===E;if(P&&!z)return-1;if(z&&!P)return 1;const Z=S.startsWith(E)||H.startsWith(E),q=Q.startsWith(E)||U.startsWith(E);if(Z&&!q)return-1;if(q&&!Z)return 1}const ie=new Date(K.billing_date||K.bill_date||K.created_at).getTime(),te=new Date(W.billing_date||W.bill_date||W.created_at).getTime(),k=K.grand_total||K.total_amount||0,M=W.grand_total||W.total_amount||0;switch(c){case"dateNewOld":return te-ie;case"dateOldNew":return ie-te;case"amountHighLow":return M-k;case"amountLowHigh":return k-M;default:return 0}}),[r,l,c]),N=I=>{switch(I){case"dateNewOld":return"Date: New to Old";case"dateOldNew":return"Date: Old to New";case"amountHighLow":return"Amount: High to Low";case"amountLowHigh":return"Amount: Low to High";default:return""}},j=async I=>{var K,W,ie,te,k;x(!0);try{const{data:M}=await X.from("bill_extra_costs").select("*").eq("bill_number",I.bill_number),{data:$}=await X.from("bill_discounts").select("*").eq("bill_number",I.bill_number),{data:B}=await X.from("bill_payments").select("*").eq("bill_number",I.bill_number),{data:E}=await X.from("udhar_challans").select("*, items:udhar_items(*)").eq("client_id",I.client_id).order("udhar_date",{ascending:!0}),{data:S}=await X.from("jama_challans").select("*, items:jama_items(*)").eq("client_id",I.client_id).order("jama_date",{ascending:!0}),Q=I.billing_date||I.bill_date||I.created_at,H=(M||[]).map(Ae=>({amount:Ae.total_amount||Ae.pieces*Ae.price_per_piece})),U=($||[]).map(Ae=>({amount:Ae.total_amount||Ae.pieces*Ae.discount_per_piece})),V=(B||[]).map(Ae=>({amount:Ae.amount})),Y=mp(E||[],S||[],I.to_date||Q,I.daily_rent||1.5,H,U,V,10,I.from_date);console.log("Calculated Periods:",Y.billingPeriods.periods);let O;const{data:P}=await X.from("bills").select("bill_number, due_payment, to_date").eq("client_id",I.client_id).lt("to_date",I.from_date||Q).order("to_date",{ascending:!1}).limit(1);if(P&&P.length>0){const Ae=P[0];(Ae.due_payment||0)>0&&(O={billNumber:Ae.bill_number,amount:Ae.due_payment})}const z=I.total_rent_amount||Y.billingPeriods.totalRent||0,Z=I.total_extra_cost||(M||[]).reduce((Ae,Et)=>Ae+(Et.total_amount||Et.pieces*Et.price_per_piece),0),q=I.total_discount||($||[]).reduce((Ae,Et)=>Ae+(Et.total_amount||Et.pieces*Et.discount_per_piece),0),L=I.total_payment||(B||[]).reduce((Ae,Et)=>Ae+Et.amount,0),ee=(O==null?void 0:O.amount)||0,se=z+Z+ee,me=se-q-L;return{companyDetails:{name:"Nilkanth Plate Depo",address:"10, Ajmaldham Society, Simada Gam, Surat.",phone:"93287 28228"},billDetails:{billNumber:I.bill_number,billDate:Q,fromDate:I.from_date||E&&((K=E[0])==null?void 0:K.udhar_date)||Q,toDate:I.to_date||Q,dailyRent:I.daily_rent},clientDetails:{name:(W=I.client)==null?void 0:W.client_name,nicName:(ie=I.client)==null?void 0:ie.client_nic_name,site:(te=I.client)==null?void 0:te.site,phone:(k=I.client)==null?void 0:k.primary_phone_number},previousBill:O,rentalCharges:Y.billingPeriods.periods.map(Ae=>({size:"All",startDate:Ae.startDate,endDate:Tc(Tt(Ae.endDate),1).toISOString(),pieces:Ae.plateCount,days:Ae.days,rate:I.daily_rent||1.5,amount:Ae.rent,causeType:Ae.causeType,txnQty:Ae.txnQty!==void 0&&Ae.txnQty!==null?Ae.txnQty:0,udharQty:Ae.udharQty,jamaQty:Ae.jamaQty,udharDetails:Ae.udharDetails,jamaDetails:Ae.jamaDetails})),extraCosts:(M||[]).map(Ae=>({id:Ae.id,date:Ae.date,description:Ae.note,amount:Ae.total_amount||Ae.pieces*Ae.price_per_piece,pieces:Ae.pieces,rate:Ae.price_per_piece})),discounts:($||[]).map(Ae=>({id:Ae.id,date:Ae.date,description:Ae.note,amount:Ae.total_amount||Ae.pieces*Ae.discount_per_piece})),payments:(B||[]).map(Ae=>({id:Ae.id,date:Ae.date,method:Ae.payment_method,note:Ae.note,amount:Ae.amount})),summary:{grandTotal:I.grand_total||I.total_amount||se,totalPaid:L,duePayment:I.due_payment!==void 0?I.due_payment:me,totalRent:z,totalExtraCosts:Z,discounts:q,totalUdharPlates:0,totalJamaPlates:0,netPlates:0,serviceCharge:0,advancePaid:0},mainNote:""}}catch(M){return console.error("Error details:",M),R.error("Failed to load bill details"),null}finally{x(!1)}},F=async I=>{const K=await j(I);K&&(y(K),g(!0))},D=async I=>{const K=await j(I);K&&(y(K),setTimeout(()=>{ro(I.bill_number)},1e3))},T=async I=>{if(window.confirm(`Are you sure you want to delete Bill #${I.bill_number}? This action cannot be undone.`))try{const{error:K}=await X.from("bills").delete().eq("bill_number",I.bill_number);if(K)throw K;R.success("Bill deleted successfully"),_()}catch(K){console.error("Error deleting bill:",K),R.error("Failed to delete bill")}},G=I=>{const K=encodeURIComponent(I.bill_number);t(`/billing/create/${I.client_id}?edit=${K}`)};return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(xr,{}),a.jsx("main",{className:"flex-1 w-full ml-0 overflow-y-auto pt-14 sm:pt-0 lg:ml-64 h-[100dvh]",children:a.jsxs("div",{className:"flex flex-col gap-3 sm:gap-6 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"hidden sm:flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bill Book"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and view all generated bills"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>t("/payments"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[a.jsx(sD,{className:"w-4 h-4"}),"Payments"]}),a.jsx("button",{onClick:()=>_(!0),className:`p-2 rounded-full hover:bg-gray-100 transition-colors ${i?"animate-spin":""}`,children:a.jsx($i,{className:"w-5 h-5 text-gray-600"})})]})]}),a.jsxs("div",{className:"flex flex-row gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ds,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),a.jsx("input",{type:"text",value:l,onChange:I=>u(I.target.value),placeholder:"Search bills by number, client, or site...",className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none shadow-sm"})]}),a.jsxs("div",{className:"relative sort-menu-container sm:w-48",children:[a.jsx("button",{onClick:()=>m(!h),className:"w-full flex items-center justify-between px-2 sm:px-4 py-2.5 bg-white border border-gray-200 rounded-xl shadow-sm hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bu,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 truncate hidden sm:block",children:N(c)})]})}),h&&a.jsx("div",{className:"absolute right-0 z-10 w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-lg shadow-gray-200/50 py-1",children:["dateNewOld","dateOldNew","amountHighLow","amountLowHigh"].map(I=>a.jsx("button",{onClick:()=>{d(I),m(!1)},className:`w-full px-4 py-2.5 text-left text-sm transition-colors flex items-center gap-2
                        ${c===I?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}
                      `,children:N(I)},I))})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 px-1",children:[a.jsxs("span",{className:"hidden sm:inline",children:["Showing ",C.length," bills"]}),l&&a.jsx("button",{onClick:()=>u(""),className:"text-blue-600 font-medium hover:underline",children:"Clear Search"})]}),s&&!i?a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(I=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl h-48 animate-pulse"},I))}):C.length===0?a.jsxs("div",{className:"text-center py-12 bg-white border border-gray-200 rounded-2xl border-dashed",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(lt,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No bills found"}),a.jsx("p",{className:"text-gray-500",children:l?"Try adjusting your search terms":"Generate your first bill to see it here"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-20",children:C.map((I,K)=>a.jsx(kj,{bill:I,t:e,onView:F,onDownload:D,onDelete:T,onEdit:G},I.bill_number||`bill-${K}`))})]})}),a.jsx(Zt,{}),f&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl flex flex-col items-center",children:[a.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),a.jsx("p",{className:"text-gray-900 font-medium",children:"Loading details..."})]})}),w&&p&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-75 flex items-center justify-center p-4",children:a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-5xl h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 truncate pr-2",children:["View Bill: ",p.billDetails.billNumber]}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsxs("button",{onClick:()=>{setTimeout(()=>{ro(p.billDetails.billNumber)},500)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg flex items-center gap-1",children:[a.jsx(Vr,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Download"})]}),a.jsx("button",{onClick:()=>g(!1),className:"p-2 text-gray-400 hover:text-gray-500 rounded-lg hover:bg-gray-100",children:a.jsx(Bt,{className:"w-6 h-6"})})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-2 sm:p-4 bg-gray-100",children:a.jsx("div",{className:"min-w-[800px] sm:min-w-0 origin-top-left transform scale-[0.6] sm:scale-100 origin-top bg-white shadow-sm sm:shadow-none mx-auto",children:a.jsx("div",{className:"min-w-[794px]",children:a.jsx(ta,{...p})})})})]})}),p&&a.jsx("div",{id:"invoice-template",ref:b,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"794px",backgroundColor:"white"},children:a.jsx(ta,{...p})})]})}function c6(){const{t:e}=be(),t=ut(),[r,n]=v.useState("pending"),[s,A]=v.useState([]),[i,o]=v.useState(!0),[l,u]=v.useState({pending:0,collected:0}),[c,d]=v.useState(null),[h,m]=v.useState(!1),[p,y]=v.useState(!1),w=v.useRef(null),g=async()=>{o(!0);try{const{data:j,error:F}=await X.from("bills").select(`
            *,
            client:clients (
              client_name,
              client_nic_name,
              site,
              primary_phone_number
            )
          `).order("created_at",{ascending:!1});if(F)throw F;const D=j||[],T=D.reduce((I,K)=>I+(K.due_payment||0),0),G=D.reduce((I,K)=>I+(K.total_payment||0),0);u({pending:T,collected:G}),A(D)}catch(j){console.error("Error loading bills:",j),R.error("Failed to load data")}finally{o(!1)}};v.useEffect(()=>{g()},[]);const f=s.filter(j=>r==="pending"?(j.due_payment||0)>0:(j.due_payment||0)<=0),x=async j=>{var F,D,T,G,I;y(!0);try{const{data:K}=await X.from("bill_extra_costs").select("*").eq("bill_number",j.bill_number),{data:W}=await X.from("bill_discounts").select("*").eq("bill_number",j.bill_number),{data:ie}=await X.from("bill_payments").select("*").eq("bill_number",j.bill_number),{data:te}=await X.from("udhar_challans").select("*, items:udhar_items(*)").eq("client_id",j.client_id).order("udhar_date",{ascending:!0}),{data:k}=await X.from("jama_challans").select("*, items:jama_items(*)").eq("client_id",j.client_id).order("jama_date",{ascending:!0}),M=j.billing_date||j.bill_date||j.created_at,$=(K||[]).map(L=>({amount:L.total_amount||L.pieces*L.price_per_piece})),B=(W||[]).map(L=>({amount:L.total_amount||L.pieces*L.discount_per_piece})),E=(ie||[]).map(L=>({amount:L.amount})),S=mp(te||[],k||[],j.to_date||M,j.daily_rent||1.5,$,B,E,10,j.from_date);let Q;const{data:H}=await X.from("bills").select("bill_number, due_payment, to_date").eq("client_id",j.client_id).lt("to_date",j.from_date||M).order("to_date",{ascending:!1}).limit(1);if(H&&H.length>0){const L=H[0];(L.due_payment||0)>0&&(Q={billNumber:L.bill_number,amount:L.due_payment})}const U=j.total_rent_amount||S.billingPeriods.totalRent||0,V=j.total_extra_cost||(K||[]).reduce((L,ee)=>L+(ee.total_amount||ee.pieces*ee.price_per_piece),0),Y=j.total_discount||(W||[]).reduce((L,ee)=>L+(ee.total_amount||ee.pieces*ee.discount_per_piece),0),O=j.total_payment||(ie||[]).reduce((L,ee)=>L+ee.amount,0),P=(Q==null?void 0:Q.amount)||0,z=U+V+P,Z=z-Y-O;return{companyDetails:{name:"Nilkanth Plate Depo",address:"10, Ajmaldham Society, Simada Gam, Surat.",phone:"93287 28228"},billDetails:{billNumber:j.bill_number,billDate:M,fromDate:j.from_date||te&&((F=te[0])==null?void 0:F.udhar_date)||M,toDate:j.to_date||M,dailyRent:j.daily_rent},clientDetails:{name:(D=j.client)==null?void 0:D.client_name,nicName:(T=j.client)==null?void 0:T.client_nic_name,site:(G=j.client)==null?void 0:G.site,phone:(I=j.client)==null?void 0:I.primary_phone_number},previousBill:Q,rentalCharges:S.billingPeriods.periods.map(L=>({size:"All",startDate:L.startDate,endDate:Tc(Tt(L.endDate),1).toISOString(),pieces:L.plateCount,days:L.days,rate:j.daily_rent||1.5,amount:L.rent,causeType:L.causeType,txnQty:L.txnQty!==void 0&&L.txnQty!==null?L.txnQty:0})),extraCosts:(K||[]).map(L=>({id:L.id,date:L.date,description:L.note,amount:L.total_amount||L.pieces*L.price_per_piece,pieces:L.pieces,rate:L.price_per_piece})),discounts:(W||[]).map(L=>({id:L.id,date:L.date,description:L.note,amount:L.total_amount||L.pieces*L.discount_per_piece})),payments:(ie||[]).map(L=>({id:L.id,date:L.date,method:L.payment_method,note:L.note,amount:L.amount})),summary:{grandTotal:j.grand_total||j.total_amount||z,totalPaid:O,duePayment:j.due_payment!==void 0?j.due_payment:Z,totalRent:U,totalExtraCosts:V,discounts:Y,totalUdharPlates:0,totalJamaPlates:0,netPlates:0,serviceCharge:0,advancePaid:0},mainNote:""}}catch(K){return console.error("Error details:",K),R.error("Failed to load bill details"),null}finally{y(!1)}},b=async j=>{const F=await x(j);F&&(d(F),m(!0))},_=async j=>{const F=await x(j);F&&(d(F),setTimeout(()=>{ro(j.bill_number)},1e3))},C=async j=>{if(window.confirm(`Are you sure you want to delete Bill #${j.bill_number}? This action cannot be undone.`))try{const{error:F}=await X.from("bills").delete().eq("bill_number",j.bill_number);if(F)throw F;R.success("Bill deleted successfully"),g()}catch(F){console.error("Error deleting bill:",F),R.error("Failed to delete bill")}},N=j=>{const F=encodeURIComponent(j.bill_number);t(`/billing/create/${j.client_id}?edit=${F}`)};return a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(xr,{}),a.jsx("main",{className:"flex-1 w-full ml-0 overflow-y-auto pt-14 sm:pt-0 lg:ml-64 h-[100dvh]",children:a.jsxs("div",{className:"flex flex-col gap-3 sm:gap-6 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>t("/bill-book"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Bill Book",children:a.jsx(An,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payments Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Overview of pending and collected payments"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("button",{onClick:()=>n("pending"),className:`group relative overflow-hidden rounded-2xl p-6 text-white transition-all transform active:scale-[0.98]
                ${r==="pending"?"bg-gradient-to-br from-red-500 to-red-600 shadow-xl ring-2 ring-offset-2 ring-red-500 scale-[1.01]":"bg-gradient-to-br from-red-400 to-red-500 shadow-md opacity-90 hover:opacity-100 hover:shadow-lg"}`,children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mt-8 -mr-8 bg-white rounded-full opacity-10 group-hover:scale-110 transition-transform"}),a.jsxs("div",{className:"relative flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-red-100 font-medium mb-1",children:"Total Pending"}),a.jsxs("h3",{className:"text-3xl font-bold",children:["",l.pending.toLocaleString("en-IN")]})]}),a.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-xl backdrop-blur-sm",children:a.jsx(Fc,{className:"w-6 h-6 text-white"})})]}),a.jsxs("div",{className:"mt-4 flex items-center text-sm text-red-100",children:[a.jsx("span",{children:"View outstanding bills"}),a.jsx(Uc,{className:`ml-2 w-4 h-4 transition-transform ${r==="pending"?"rotate-45":""}`})]})]}),a.jsxs("button",{onClick:()=>n("cleared"),className:`group relative overflow-hidden rounded-2xl p-6 text-white transition-all transform active:scale-[0.98]
                ${r==="cleared"?"bg-gradient-to-br from-green-500 to-green-600 shadow-xl ring-2 ring-offset-2 ring-green-500 scale-[1.01]":"bg-gradient-to-br from-green-400 to-green-500 shadow-md opacity-90 hover:opacity-100 hover:shadow-lg"}`,children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mt-8 -mr-8 bg-white rounded-full opacity-10 group-hover:scale-110 transition-transform"}),a.jsxs("div",{className:"relative flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100 font-medium mb-1",children:"Total Collected"}),a.jsxs("h3",{className:"text-3xl font-bold",children:["",l.collected.toLocaleString("en-IN")]})]}),a.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-xl backdrop-blur-sm",children:a.jsx(X_,{className:"w-6 h-6 text-white"})})]}),a.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-100",children:[a.jsx("span",{children:"View corrected history"}),a.jsx(Uc,{className:`ml-2 w-4 h-4 transition-transform ${r==="cleared"?"rotate-45":""}`})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-4 mb-2",children:[a.jsx("h2",{className:`text-lg font-bold ${r==="pending"?"text-red-600":"text-green-600"}`,children:r==="pending"?"Pending Bills":"Cleared History"}),a.jsx("div",{className:"flex-1 h-px bg-gray-200"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[f.length," ",f.length===1?"bill":"bills"]})]}),i?a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(j=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl h-48 animate-pulse"},j))}):f.length===0?a.jsxs("div",{className:"text-center py-12 bg-white border border-gray-200 rounded-2xl border-dashed",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:r==="pending"?a.jsx(Fc,{className:"w-8 h-8 text-red-400"}):a.jsx(ss,{className:"w-8 h-8 text-green-400"})}),a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:["No ",r," payments found"]}),a.jsx("p",{className:"text-gray-500",children:r==="pending"?"Great job! All bills are paid.":"No payment history found yet."})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-20",children:f.map((j,F)=>a.jsx(kj,{bill:j,t:e,onView:b,onDownload:_,onDelete:C,onEdit:N},j.bill_number||`bill-${F}`))})]})}),a.jsx(Zt,{}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl flex flex-col items-center",children:[a.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),a.jsx("p",{className:"text-gray-900 font-medium",children:"Loading details..."})]})}),h&&c&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-75 flex items-center justify-center p-4",children:a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-5xl h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 truncate pr-2",children:["View Bill: ",c.billDetails.billNumber]}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsxs("button",{onClick:()=>{setTimeout(()=>{ro(c.billDetails.billNumber)},500)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg flex items-center gap-1",children:[a.jsx(Vr,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Download"})]}),a.jsx("button",{onClick:()=>m(!1),className:"p-2 text-gray-400 hover:text-gray-500 rounded-lg hover:bg-gray-100",children:a.jsx(Bt,{className:"w-6 h-6"})})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-2 sm:p-4 bg-gray-100",children:a.jsx("div",{className:"min-w-[800px] sm:min-w-0 origin-top-left transform scale-[0.6] sm:scale-100 origin-top bg-white shadow-sm sm:shadow-none mx-auto",children:a.jsx("div",{className:"min-w-[794px]",children:a.jsx(ta,{...c})})})})]})}),c&&a.jsx("div",{id:"invoice-template",ref:w,style:{position:"absolute",top:"-9999px",left:"-9999px",width:"794px",backgroundColor:"white"},children:a.jsx(ta,{...c})})]})}const tr=({children:e})=>{const{isAuthenticated:t,loading:r}=mu();return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 rounded-full border-t-transparent animate-spin"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(iB,{to:"/login"})},u6=({children:e})=>{const{isAuthenticated:t,loading:r}=mu();return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 rounded-full border-t-transparent animate-spin"})}):t?a.jsx(iB,{to:"/dashboard"}):a.jsx(a.Fragment,{children:e})};function d6(){return a.jsx(AS,{children:a.jsx(aS,{children:a.jsx(bU,{children:a.jsxs(YQ,{children:[a.jsx(ft,{path:"/",element:a.jsx(u6,{children:a.jsx(AD,{})})}),a.jsx(ft,{path:"/login",element:a.jsx(GD,{})}),a.jsx(ft,{path:"/dashboard",element:a.jsx(tr,{children:a.jsx(dP,{})})}),a.jsx(ft,{path:"/bill-book",element:a.jsx(tr,{children:a.jsx(l6,{})})}),a.jsx(ft,{path:"/payments",element:a.jsx(tr,{children:a.jsx(c6,{})})}),a.jsx(ft,{path:"/clients",element:a.jsx(tr,{children:a.jsx(fP,{})})}),a.jsx(ft,{path:"/udhar-challan",element:a.jsx(tr,{children:a.jsx(pP,{})})}),a.jsx(ft,{path:"/jama-challan",element:a.jsx(tr,{children:a.jsx(wP,{})})}),a.jsx(ft,{path:"/stock",element:a.jsx(tr,{children:a.jsx(vP,{})})}),a.jsx(ft,{path:"/stock-history",element:a.jsx(tr,{children:a.jsx(bP,{})})}),a.jsx(ft,{path:"/challan-book",element:a.jsx(tr,{children:a.jsx(CP,{})})}),a.jsx(ft,{path:"/client-ledger",element:a.jsx(tr,{children:a.jsx(EP,{})})}),a.jsxs(ft,{path:"/billing",children:[a.jsx(ft,{index:!0,element:a.jsx(tr,{children:a.jsx(UP,{})})}),a.jsx(ft,{path:"create/:clientId",element:a.jsx(tr,{children:a.jsx(o6,{})})})]})]})})})})}ig(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx(d6,{})}));
